(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{32092:function(t,n,r){"use strict";r.d(n,{Z:function(){return useCallbackRef}});var i=r(67294);function useCallbackRef(){return(0,i.useState)(null)}},51176:function(t,n,r){"use strict";r.d(n,{Z:function(){return useEventCallback}});var i=r(67294),esm_useCommittedRef=function(t){var n=(0,i.useRef)(t);return(0,i.useEffect)(function(){n.current=t},[t]),n};function useEventCallback(t){var n=esm_useCommittedRef(t);return(0,i.useCallback)(function(){return n.current&&n.current.apply(n,arguments)},[n])}},99585:function(t,n,r){"use strict";var i=r(67294),o=void 0!==r.g&&r.g.navigator&&"ReactNative"===r.g.navigator.product,s="undefined"!=typeof document;n.Z=s||o?i.useLayoutEffect:i.useEffect},35654:function(t,n,r){"use strict";var i=r(67294),toFnRef=function(t){return t&&"function"!=typeof t?function(n){t.current=n}:t};n.Z=function(t,n){return(0,i.useMemo)(function(){var r,i;return r=toFnRef(t),i=toFnRef(n),function(t){r&&r(t),i&&i(t)}},[t,n])}},6454:function(t,n,r){"use strict";r.d(n,{Z:function(){return useMounted}});var i=r(67294);function useMounted(){var t=(0,i.useRef)(!0),n=(0,i.useRef)(function(){return t.current});return(0,i.useEffect)(function(){return t.current=!0,function(){t.current=!1}},[]),n.current}},76852:function(t,n,r){"use strict";r.d(n,{Z:function(){return useWillUnmount}});var i=r(67294);function useWillUnmount(t){var n,r=((n=(0,i.useRef)(t)).current=t,n);(0,i.useEffect)(function(){return function(){return r.current()}},[])}},722:function(t,n,r){"use strict";r.d(n,{sD:function(){return renderTransition}});var i=r(35654),o=r(51176),s=r(99585),a=r(67294),esm_NoopTransition=function({children:t,in:n,onExited:r,mountOnEnter:s,unmountOnExit:l}){let c=(0,a.useRef)(null),u=(0,a.useRef)(n),d=(0,o.Z)(r);(0,a.useEffect)(()=>{n?u.current=!0:d(c.current)},[n,d]);let p=(0,i.Z)(c,t.ref),m=(0,a.cloneElement)(t,{ref:p});return n?m:l||!u.current&&s?null:m},l=r(85893);function ImperativeTransition({children:t,in:n,onExited:r,onEntered:l,transition:c}){let[u,d]=(0,a.useState)(!n);n&&u&&d(!1);let p=function({in:t,onTransition:n}){let r=(0,a.useRef)(null),i=(0,a.useRef)(!0),l=(0,o.Z)(n);return(0,s.Z)(()=>{if(!r.current)return;let n=!1;return l({in:t,element:r.current,initial:i.current,isStale:()=>n}),()=>{n=!0}},[t,l]),(0,s.Z)(()=>(i.current=!1,()=>{i.current=!0}),[]),r}({in:!!n,onTransition:t=>{Promise.resolve(c(t)).then(()=>{t.isStale()||(t.in?null==l||l(t.element,t.initial):(d(!0),null==r||r(t.element)))},n=>{throw t.in||d(!0),n})}}),m=(0,i.Z)(p,t.ref);return u&&!n?null:(0,a.cloneElement)(t,{ref:m})}function renderTransition(t,n,r){return t?(0,l.jsx)(t,Object.assign({},r)):n?(0,l.jsx)(ImperativeTransition,Object.assign({},r,{transition:n})):(0,l.jsx)(esm_NoopTransition,Object.assign({},r))}},54194:function(t,n,r){"use strict";r.d(n,{Z:function(){return useWaitForDOMRef}});var i=r(67216),o=r(23004),s=r(67294),a=r(12963);let resolveContainerRef=(t,n)=>o.Z?null==t?(n||(0,i.Z)()).body:("function"==typeof t&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect))?t:null:null;function useWaitForDOMRef(t,n){let r=(0,a.Z)(),[i,o]=(0,s.useState)(()=>resolveContainerRef(t,null==r?void 0:r.document));if(!i){let n=resolveContainerRef(t);n&&o(n)}return(0,s.useEffect)(()=>{n&&i&&n(i)},[n,i]),(0,s.useEffect)(()=>{let n=resolveContainerRef(t);n!==i&&o(n)},[t,i]),i}},12963:function(t,n,r){"use strict";r.d(n,{Z:function(){return useWindow}});var i=r(67294),o=r(23004);let s=(0,i.createContext)(o.Z?window:void 0);function useWindow(){return(0,i.useContext)(s)}s.Provider},96899:function(t,n,r){"use strict";function isEscKey(t){return"Escape"===t.code||27===t.keyCode}r.d(n,{k:function(){return isEscKey}})},51131:function(t,n,r){"use strict";r.d(n,{J:function(){return i}});let i="production"},71195:function(t,n,r){"use strict";r.d(n,{RP:function(){return function notifyEventProcessors(t,n,r,i=0){return new o.cW((o,l)=>{let c=t[i];if(null===n||"function"!=typeof c)o(n);else{let u=c({...n},r);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.id&&null===u&&s.kg.log(`Event processor "${c.id}" dropped event`),(0,a.J8)(u)?u.then(n=>notifyEventProcessors(t,n,r,i+1).then(o)).then(null,l):notifyEventProcessors(t,u,r,i+1).then(o).then(null,l)}})}},cc:function(){return addGlobalEventProcessor},fH:function(){return getGlobalEventProcessors}});var i=r(71235),o=r(96893),s=r(12343),a=r(67597);function getGlobalEventProcessors(){return(0,i.YO)("globalEventProcessors",()=>[])}function addGlobalEventProcessor(t){getGlobalEventProcessors().push(t)}},64487:function(t,n,r){"use strict";r.d(n,{$e:function(){return withScope},Tb:function(){return captureException},e:function(){return configureScope},uT:function(){return captureMessage},v:function(){return setContext}});var i=r(95659);function captureException(t,n){return(0,i.Gd)().captureException(t,{captureContext:n})}function captureMessage(t,n){let r="string"==typeof n?n:void 0,o="string"!=typeof n?{captureContext:n}:void 0;return(0,i.Gd)().captureMessage(t,r,o)}function configureScope(t){(0,i.Gd)().configureScope(t)}function setContext(t,n){(0,i.Gd)().setContext(t,n)}function withScope(t){(0,i.Gd)().withScope(t)}},95659:function(t,n,r){"use strict";r.d(n,{Gd:function(){return getCurrentHub},cu:function(){return getMainCarrier}});var i=r(62844),o=r(21170),s=r(12343),a=r(71235),l=r(51131),c=r(10350),u=r(9015);let Hub=class Hub{constructor(t,n=new c.s,r=4){this._version=r,this._stack=[{scope:n}],t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){let n=this.getStackTop();n.client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){let t=c.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(t){let n=this.pushScope();try{t(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){let r=this._lastEventId=n&&n.event_id?n.event_id:(0,i.DM)(),o=Error("Sentry syntheticException");return this._withClient((i,s)=>{i.captureException(t,{originalException:t,syntheticException:o,...n,event_id:r},s)}),r}captureMessage(t,n,r){let o=this._lastEventId=r&&r.event_id?r.event_id:(0,i.DM)(),s=Error(t);return this._withClient((i,a)=>{i.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:o},a)}),o}captureEvent(t,n){let r=n&&n.event_id?n.event_id:(0,i.DM)();return t.type||(this._lastEventId=r),this._withClient((i,o)=>{i.captureEvent(t,{...n,event_id:r},o)}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){let{scope:r,client:i}=this.getStackTop();if(!i)return;let{beforeBreadcrumb:a=null,maxBreadcrumbs:l=100}=i.getOptions&&i.getOptions()||{};if(l<=0)return;let c=(0,o.yW)(),u={timestamp:c,...t},d=a?(0,s.Cf)(()=>a(u,n)):u;null!==d&&(i.emit&&i.emit("beforeAddBreadcrumb",d,n),r.addBreadcrumb(d,l))}setUser(t){this.getScope().setUser(t)}setTags(t){this.getScope().setTags(t)}setExtras(t){this.getScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n)}configureScope(t){let{scope:n,client:r}=this.getStackTop();r&&t(n)}run(t){let n=makeMain(this);try{t(this)}finally{makeMain(n)}}getIntegration(t){let n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch(n){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){let r=this._callExtensionMethod("startTransaction",t,n);if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&!r){let t=this.getClient();t?console.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):console.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){let t=this.getStackTop(),n=t.scope,r=n.getSession();r&&(0,u.RJ)(r),this._sendSessionUpdate(),n.setSession()}startSession(t){let{scope:n,client:r}=this.getStackTop(),{release:i,environment:o=l.J}=r&&r.getOptions()||{},{userAgent:s}=a.n2.navigator||{},c=(0,u.Hv)({release:i,environment:o,user:n.getUser(),...s&&{userAgent:s},...t}),d=n.getSession&&n.getSession();return d&&"ok"===d.status&&(0,u.CT)(d,{status:"exited"}),this.endSession(),n.setSession(c),c}shouldSendDefaultPii(){let t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){let{scope:t,client:n}=this.getStackTop(),r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_withClient(t){let{scope:n,client:r}=this.getStackTop();r&&t(r,n)}_callExtensionMethod(t,...n){let r=getMainCarrier(),i=r.__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[t])return i.extensions[t].apply(this,n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn(`Extension method ${t} couldn't be found, doing nothing.`)}};function getMainCarrier(){return a.n2.__SENTRY__=a.n2.__SENTRY__||{extensions:{},hub:void 0},a.n2}function makeMain(t){let n=getMainCarrier(),r=getHubFromCarrier(n);return setHubOnCarrier(n,t),r}function getCurrentHub(){let t=getMainCarrier();if(t.__SENTRY__&&t.__SENTRY__.acs){let n=t.__SENTRY__.acs.getCurrentHub();if(n)return n}return function(t=getMainCarrier()){return(!(t&&t.__SENTRY__&&t.__SENTRY__.hub)||getHubFromCarrier(t).isOlderThan(4))&&setHubOnCarrier(t,new Hub),getHubFromCarrier(t)}(t)}function getHubFromCarrier(t){return(0,a.YO)("hub",()=>new Hub,t)}function setHubOnCarrier(t,n){if(!t)return!1;let r=t.__SENTRY__=t.__SENTRY__||{};return r.hub=n,!0}},10350:function(t,n,r){"use strict";r.d(n,{s:function(){return Scope}});var i=r(67597),o=r(21170),s=r(62844),a=r(71195),l=r(9015);let Scope=class Scope{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=generatePropagationContext()}static clone(t){let n=new Scope;return t&&(n._breadcrumbs=[...t._breadcrumbs],n._tags={...t._tags},n._extra={...t._extra},n._contexts={...t._contexts},n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=[...t._eventProcessors],n._requestSession=t._requestSession,n._attachments=[...t._attachments],n._sdkProcessingMetadata={...t._sdkProcessingMetadata},n._propagationContext={...t._propagationContext}),n}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&(0,l.CT)(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return null===n?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if("function"==typeof t){let n=t(this);return n instanceof Scope?n:this}return t instanceof Scope?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession),t._propagationContext&&(this._propagationContext=t._propagationContext)):(0,i.PO)(t)&&(this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=generatePropagationContext(),this}addBreadcrumb(t,n){let r="number"==typeof n?n:100;if(r<=0)return this;let i={timestamp:(0,o.yW)(),...t},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,n={},r){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};let n=this._span.transaction;if(n){t.sdkProcessingMetadata={dynamicSamplingContext:n.getDynamicSamplingContext(),...t.sdkProcessingMetadata};let r=n.name;r&&(t.tags={transaction:r,...t.tags})}}this._applyFingerprint(t);let i=this._getBreadcrumbs(),o=[...t.breadcrumbs||[],...i];return t.breadcrumbs=o.length>0?o:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},(0,a.RP)([...r||[],...(0,a.fH)(),...this._eventProcessors],t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}_getBreadcrumbs(){return this._breadcrumbs}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?(0,s.lE)(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}};function generatePropagationContext(){return{traceId:(0,s.DM)(),spanId:(0,s.DM)().substring(16)}}},9015:function(t,n,r){"use strict";r.d(n,{CT:function(){return updateSession},Hv:function(){return makeSession},RJ:function(){return closeSession}});var i=r(21170),o=r(62844),s=r(20535);function makeSession(t){let n=(0,i.ph)(),r={sid:(0,o.DM)(),init:!0,timestamp:n,started:n,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>(0,s.Jr)({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:"number"==typeof r.did||"string"==typeof r.did?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})};return t&&updateSession(r,t),r}function updateSession(t,n={}){if(!n.user||(!t.ipAddress&&n.user.ip_address&&(t.ipAddress=n.user.ip_address),t.did||n.did||(t.did=n.user.id||n.user.email||n.user.username)),t.timestamp=n.timestamp||(0,i.ph)(),n.abnormal_mechanism&&(t.abnormal_mechanism=n.abnormal_mechanism),n.ignoreDuration&&(t.ignoreDuration=n.ignoreDuration),n.sid&&(t.sid=32===n.sid.length?n.sid:(0,o.DM)()),void 0!==n.init&&(t.init=n.init),!t.did&&n.did&&(t.did=`${n.did}`),"number"==typeof n.started&&(t.started=n.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof n.duration)t.duration=n.duration;else{let n=t.timestamp-t.started;t.duration=n>=0?n:0}n.release&&(t.release=n.release),n.environment&&(t.environment=n.environment),!t.ipAddress&&n.ipAddress&&(t.ipAddress=n.ipAddress),!t.userAgent&&n.userAgent&&(t.userAgent=n.userAgent),"number"==typeof n.errors&&(t.errors=n.errors),n.status&&(t.status=n.status)}function closeSession(t,n){let r={};n?r={status:n}:"ok"===t.status&&(r={status:"exited"}),updateSession(t,r)}},58464:function(t,n,r){"use strict";r.d(n,{Rt:function(){return htmlTreeAsString},l4:function(){return getLocationHref},qT:function(){return getDomElement}});var i=r(67597),o=r(71235);let s=(0,o.Rf)();function htmlTreeAsString(t,n={}){if(!t)return"<unknown>";try{let r,o=t,s=[],a=0,l=0,c=Array.isArray(n)?n:n.keyAttrs,u=!Array.isArray(n)&&n.maxStringLength||80;for(;o&&a++<5&&(r=function(t,n){let r,o,s,a,l;let c=[];if(!t||!t.tagName)return"";c.push(t.tagName.toLowerCase());let u=n&&n.length?n.filter(n=>t.getAttribute(n)).map(n=>[n,t.getAttribute(n)]):null;if(u&&u.length)u.forEach(t=>{c.push(`[${t[0]}="${t[1]}"]`)});else if(t.id&&c.push(`#${t.id}`),(r=t.className)&&(0,i.HD)(r))for(l=0,o=r.split(/\s+/);l<o.length;l++)c.push(`.${o[l]}`);let d=["aria-label","type","name","title","alt"];for(l=0;l<d.length;l++)s=d[l],(a=t.getAttribute(s))&&c.push(`[${s}="${a}"]`);return c.join("")}(o,c),"html"!==r&&(!(a>1)||!(l+3*s.length+r.length>=u)));)s.push(r),l+=r.length,o=o.parentNode;return s.reverse().join(" > ")}catch(t){return"<unknown>"}}function getLocationHref(){try{return s.document.location.href}catch(t){return""}}function getDomElement(t){return s.document&&s.document.querySelector?s.document.querySelector(t):null}},68518:function(t,n,r){"use strict";function isBrowserBundle(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function getSDKSource(){return"npm"}r.d(n,{S:function(){return getSDKSource},n:function(){return isBrowserBundle}})},67597:function(t,n,r){"use strict";r.d(n,{Cy:function(){return isSyntheticEvent},HD:function(){return isString},J8:function(){return isThenable},Kj:function(){return isRegExp},PO:function(){return isPlainObject},TX:function(){return isDOMError},V9:function(){return isInstanceOf},VW:function(){return isErrorEvent},VZ:function(){return isError},cO:function(){return isEvent},fm:function(){return isDOMException},i2:function(){return isNaN},kK:function(){return isElement},pt:function(){return isPrimitive},y1:function(){return isVueViewModel}});let i=Object.prototype.toString;function isError(t){switch(i.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return isInstanceOf(t,Error)}}function isBuiltin(t,n){return i.call(t)===`[object ${n}]`}function isErrorEvent(t){return isBuiltin(t,"ErrorEvent")}function isDOMError(t){return isBuiltin(t,"DOMError")}function isDOMException(t){return isBuiltin(t,"DOMException")}function isString(t){return isBuiltin(t,"String")}function isPrimitive(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function isPlainObject(t){return isBuiltin(t,"Object")}function isEvent(t){return"undefined"!=typeof Event&&isInstanceOf(t,Event)}function isElement(t){return"undefined"!=typeof Element&&isInstanceOf(t,Element)}function isRegExp(t){return isBuiltin(t,"RegExp")}function isThenable(t){return!!(t&&t.then&&"function"==typeof t.then)}function isSyntheticEvent(t){return isPlainObject(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function isNaN(t){return"number"==typeof t&&t!=t}function isInstanceOf(t,n){try{return t instanceof n}catch(t){return!1}}function isVueViewModel(t){return!!("object"==typeof t&&null!==t&&(t.__isVue||t._isVue))}},12343:function(t,n,r){"use strict";r.d(n,{Cf:function(){return consoleSandbox},LD:function(){return s},RU:function(){return o},kg:function(){return a}});var i=r(71235);let o=["debug","info","warn","error","log","assert","trace"],s={};function consoleSandbox(t){if(!("console"in i.n2))return t();let n=i.n2.console,r={},o=Object.keys(s);o.forEach(t=>{let i=s[t];r[t]=n[t],n[t]=i});try{return t()}finally{o.forEach(t=>{n[t]=r[t]})}}let a=function(){let t=!1,n={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?o.forEach(r=>{n[r]=(...n)=>{t&&consoleSandbox(()=>{i.n2.console[r](`Sentry Logger [${r}]:`,...n)})}}):o.forEach(t=>{n[t]=()=>void 0}),n}()},62844:function(t,n,r){"use strict";r.d(n,{DM:function(){return uuid4},Db:function(){return addExceptionTypeValue},EG:function(){return addExceptionMechanism},YO:function(){return checkOrSetAlreadyCaught},jH:function(){return getEventDescription},lE:function(){return arrayify}});var i=r(20535),o=r(71235);function uuid4(){let t=o.n2,n=t.crypto||t.msCrypto,getRandomByte=()=>16*Math.random();try{if(n&&n.randomUUID)return n.randomUUID().replace(/-/g,"");n&&n.getRandomValues&&(getRandomByte=()=>n.getRandomValues(new Uint8Array(1))[0])}catch(t){}return"10000000100040008000100000000000".replace(/[018]/g,t=>(t^(15&getRandomByte())>>t/4).toString(16))}function getFirstException(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function getEventDescription(t){let{message:n,event_id:r}=t;if(n)return n;let i=getFirstException(t);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||r||"<unknown>":r||"<unknown>"}function addExceptionTypeValue(t,n,r){let i=t.exception=t.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{};s.value||(s.value=n||""),s.type||(s.type=r||"Error")}function addExceptionMechanism(t,n){let r=getFirstException(t);if(!r)return;let i=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...i,...n},n&&"data"in n){let t={...i&&i.data,...n.data};r.mechanism.data=t}}function checkOrSetAlreadyCaught(t){if(t&&t.__sentry_captured__)return!0;try{(0,i.xp)(t,"__sentry_captured__",!0)}catch(t){}return!1}function arrayify(t){return Array.isArray(t)?t:[t]}},61422:function(t,n,r){"use strict";r.d(n,{KV:function(){return isNodeEnv},l$:function(){return dynamicRequire}});var i=r(68518);t=r.hmd(t);var o=r(83454);function isNodeEnv(){return!(0,i.n)()&&"[object process]"===Object.prototype.toString.call(void 0!==o?o:0)}function dynamicRequire(t,n){return t.require(n)}},20535:function(t,n,r){"use strict";r.d(n,{$Q:function(){return markFunctionWrapped},HK:function(){return getOriginalFunction},Jr:function(){return dropUndefinedKeys},Sh:function(){return convertToPlainObject},_j:function(){return urlEncode},hl:function(){return fill},xp:function(){return addNonEnumerableProperty},zf:function(){return extractExceptionKeysForMessage}});var i=r(58464),o=r(67597),s=r(12343),a=r(57321);function fill(t,n,r){if(!(n in t))return;let i=t[n],o=r(i);"function"==typeof o&&markFunctionWrapped(o,i),t[n]=o}function addNonEnumerableProperty(t,n,r){try{Object.defineProperty(t,n,{value:r,writable:!0,configurable:!0})}catch(r){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.log(`Failed to add non-enumerable property "${n}" to object`,t)}}function markFunctionWrapped(t,n){try{let r=n.prototype||{};t.prototype=n.prototype=r,addNonEnumerableProperty(t,"__sentry_original__",n)}catch(t){}}function getOriginalFunction(t){return t.__sentry_original__}function urlEncode(t){return Object.keys(t).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(t[n])}`).join("&")}function convertToPlainObject(t){if((0,o.VZ)(t))return{message:t.message,name:t.name,stack:t.stack,...getOwnProperties(t)};if(!(0,o.cO)(t))return t;{let n={type:t.type,target:serializeEventTarget(t.target),currentTarget:serializeEventTarget(t.currentTarget),...getOwnProperties(t)};return"undefined"!=typeof CustomEvent&&(0,o.V9)(t,CustomEvent)&&(n.detail=t.detail),n}}function serializeEventTarget(t){try{return(0,o.kK)(t)?(0,i.Rt)(t):Object.prototype.toString.call(t)}catch(t){return"<unknown>"}}function getOwnProperties(t){if("object"!=typeof t||null===t)return{};{let n={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}}function extractExceptionKeysForMessage(t,n=40){let r=Object.keys(convertToPlainObject(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=n)return(0,a.$G)(r[0],n);for(let t=r.length;t>0;t--){let i=r.slice(0,t).join(", ");if(!(i.length>n)){if(t===r.length)return i;return(0,a.$G)(i,n)}}return""}function dropUndefinedKeys(t){let n=new Map;return function _dropUndefinedKeys(t,n){if((0,o.PO)(t)){let r=n.get(t);if(void 0!==r)return r;let i={};for(let r of(n.set(t,i),Object.keys(t)))void 0!==t[r]&&(i[r]=_dropUndefinedKeys(t[r],n));return i}if(Array.isArray(t)){let r=n.get(t);if(void 0!==r)return r;let i=[];return n.set(t,i),t.forEach(t=>{i.push(_dropUndefinedKeys(t,n))}),i}return t}(t,n)}},57321:function(t,n,r){"use strict";r.d(n,{$G:function(){return truncate},U0:function(){return stringMatchesSomePattern},nK:function(){return safeJoin}});var i=r(67597);function truncate(t,n=0){return"string"!=typeof t||0===n?t:t.length<=n?t:`${t.slice(0,n)}...`}function safeJoin(t,n){if(!Array.isArray(t))return"";let r=[];for(let n=0;n<t.length;n++){let o=t[n];try{(0,i.y1)(o)?r.push("[VueViewModel]"):r.push(String(o))}catch(t){r.push("[value cannot be serialized]")}}return r.join(n)}function stringMatchesSomePattern(t,n=[],r=!1){return n.some(n=>(function(t,n,r=!1){return!!(0,i.HD)(t)&&((0,i.Kj)(n)?n.test(t):!!(0,i.HD)(n)&&(r?t===n:t.includes(n)))})(t,n,r))}},96893:function(t,n,r){"use strict";r.d(n,{$2:function(){return rejectedSyncPromise},WD:function(){return resolvedSyncPromise},cW:function(){return SyncPromise}});var i,o,s=r(67597);function resolvedSyncPromise(t){return new SyncPromise(n=>{n(t)})}function rejectedSyncPromise(t){return new SyncPromise((n,r)=>{r(t)})}(i=o||(o={}))[i.PENDING=0]="PENDING",i[i.RESOLVED=1]="RESOLVED",i[i.REJECTED=2]="REJECTED";let SyncPromise=class SyncPromise{constructor(t){SyncPromise.prototype.__init.call(this),SyncPromise.prototype.__init2.call(this),SyncPromise.prototype.__init3.call(this),SyncPromise.prototype.__init4.call(this),this._state=o.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}then(t,n){return new SyncPromise((r,i)=>{this._handlers.push([!1,n=>{if(t)try{r(t(n))}catch(t){i(t)}else r(n)},t=>{if(n)try{r(n(t))}catch(t){i(t)}else i(t)}]),this._executeHandlers()})}catch(t){return this.then(t=>t,t)}finally(t){return new SyncPromise((n,r)=>{let i,o;return this.then(n=>{o=!1,i=n,t&&t()},n=>{o=!0,i=n,t&&t()}).then(()=>{if(o){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(o.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(o.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===o.PENDING){if((0,s.J8)(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===o.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(t=>{t[0]||(this._state===o.RESOLVED&&t[1](this._value),this._state===o.REJECTED&&t[2](this._value),t[0]=!0)})}}}},21170:function(t,n,r){"use strict";r.d(n,{Z1:function(){return p},ph:function(){return d},yW:function(){return u}});var i=r(61422),o=r(71235);t=r.hmd(t);let s=(0,o.Rf)(),a={nowSeconds:()=>Date.now()/1e3},l=(0,i.KV)()?function(){try{let n=(0,i.l$)(t,"perf_hooks");return n.performance}catch(t){return}}():function(){let{performance:t}=s;if(!t||!t.now)return;let n=Date.now()-t.now();return{now:()=>t.now(),timeOrigin:n}}(),c=void 0===l?a:{nowSeconds:()=>(l.timeOrigin+l.now())/1e3},u=a.nowSeconds.bind(a),d=c.nowSeconds.bind(c),p=(()=>{let{performance:t}=s;if(!t||!t.now)return;let n=t.now(),r=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+n-r):36e5,o=t.timing&&t.timing.navigationStart,a="number"==typeof o?Math.abs(o+n-r):36e5;return i<36e5||a<36e5?i<=a?t.timeOrigin:o:r})()},71235:function(t,n,r){"use strict";function isGlobalObj(t){return t&&t.Math==Math?t:void 0}r.d(n,{Rf:function(){return getGlobalObject},YO:function(){return getGlobalSingleton},n2:function(){return i}});let i="object"==typeof globalThis&&isGlobalObj(globalThis)||"object"==typeof window&&isGlobalObj(window)||"object"==typeof self&&isGlobalObj(self)||"object"==typeof r.g&&isGlobalObj(r.g)||function(){return this}()||{};function getGlobalObject(){return i}function getGlobalSingleton(t,n,r){let o=r||i,s=o.__SENTRY__=o.__SENTRY__||{},a=s[t]||(s[t]=n());return a}},94184:function(t,n){var r;/*!
Copyright (c) 2018 Jed Watson.
Licensed under the MIT License (MIT), see
http://jedwatson.github.io/classnames
*/!function(){"use strict";var i={}.hasOwnProperty;function classNames(){for(var t=[],n=0;n<arguments.length;n++){var r=arguments[n];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)){if(r.length){var s=classNames.apply(null,r);s&&t.push(s)}}else if("object"===o){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){t.push(r.toString());continue}for(var a in r)i.call(r,a)&&r[a]&&t.push(a)}}}return t.join(" ")}t.exports?(classNames.default=classNames,t.exports=classNames):void 0!==(r=(function(){return classNames}).apply(n,[]))&&(t.exports=r)}()},58255:function(t,n,r){"use strict";r.d(n,{Z:function(){return addClass}});var i=r(11132);function addClass(t,n){t.classList?t.classList.add(n):(0,i.Z)(t,n)||("string"==typeof t.className?t.className=t.className+" "+n:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+n))}},9351:function(t,n,r){"use strict";var i=r(23004),o=!1,s=!1;try{var a={get passive(){return o=!0},get once(){return s=o=!0}};i.Z&&(window.addEventListener("test",a,a),window.removeEventListener("test",a,!0))}catch(t){}n.ZP=function(t,n,r,i){if(i&&"boolean"!=typeof i&&!s){var a=i.once,l=i.capture,c=r;!s&&a&&(c=r.__once||function onceHandler(t){this.removeEventListener(n,onceHandler,l),r.call(this,t)},r.__once=c),t.addEventListener(n,c,o?i:l)}t.addEventListener(n,r,i)}},23004:function(t,n){"use strict";n.Z=!!("undefined"!=typeof window&&window.document&&window.document.createElement)},90424:function(t,n,r){"use strict";function contains(t,n){return t.contains?t.contains(n):t.compareDocumentPosition?t===n||!!(16&t.compareDocumentPosition(n)):void 0}r.d(n,{Z:function(){return contains}})},91505:function(t,n,r){"use strict";r.d(n,{Z:function(){return css}});var i=r(67216),o=/([A-Z])/g,s=/^ms-/;function hyphenateStyleName(t){return t.replace(o,"-$1").toLowerCase().replace(s,"-ms-")}var a=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,css=function(t,n){var r,o="",s="";if("string"==typeof n)return t.style.getPropertyValue(hyphenateStyleName(n))||((r=(0,i.Z)(t))&&r.defaultView||window).getComputedStyle(t,void 0).getPropertyValue(hyphenateStyleName(n));Object.keys(n).forEach(function(r){var i=n[r];i||0===i?r&&a.test(r)?s+=r+"("+i+") ":o+=hyphenateStyleName(r)+": "+i+";":t.style.removeProperty(hyphenateStyleName(r))}),s&&(o+="transform: "+s+";"),t.style.cssText+=";"+o}},11132:function(t,n,r){"use strict";function hasClass(t,n){return t.classList?!!n&&t.classList.contains(n):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+n+" ")}r.d(n,{Z:function(){return hasClass}})},72950:function(t,n,r){"use strict";var i=r(9351),o=r(30099);n.Z=function(t,n,r,s){return(0,i.ZP)(t,n,r,s),function(){(0,o.Z)(t,n,r,s)}}},67216:function(t,n,r){"use strict";function ownerDocument(t){return t&&t.ownerDocument||document}r.d(n,{Z:function(){return ownerDocument}})},74277:function(t,n,r){"use strict";function replaceClassName(t,n){return t.replace(RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function removeClass(t,n){t.classList?t.classList.remove(n):"string"==typeof t.className?t.className=replaceClassName(t.className,n):t.setAttribute("class",replaceClassName(t.className&&t.className.baseVal||"",n))}r.d(n,{Z:function(){return removeClass}})},30099:function(t,n){"use strict";n.Z=function(t,n,r,i){var o=i&&"boolean"!=typeof i?i.capture:i;t.removeEventListener(n,r,o),r.__once&&t.removeEventListener(n,r.__once,o)}},94305:function(t,n,r){"use strict";r.d(n,{Z:function(){return transitionEnd}});var i=r(91505),o=r(72950);function transitionEnd(t,n,r,s){null==r&&(l=-1===(a=(0,i.Z)(t,"transitionDuration")||"").indexOf("ms")?1e3:1,r=parseFloat(a)*l||0);var a,l,c,u,d,p,m,_=(c=r,void 0===(u=s)&&(u=5),d=!1,p=setTimeout(function(){d||function(t,n,r,i){if(void 0===r&&(r=!1),void 0===i&&(i=!0),t){var o=document.createEvent("HTMLEvents");o.initEvent(n,r,i),t.dispatchEvent(o)}}(t,"transitionend",!0)},c+u),m=(0,o.Z)(t,"transitionend",function(){d=!0},{once:!0}),function(){clearTimeout(p),m()}),v=(0,o.Z)(t,"transitionend",n);return function(){_(),v()}}},41143:function(t){"use strict";t.exports=function(t,n,r,i,o,s,a,l){if(!t){var c;if(void 0===n)c=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,i,o,s,a,l],d=0;(c=Error(n.replace(/%s/g,function(){return u[d++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},8891:function(t){"use strict";var n,r,i,o,s,a,l,c,u,d,p,m,_,v,b,E,x,w,k={DEBUG:!1,LIB_VERSION:"2.45.0"};if("undefined"==typeof window){var T={hostname:""};E={navigator:{userAgent:""},document:{location:T,referrer:""},screen:{width:0,height:0},location:T}}else E=window;var C=Array.prototype,R=Function.prototype,M=Object.prototype,O=C.slice,I=M.toString,N=M.hasOwnProperty,D=E.console,P=E.navigator,j=E.document,A=E.opera,L=E.screen,B=P.userAgent,U=R.bind,F=C.forEach,H=C.indexOf,G=C.map,W=Array.isArray,q={},Y={trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},z={log:function(){if(k.DEBUG&&!Y.isUndefined(D)&&D)try{D.log.apply(D,arguments)}catch(t){Y.each(arguments,function(t){D.log(t)})}},warn:function(){if(k.DEBUG&&!Y.isUndefined(D)&&D){var t=["Mixpanel warning:"].concat(Y.toArray(arguments));try{D.warn.apply(D,t)}catch(n){Y.each(t,function(t){D.warn(t)})}}},error:function(){if(k.DEBUG&&!Y.isUndefined(D)&&D){var t=["Mixpanel error:"].concat(Y.toArray(arguments));try{D.error.apply(D,t)}catch(n){Y.each(t,function(t){D.error(t)})}}},critical:function(){if(!Y.isUndefined(D)&&D){var t=["Mixpanel error:"].concat(Y.toArray(arguments));try{D.error.apply(D,t)}catch(n){Y.each(t,function(t){D.error(t)})}}}},log_func_with_prefix=function(t,n){return function(){return arguments[0]="["+n+"] "+arguments[0],t.apply(z,arguments)}},console_with_prefix=function(t){return{log:log_func_with_prefix(z.log,t),error:log_func_with_prefix(z.error,t),critical:log_func_with_prefix(z.critical,t)}};Y.bind=function(t,n){var r,i;if(U&&t.bind===U)return U.apply(t,O.call(arguments,1));if(!Y.isFunction(t))throw TypeError();return r=O.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(n,r.concat(O.call(arguments)));var o={};o.prototype=t.prototype;var s=new o;o.prototype=null;var a=t.apply(s,r.concat(O.call(arguments)));return Object(a)===a?a:s}},Y.each=function(t,n,r){if(null!=t){if(F&&t.forEach===F)t.forEach(n,r);else if(t.length===+t.length){for(var i=0,o=t.length;i<o;i++)if(i in t&&n.call(r,t[i],i,t)===q)return}else for(var s in t)if(N.call(t,s)&&n.call(r,t[s],s,t)===q)return}},Y.extend=function(t){return Y.each(O.call(arguments,1),function(n){for(var r in n)void 0!==n[r]&&(t[r]=n[r])}),t},Y.isArray=W||function(t){return"[object Array]"===I.call(t)},Y.isFunction=function(t){try{return/^\s*\bfunction\b/.test(t)}catch(t){return!1}},Y.isArguments=function(t){return!!(t&&N.call(t,"callee"))},Y.toArray=function(t){return t?t.toArray?t.toArray():Y.isArray(t)||Y.isArguments(t)?O.call(t):Y.values(t):[]},Y.map=function(t,n,r){if(G&&t.map===G)return t.map(n,r);var i=[];return Y.each(t,function(t){i.push(n.call(r,t))}),i},Y.keys=function(t){var n=[];return null===t||Y.each(t,function(t,r){n[n.length]=r}),n},Y.values=function(t){var n=[];return null===t||Y.each(t,function(t){n[n.length]=t}),n},Y.include=function(t,n){var r=!1;return null===t?r:H&&t.indexOf===H?-1!=t.indexOf(n):(Y.each(t,function(t){if(r||(r=t===n))return q}),r)},Y.includes=function(t,n){return-1!==t.indexOf(n)},Y.inherit=function(t,n){return t.prototype=new n,t.prototype.constructor=t,t.superclass=n.prototype,t},Y.isObject=function(t){return t===Object(t)&&!Y.isArray(t)},Y.isEmptyObject=function(t){if(Y.isObject(t)){for(var n in t)if(N.call(t,n))return!1;return!0}return!1},Y.isUndefined=function(t){return void 0===t},Y.isString=function(t){return"[object String]"==I.call(t)},Y.isDate=function(t){return"[object Date]"==I.call(t)},Y.isNumber=function(t){return"[object Number]"==I.call(t)},Y.isElement=function(t){return!!(t&&1===t.nodeType)},Y.encodeDates=function(t){return Y.each(t,function(n,r){Y.isDate(n)?t[r]=Y.formatDate(n):Y.isObject(n)&&(t[r]=Y.encodeDates(n))}),t},Y.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},Y.formatDate=function(t){function pad(t){return t<10?"0"+t:t}return t.getUTCFullYear()+"-"+pad(t.getUTCMonth()+1)+"-"+pad(t.getUTCDate())+"T"+pad(t.getUTCHours())+":"+pad(t.getUTCMinutes())+":"+pad(t.getUTCSeconds())},Y.strip_empty_properties=function(t){var n={};return Y.each(t,function(t,r){Y.isString(t)&&t.length>0&&(n[r]=t)}),n},Y.truncate=function(t,n){var r;return"string"==typeof t?r=t.slice(0,n):Y.isArray(t)?(r=[],Y.each(t,function(t){r.push(Y.truncate(t,n))})):Y.isObject(t)?(r={},Y.each(t,function(t,i){r[i]=Y.truncate(t,n)})):r=t,r},Y.JSONEncode=function(t){var quote=function(t){var n=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return n.lastIndex=0,n.test(t)?'"'+t.replace(n,function(t){var n=r[t];return"string"==typeof n?n:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'},str=function(t,n){var r="",i=0,o="",s="",a=0,l=r,c=[],u=n[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(r+="    ",c=[],"[object Array]"===I.apply(u)){for(i=0,a=u.length;i<a;i+=1)c[i]=str(i,u)||"null";return s=0===c.length?"[]":r?"[\n"+r+c.join(",\n"+r)+"\n"+l+"]":"["+c.join(",")+"]",r=l,s}for(o in u)N.call(u,o)&&(s=str(o,u))&&c.push(quote(o)+(r?": ":":")+s);return s=0===c.length?"{}":r?"{"+c.join(",")+l+"}":"{"+c.join(",")+"}",r=l,s}};return str("",{"":t})},Y.JSONDecode=(s={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},a=function(t){var r=SyntaxError(t);throw r.at=n,r.text=i,r},l=function(t){return t&&t!==r&&a("Expected '"+t+"' instead of '"+r+"'"),r=i.charAt(n),n+=1,r},c=function(){var t,n="";for("-"===r&&(n="-",l("-"));r>="0"&&r<="9";)n+=r,l();if("."===r)for(n+=".";l()&&r>="0"&&r<="9";)n+=r;if("e"===r||"E"===r)for(n+=r,l(),("-"===r||"+"===r)&&(n+=r,l());r>="0"&&r<="9";)n+=r,l();if(isFinite(t=+n))return t;a("Bad number")},u=function(){var t,n,i,o="";if('"'===r)for(;l();){if('"'===r)return l(),o;if("\\"===r){if(l(),"u"===r){for(n=0,i=0;n<4&&isFinite(t=parseInt(l(),16));n+=1)i=16*i+t;o+=String.fromCharCode(i)}else if("string"==typeof s[r])o+=s[r];else break}else o+=r}a("Bad string")},d=function(){for(;r&&r<=" ";)l()},p=function(){switch(r){case"t":return l("t"),l("r"),l("u"),l("e"),!0;case"f":return l("f"),l("a"),l("l"),l("s"),l("e"),!1;case"n":return l("n"),l("u"),l("l"),l("l"),null}a('Unexpected "'+r+'"')},m=function(){var t=[];if("["===r){if(l("["),d(),"]"===r)return l("]"),t;for(;r;){if(t.push(o()),d(),"]"===r)return l("]"),t;l(","),d()}}a("Bad array")},_=function(){var t,n={};if("{"===r){if(l("{"),d(),"}"===r)return l("}"),n;for(;r;){if(t=u(),d(),l(":"),Object.hasOwnProperty.call(n,t)&&a('Duplicate key "'+t+'"'),n[t]=o(),d(),"}"===r)return l("}"),n;l(","),d()}}a("Bad object")},o=function(){switch(d(),r){case"{":return _();case"[":return m();case'"':return u();case"-":return c();default:return r>="0"&&r<="9"?c():p()}},function(t){var s;return i=t,n=0,r=" ",s=o(),d(),r&&a("Syntax error"),s}),Y.base64Encode=function(t){var n,r,i,o,s,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=0,c=0,u="",d=[];if(!t)return t;t=Y.utf8Encode(t);do n=(s=t.charCodeAt(l++)<<16|t.charCodeAt(l++)<<8|t.charCodeAt(l++))>>18&63,r=s>>12&63,i=s>>6&63,o=63&s,d[c++]=a.charAt(n)+a.charAt(r)+a.charAt(i)+a.charAt(o);while(l<t.length);switch(u=d.join(""),t.length%3){case 1:u=u.slice(0,-2)+"==";break;case 2:u=u.slice(0,-1)+"="}return u},Y.utf8Encode=function(t){t=(t+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var n,r,i,o="",s=0;for(i=0,n=r=0,s=t.length;i<s;i++){var a=t.charCodeAt(i),l=null;a<128?r++:l=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),null!==l&&(r>n&&(o+=t.substring(n,r)),o+=l,n=r=i+1)}return r>n&&(o+=t.substring(n,t.length)),o},Y.UUID=(v=function(){for(var t=1*new Date,n=0;t==1*new Date;)n++;return t.toString(16)+n.toString(16)},b=function(){var t,n,r=[],i=0;function xor(t,n){var i,o=0;for(i=0;i<n.length;i++)o|=r[i]<<8*i;return t^o}for(t=0;t<B.length;t++)n=B.charCodeAt(t),r.unshift(255&n),r.length>=4&&(i=xor(i,r),r=[]);return r.length>0&&(i=xor(i,r)),i.toString(16)},function(){var t=(L.height*L.width).toString(16);return v()+"-"+Math.random().toString(16).replace(".","")+"-"+b()+"-"+t+"-"+v()});var Z=["ahrefsbot","baiduspider","bingbot","bingpreview","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];Y.isBlockedUA=function(t){var n;for(n=0,t=t.toLowerCase();n<Z.length;n++)if(-1!==t.indexOf(Z[n]))return!0;return!1},Y.HTTPBuildQuery=function(t,n){var r,i,o=[];return Y.isUndefined(n)&&(n="&"),Y.each(t,function(t,n){r=encodeURIComponent(t.toString()),i=encodeURIComponent(n),o[o.length]=i+"="+r}),o.join(n)},Y.getQueryParam=function(t,n){var r="[\\?&]"+(n=n.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"))+"=([^&#]*)",i=new RegExp(r).exec(t);if(null===i||i&&"string"!=typeof i[1]&&i[1].length)return"";var o=i[1];try{o=decodeURIComponent(o)}catch(t){z.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},Y.cookie={get:function(t){for(var n=t+"=",r=j.cookie.split(";"),i=0;i<r.length;i++){for(var o=r[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return decodeURIComponent(o.substring(n.length,o.length))}return null},parse:function(t){var n;try{n=Y.JSONDecode(Y.cookie.get(t))||{}}catch(t){}return n},set_seconds:function(t,n,r,i,o,s,a){var l="",c="",u="";if(a)l="; domain="+a;else if(i){var d=extract_domain(j.location.hostname);l=d?"; domain=."+d:""}if(r){var p=new Date;p.setTime(p.getTime()+1e3*r),c="; expires="+p.toGMTString()}s&&(o=!0,u="; SameSite=None"),o&&(u+="; secure"),j.cookie=t+"="+encodeURIComponent(n)+c+"; path=/"+l+u},set:function(t,n,r,i,o,s,a){var l="",c="",u="";if(a)l="; domain="+a;else if(i){var d=extract_domain(j.location.hostname);l=d?"; domain=."+d:""}if(r){var p=new Date;p.setTime(p.getTime()+864e5*r),c="; expires="+p.toGMTString()}s&&(o=!0,u="; SameSite=None"),o&&(u+="; secure");var m=t+"="+encodeURIComponent(n)+c+"; path=/"+l+u;return j.cookie=m,m},remove:function(t,n,r){Y.cookie.set(t,"",-1,n,!1,!1,r)}};var V=null,localStorageSupported=function(t,n){if(null!==V&&!n)return V;var r=!0;try{t=t||window.localStorage;var i="__mplss_"+cheap_guid(8);t.setItem(i,"xyz"),"xyz"!==t.getItem(i)&&(r=!1),t.removeItem(i)}catch(t){r=!1}return V=r,r};Y.localStorage={is_supported:function(t){var n=localStorageSupported(null,t);return n||z.error("localStorage unsupported; falling back to cookie store"),n},error:function(t){z.error("localStorage error: "+t)},get:function(t){try{return window.localStorage.getItem(t)}catch(t){Y.localStorage.error(t)}return null},parse:function(t){try{return Y.JSONDecode(Y.localStorage.get(t))||{}}catch(t){}return null},set:function(t,n){try{window.localStorage.setItem(t,n)}catch(t){Y.localStorage.error(t)}},remove:function(t){try{window.localStorage.removeItem(t)}catch(t){Y.localStorage.error(t)}}},Y.register_event=function(){function fixEvent(t){return t&&(t.preventDefault=fixEvent.preventDefault,t.stopPropagation=fixEvent.stopPropagation),t}return fixEvent.preventDefault=function(){this.returnValue=!1},fixEvent.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,o){if(!t){z.error("No valid element provided to register_event");return}if(t.addEventListener&&!i)t.addEventListener(n,r,!!o);else{var s="on"+n,a=t[s];t[s]=function(n){if(n=n||fixEvent(window.event)){var i,o,s=!0;return Y.isFunction(a)&&(i=a(n)),o=r.call(t,n),(!1===i||!1===o)&&(s=!1),s}}}}}();var K=RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');Y.dom_query=function(){function getAllChildren(t){return t.all?t.all:t.getElementsByTagName("*")}var t=/[\t\r\n]/g;function getElementsBySelector(n){if(!j.getElementsByTagName)return[];var r=n.split(" "),i=[j];for(_=0;_<r.length;_++){if((c=r[_].replace(/^\s+/,"").replace(/\s+$/,"")).indexOf("#")>-1){d=(u=c.split("#"))[0];var o=u[1],s=j.getElementById(o);if(!s||d&&s.nodeName.toLowerCase()!=d)return[];i=[s];continue}if(c.indexOf(".")>-1){d=(u=c.split("."))[0];var a=u[1];for(d||(d="*"),p=[],m=0,v=0;v<i.length;v++)for(b=0,E="*"==d?getAllChildren(i[v]):i[v].getElementsByTagName(d);b<E.length;b++)p[m++]=E[b];for(v=0,i=[],x=0;v<p.length;v++)p[v].className&&Y.isString(p[v].className)&&(" "+p[v].className+" ").replace(t," ").indexOf(" "+a+" ")>=0&&(i[x++]=p[v]);continue}var l=c.match(K);if(l){d=l[1];var c,u,d,p,m,_,v,b,E,x,w,k=l[2],T=l[3],C=l[4];for(d||(d="*"),p=[],m=0,v=0;v<i.length;v++)for(b=0,E="*"==d?getAllChildren(i[v]):i[v].getElementsByTagName(d);b<E.length;b++)p[m++]=E[b];switch(i=[],x=0,T){case"=":w=function(t){return t.getAttribute(k)==C};break;case"~":w=function(t){return t.getAttribute(k).match(RegExp("\\b"+C+"\\b"))};break;case"|":w=function(t){return t.getAttribute(k).match(RegExp("^"+C+"-?"))};break;case"^":w=function(t){return 0===t.getAttribute(k).indexOf(C)};break;case"$":w=function(t){return t.getAttribute(k).lastIndexOf(C)==t.getAttribute(k).length-C.length};break;case"*":w=function(t){return t.getAttribute(k).indexOf(C)>-1};break;default:w=function(t){return t.getAttribute(k)}}for(v=0,i=[],x=0;v<p.length;v++)w(p[v])&&(i[x++]=p[v]);continue}for(v=0,d=c,p=[],m=0;v<i.length;v++)for(b=0,E=i[v].getElementsByTagName(d);b<E.length;b++)p[m++]=E[b];i=p}return i}return function(t){return Y.isElement(t)?[t]:Y.isObject(t)&&!Y.isUndefined(t.length)?t:getElementsBySelector.call(this,t)}}(),Y.info={campaignParams:function(){var t="",n={};return Y.each("utm_source utm_medium utm_campaign utm_content utm_term".split(" "),function(r){(t=Y.getQueryParam(j.URL,r)).length&&(n[r]=t)}),n},searchEngine:function(t){return 0===t.search("https?://(.*)google.([^/?]*)")?"google":0===t.search("https?://(.*)bing.com")?"bing":0===t.search("https?://(.*)yahoo.com")?"yahoo":0===t.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},searchInfo:function(t){var n=Y.info.searchEngine(t),r={};if(null!==n){r.$search_engine=n;var i=Y.getQueryParam(t,"yahoo"!=n?"q":"p");i.length&&(r.mp_keyword=i)}return r},browser:function(t,n,r){if(n=n||"",r||Y.includes(t," OPR/"))return Y.includes(t,"Mini")?"Opera Mini":"Opera";if(/(BlackBerry|PlayBook|BB10)/i.test(t))return"BlackBerry";if(Y.includes(t,"IEMobile")||Y.includes(t,"WPDesktop"))return"Internet Explorer Mobile";if(Y.includes(t,"SamsungBrowser/"))return"Samsung Internet";if(Y.includes(t,"Edge")||Y.includes(t,"Edg/"))return"Microsoft Edge";if(Y.includes(t,"FBIOS"))return"Facebook Mobile";if(Y.includes(t,"Chrome"))return"Chrome";else if(Y.includes(t,"CriOS"))return"Chrome iOS";else if(Y.includes(t,"UCWEB")||Y.includes(t,"UCBrowser"))return"UC Browser";else if(Y.includes(t,"FxiOS"))return"Firefox iOS";else if(Y.includes(n,"Apple"))return Y.includes(t,"Mobile")?"Mobile Safari":"Safari";else if(Y.includes(t,"Android"))return"Android Mobile";else if(Y.includes(t,"Konqueror"))return"Konqueror";else if(Y.includes(t,"Firefox"))return"Firefox";else if(Y.includes(t,"MSIE")||Y.includes(t,"Trident/"))return"Internet Explorer";else if(Y.includes(t,"Gecko"))return"Mozilla";else return""},browserVersion:function(t,n,r){var i={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/}[Y.info.browser(t,n,r)];if(void 0===i)return null;var o=t.match(i);return o?parseFloat(o[o.length-2]):null},os:function(){if(/Windows/i.test(B))return/Phone/.test(B)||/WPDesktop/.test(B)?"Windows Phone":"Windows";if(/(iPhone|iPad|iPod)/.test(B))return"iOS";if(/Android/.test(B))return"Android";if(/(BlackBerry|PlayBook|BB10)/i.test(B))return"BlackBerry";if(/Mac/i.test(B))return"Mac OS X";if(/Linux/.test(B))return"Linux";if(/CrOS/.test(B))return"Chrome OS";else return""},device:function(t){return/Windows Phone/i.test(t)||/WPDesktop/.test(t)?"Windows Phone":/iPad/.test(t)?"iPad":/iPod/.test(t)?"iPod Touch":/iPhone/.test(t)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":/Android/.test(t)?"Android":""},referringDomain:function(t){var n=t.split("/");return n.length>=3?n[2]:""},properties:function(){return Y.extend(Y.strip_empty_properties({$os:Y.info.os(),$browser:Y.info.browser(B,P.vendor,A),$referrer:j.referrer,$referring_domain:Y.info.referringDomain(j.referrer),$device:Y.info.device(B)}),{$current_url:E.location.href,$browser_version:Y.info.browserVersion(B,P.vendor,A),$screen_height:L.height,$screen_width:L.width,mp_lib:"web",$lib_version:k.LIB_VERSION,$insert_id:cheap_guid(),time:Y.timestamp()/1e3})},people_properties:function(){return Y.extend(Y.strip_empty_properties({$os:Y.info.os(),$browser:Y.info.browser(B,P.vendor,A)}),{$browser_version:Y.info.browserVersion(B,P.vendor,A)})},pageviewInfo:function(t){return Y.strip_empty_properties({mp_page:t,mp_referrer:j.referrer,mp_browser:Y.info.browser(B,P.vendor,A),mp_platform:Y.info.os()})}};var cheap_guid=function(t){var n=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return t?n.substring(0,t):n},J=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,X=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,extract_domain=function(t){var n=X,r=t.split("."),i=r[r.length-1];(i.length>4||"com"===i||"org"===i)&&(n=J);var o=t.match(n);return o?o[0]:""},Q=null,ee=null;"undefined"!=typeof JSON&&(Q=JSON.stringify,ee=JSON.parse),Q=Q||Y.JSONEncode,ee=ee||Y.JSONDecode,Y.toArray=Y.toArray,Y.isObject=Y.isObject,Y.JSONEncode=Y.JSONEncode,Y.JSONDecode=Y.JSONDecode,Y.isBlockedUA=Y.isBlockedUA,Y.isEmptyObject=Y.isEmptyObject,Y.info=Y.info,Y.info.device=Y.info.device,Y.info.browser=Y.info.browser,Y.info.browserVersion=Y.info.browserVersion,Y.info.properties=Y.info.properties;var DomTracker=function(){};DomTracker.prototype.create_properties=function(){},DomTracker.prototype.event_handler=function(){},DomTracker.prototype.after_track_handler=function(){},DomTracker.prototype.init=function(t){return this.mp=t,this},DomTracker.prototype.track=function(t,n,r,i){var o=this,s=Y.dom_query(t);if(0===s.length){z.error("The DOM query ("+t+") returned 0 elements");return}return Y.each(s,function(t){Y.register_event(t,this.override_event,function(t){var s={},a=o.create_properties(r,this),l=o.mp.get_config("track_links_timeout");o.event_handler(t,this,s),window.setTimeout(o.track_callback(i,a,s,!0),l),o.mp.track(n,a,o.track_callback(i,a,s))})},this),!0},DomTracker.prototype.track_callback=function(t,n,r,i){i=i||!1;var o=this;return function(){!r.callback_fired&&(r.callback_fired=!0,t&&!1===t(i,n)||o.after_track_handler(n,r,i))}},DomTracker.prototype.create_properties=function(t,n){return"function"==typeof t?t(n):Y.extend({},t)};var LinkTracker=function(){this.override_event="click"};Y.inherit(LinkTracker,DomTracker),LinkTracker.prototype.create_properties=function(t,n){var r=LinkTracker.superclass.create_properties.apply(this,arguments);return n.href&&(r.url=n.href),r},LinkTracker.prototype.event_handler=function(t,n,r){r.new_tab=2===t.which||t.metaKey||t.ctrlKey||"_blank"===n.target,r.href=n.href,r.new_tab||t.preventDefault()},LinkTracker.prototype.after_track_handler=function(t,n){n.new_tab||setTimeout(function(){window.location=n.href},0)};var FormTracker=function(){this.override_event="submit"};Y.inherit(FormTracker,DomTracker),FormTracker.prototype.event_handler=function(t,n,r){r.element=n,t.preventDefault()},FormTracker.prototype.after_track_handler=function(t,n){setTimeout(function(){n.element.submit()},0)};var et=console_with_prefix("lock"),SharedLock=function(t,n){n=n||{},this.storageKey=t,this.storage=n.storage||window.localStorage,this.pollIntervalMS=n.pollIntervalMS||100,this.timeoutMS=n.timeoutMS||2e3};SharedLock.prototype.withLock=function(t,n,r){r||"function"==typeof n||(r=n,n=null);var i=r||new Date().getTime()+"|"+Math.random(),o=new Date().getTime(),s=this.storageKey,a=this.pollIntervalMS,l=this.timeoutMS,c=this.storage,u=s+":X",d=s+":Y",p=s+":Z",reportError=function(t){n&&n(t)},delay=function(t){if(new Date().getTime()-o>l){et.error("Timeout waiting for mutex on "+s+"; clearing lock. ["+i+"]"),c.removeItem(p),c.removeItem(d),loop();return}setTimeout(function(){try{t()}catch(t){reportError(t)}},a*(Math.random()+.1))},waitFor=function(t,n){t()?n():delay(function(){waitFor(t,n)})},getSetY=function(){var t=c.getItem(d);if(t&&t!==i)return!1;if(c.setItem(d,i),c.getItem(d)===i)return!0;if(!localStorageSupported(c,!0))throw Error("localStorage support dropped while acquiring lock");return!1},loop=function(){c.setItem(u,i),waitFor(getSetY,function(){if(c.getItem(u)===i){criticalSection();return}delay(function(){if(c.getItem(d)!==i){loop();return}waitFor(function(){return!c.getItem(p)},criticalSection)})})},criticalSection=function(){c.setItem(p,"1");try{t()}finally{c.removeItem(p),c.getItem(d)===i&&c.removeItem(d),c.getItem(u)===i&&c.removeItem(u)}};try{if(localStorageSupported(c,!0))loop();else throw Error("localStorage support check failed")}catch(t){reportError(t)}};var en=console_with_prefix("batch"),RequestQueue=function(t,n){n=n||{},this.storageKey=t,this.storage=n.storage||window.localStorage,this.reportError=n.errorReporter||Y.bind(en.error,en),this.lock=new SharedLock(t,{storage:this.storage}),this.pid=n.pid||null,this.memQueue=[]};RequestQueue.prototype.enqueue=function(t,n,r){var i={id:cheap_guid(),flushAfter:new Date().getTime()+2*n,payload:t};this.lock.withLock(Y.bind(function(){var n;try{var o=this.readFromStorage();o.push(i),(n=this.saveToStorage(o))&&this.memQueue.push(i)}catch(r){this.reportError("Error enqueueing item",t),n=!1}r&&r(n)},this),Y.bind(function(t){this.reportError("Error acquiring storage lock",t),r&&r(!1)},this),this.pid)},RequestQueue.prototype.fillBatch=function(t){var n=this.memQueue.slice(0,t);if(n.length<t){var r=this.readFromStorage();if(r.length){var i={};Y.each(n,function(t){i[t.id]=!0});for(var o=0;o<r.length;o++){var s=r[o];if(new Date().getTime()>s.flushAfter&&!i[s.id]&&(s.orphaned=!0,n.push(s),n.length>=t))break}}}return n};var filterOutIDsAndInvalid=function(t,n){var r=[];return Y.each(t,function(t){t.id&&!n[t.id]&&r.push(t)}),r};RequestQueue.prototype.removeItemsByID=function(t,n){var r={};Y.each(t,function(t){r[t]=!0}),this.memQueue=filterOutIDsAndInvalid(this.memQueue,r);var i=Y.bind(function(){var n;try{var i=this.readFromStorage();if(i=filterOutIDsAndInvalid(i,r),n=this.saveToStorage(i)){i=this.readFromStorage();for(var o=0;o<i.length;o++){var s=i[o];if(s.id&&r[s.id])return this.reportError("Item not removed from storage"),!1}}}catch(r){this.reportError("Error removing items",t),n=!1}return n},this);this.lock.withLock(function(){var t=i();n&&n(t)},Y.bind(function(t){var r=!1;if(this.reportError("Error acquiring storage lock",t),!localStorageSupported(this.storage,!0)&&!(r=i()))try{this.storage.removeItem(this.storageKey)}catch(t){this.reportError("Error clearing queue",t)}n&&n(r)},this),this.pid)};var updatePayloads=function(t,n){var r=[];return Y.each(t,function(t){var i=t.id;if(i in n){var o=n[i];null!==o&&(t.payload=o,r.push(t))}else r.push(t)}),r};RequestQueue.prototype.updatePayloads=function(t,n){this.memQueue=updatePayloads(this.memQueue,t),this.lock.withLock(Y.bind(function(){var r;try{var i=this.readFromStorage();i=updatePayloads(i,t),r=this.saveToStorage(i)}catch(n){this.reportError("Error updating items",t),r=!1}n&&n(r)},this),Y.bind(function(t){this.reportError("Error acquiring storage lock",t),n&&n(!1)},this),this.pid)},RequestQueue.prototype.readFromStorage=function(){var t;try{(t=this.storage.getItem(this.storageKey))&&(t=ee(t),Y.isArray(t)||(this.reportError("Invalid storage entry:",t),t=null))}catch(n){this.reportError("Error retrieving queue",n),t=null}return t||[]},RequestQueue.prototype.saveToStorage=function(t){try{return this.storage.setItem(this.storageKey,Q(t)),!0}catch(t){return this.reportError("Error saving queue",t),!1}},RequestQueue.prototype.clear=function(){this.memQueue=[],this.storage.removeItem(this.storageKey)};var er=console_with_prefix("batch"),RequestBatcher=function(t,n){this.errorReporter=n.errorReporter,this.queue=new RequestQueue(t,{errorReporter:Y.bind(this.reportError,this),storage:n.storage}),this.libConfig=n.libConfig,this.sendRequest=n.sendRequestFunc,this.beforeSendHook=n.beforeSendHook,this.stopAllBatching=n.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0};function optIn(t,n){_optInOut(!0,t,n)}function optOut(t,n){_optInOut(!1,t,n)}function hasOptedIn(t,n){return"1"===_getStorageValue(t,n)}function hasOptedOut(t,n){if(function(t){if(t&&t.ignoreDnt)return!1;var n=t&&t.window||E,r=n.navigator||{},i=!1;return Y.each([r.doNotTrack,r.msDoNotTrack,n.doNotTrack],function(t){Y.includes([!0,1,"1","yes"],t)&&(i=!0)}),i}(n))return z.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var r="0"===_getStorageValue(t,n);return r&&z.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),r}function addOptOutCheckMixpanelLib(t){return _addOptOutCheck(t,function(t){return this.get_config(t)})}function addOptOutCheckMixpanelPeople(t){return _addOptOutCheck(t,function(t){return this._get_config(t)})}function addOptOutCheckMixpanelGroup(t){return _addOptOutCheck(t,function(t){return this._get_config(t)})}function clearOptInOut(t,n){_getStorage(n=n||{}).remove(_getStorageKey(t,n),!!n.crossSubdomainCookie,n.cookieDomain)}function _getStorage(t){return"localStorage"===(t=t||{}).persistenceType?Y.localStorage:Y.cookie}function _getStorageKey(t,n){return((n=n||{}).persistencePrefix||"__mp_opt_in_out_")+t}function _getStorageValue(t,n){return _getStorage(n).get(_getStorageKey(t,n))}function _optInOut(t,n,r){if(!Y.isString(n)||!n.length){z.error("gdpr."+(t?"optIn":"optOut")+" called with an invalid token");return}_getStorage(r=r||{}).set(_getStorageKey(n,r),t?1:0,Y.isNumber(r.cookieExpiration)?r.cookieExpiration:null,!!r.crossSubdomainCookie,!!r.secureCookie,!!r.crossSiteCookie,r.cookieDomain),r.track&&t&&r.track(r.trackEventName||"$opt_in",r.trackProperties,{send_immediately:!0})}function _addOptOutCheck(t,n){return function(){var r=!1;try{var i=n.call(this,"token"),o=n.call(this,"ignore_dnt"),s=n.call(this,"opt_out_tracking_persistence_type"),a=n.call(this,"opt_out_tracking_cookie_prefix"),l=n.call(this,"window");i&&(r=hasOptedOut(i,{ignoreDnt:o,persistenceType:s,persistencePrefix:a,window:l}))}catch(t){z.error("Unexpected error when checking tracking opt-out status: "+t)}if(!r)return t.apply(this,arguments);var c=arguments[arguments.length-1];"function"==typeof c&&c(0)}}RequestBatcher.prototype.enqueue=function(t,n){this.queue.enqueue(t,this.flushInterval,n)},RequestBatcher.prototype.start=function(){this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()},RequestBatcher.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)},RequestBatcher.prototype.clear=function(){this.queue.clear()},RequestBatcher.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size},RequestBatcher.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)},RequestBatcher.prototype.scheduleFlush=function(t){this.flushInterval=t,this.stopped||(this.timeoutID=setTimeout(Y.bind(this.flush,this),this.flushInterval))},RequestBatcher.prototype.flush=function(t){try{if(this.requestInProgress){er.log("Flush: Request already in progress");return}t=t||{};var n=this.libConfig.batch_request_timeout_ms,r=new Date().getTime(),i=this.batchSize,o=this.queue.fillBatch(i),s=[],a={};if(Y.each(o,function(t){var n=t.payload;this.beforeSendHook&&!t.orphaned&&(n=this.beforeSendHook(n)),n&&s.push(n),a[t.id]=n},this),s.length<1){this.resetFlush();return}this.requestInProgress=!0;var l=Y.bind(function(s){this.requestInProgress=!1;try{var l=!1;if(t.unloading)this.queue.updatePayloads(a);else if(Y.isObject(s)&&"timeout"===s.error&&new Date().getTime()-r>=n)this.reportError("Network timeout; retrying"),this.flush();else if(Y.isObject(s)&&s.xhr_req&&(s.xhr_req.status>=500||429===s.xhr_req.status||"timeout"===s.error)){var c=2*this.flushInterval,u=s.xhr_req.responseHeaders;if(u){var d=u["Retry-After"];d&&(c=1e3*parseInt(d,10)||c)}c=Math.min(6e5,c),this.reportError("Error; retry in "+c+" ms"),this.scheduleFlush(c)}else if(Y.isObject(s)&&s.xhr_req&&413===s.xhr_req.status){if(o.length>1){var p=Math.max(1,Math.floor(i/2));this.batchSize=Math.min(this.batchSize,p,o.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush()}else this.reportError("Single-event request too large; dropping",o),this.resetBatchSize(),l=!0}else l=!0;l&&this.queue.removeItemsByID(Y.map(o,function(t){return t.id}),Y.bind(function(t){t?(this.consecutiveRemovalFailures=0,this.flush()):(this.reportError("Failed to remove items from queue"),++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush())},this))}catch(t){this.reportError("Error handling API response",t),this.resetFlush()}},this),c={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:n};t.unloading&&(c.transport="sendBeacon"),er.log("MIXPANEL REQUEST:",s),this.sendRequest(s,c,l)}catch(t){this.reportError("Error flushing request queue",t),this.resetFlush()}},RequestBatcher.prototype.reportError=function(t,n){if(er.error.apply(er.error,arguments),this.errorReporter)try{n instanceof Error||(n=Error(t)),this.errorReporter(t,n)}catch(t){er.error(t)}};var ei="$set",eo="$set_once",es="$unset",ea="$add",el="$append",ec="$union",eu="$remove",ed={set_action:function(t,n){var r={},i={};return Y.isObject(t)?Y.each(t,function(t,n){this._is_reserved_property(n)||(i[n]=t)},this):i[t]=n,r[ei]=i,r},unset_action:function(t){var n={},r=[];return Y.isArray(t)||(t=[t]),Y.each(t,function(t){this._is_reserved_property(t)||r.push(t)},this),n[es]=r,n},set_once_action:function(t,n){var r={},i={};return Y.isObject(t)?Y.each(t,function(t,n){this._is_reserved_property(n)||(i[n]=t)},this):i[t]=n,r[eo]=i,r},union_action:function(t,n){var r={},i={};return Y.isObject(t)?Y.each(t,function(t,n){this._is_reserved_property(n)||(i[n]=Y.isArray(t)?t:[t])},this):i[t]=Y.isArray(n)?n:[n],r[ec]=i,r},append_action:function(t,n){var r={},i={};return Y.isObject(t)?Y.each(t,function(t,n){this._is_reserved_property(n)||(i[n]=t)},this):i[t]=n,r[el]=i,r},remove_action:function(t,n){var r={},i={};return Y.isObject(t)?Y.each(t,function(t,n){this._is_reserved_property(n)||(i[n]=t)},this):i[t]=n,r[eu]=i,r},delete_action:function(){var t={};return t.$delete="",t}},MixpanelGroup=function(){};Y.extend(MixpanelGroup.prototype,ed),MixpanelGroup.prototype._init=function(t,n,r){this._mixpanel=t,this._group_key=n,this._group_id=r},MixpanelGroup.prototype.set=addOptOutCheckMixpanelGroup(function(t,n,r){var i=this.set_action(t,n);return Y.isObject(t)&&(r=n),this._send_request(i,r)}),MixpanelGroup.prototype.set_once=addOptOutCheckMixpanelGroup(function(t,n,r){var i=this.set_once_action(t,n);return Y.isObject(t)&&(r=n),this._send_request(i,r)}),MixpanelGroup.prototype.unset=addOptOutCheckMixpanelGroup(function(t,n){var r=this.unset_action(t);return this._send_request(r,n)}),MixpanelGroup.prototype.union=addOptOutCheckMixpanelGroup(function(t,n,r){Y.isObject(t)&&(r=n);var i=this.union_action(t,n);return this._send_request(i,r)}),MixpanelGroup.prototype.delete=addOptOutCheckMixpanelGroup(function(t){var n=this.delete_action();return this._send_request(n,t)}),MixpanelGroup.prototype.remove=addOptOutCheckMixpanelGroup(function(t,n,r){var i=this.remove_action(t,n);return this._send_request(i,r)}),MixpanelGroup.prototype._send_request=function(t,n){t.$group_key=this._group_key,t.$group_id=this._group_id,t.$token=this._get_config("token");var r=Y.encodeDates(t);return this._mixpanel._track_or_batch({type:"groups",data:r,endpoint:this._get_config("api_host")+"/groups/",batcher:this._mixpanel.request_batchers.groups},n)},MixpanelGroup.prototype._is_reserved_property=function(t){return"$group_key"===t||"$group_id"===t},MixpanelGroup.prototype._get_config=function(t){return this._mixpanel.get_config(t)},MixpanelGroup.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id},MixpanelGroup.prototype.remove=MixpanelGroup.prototype.remove,MixpanelGroup.prototype.set=MixpanelGroup.prototype.set,MixpanelGroup.prototype.set_once=MixpanelGroup.prototype.set_once,MixpanelGroup.prototype.union=MixpanelGroup.prototype.union,MixpanelGroup.prototype.unset=MixpanelGroup.prototype.unset,MixpanelGroup.prototype.toString=MixpanelGroup.prototype.toString;var MixpanelPeople=function(){};Y.extend(MixpanelPeople.prototype,ed),MixpanelPeople.prototype._init=function(t){this._mixpanel=t},MixpanelPeople.prototype.set=addOptOutCheckMixpanelPeople(function(t,n,r){var i=this.set_action(t,n);return Y.isObject(t)&&(r=n),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),i[ei]=Y.extend({},Y.info.people_properties(),this._mixpanel.persistence.get_referrer_info(),i[ei]),this._send_request(i,r)}),MixpanelPeople.prototype.set_once=addOptOutCheckMixpanelPeople(function(t,n,r){var i=this.set_once_action(t,n);return Y.isObject(t)&&(r=n),this._send_request(i,r)}),MixpanelPeople.prototype.unset=addOptOutCheckMixpanelPeople(function(t,n){var r=this.unset_action(t);return this._send_request(r,n)}),MixpanelPeople.prototype.increment=addOptOutCheckMixpanelPeople(function(t,n,r){var i={},o={};return Y.isObject(t)?(Y.each(t,function(t,n){if(!this._is_reserved_property(n)){if(isNaN(parseFloat(t))){z.error("Invalid increment value passed to mixpanel.people.increment - must be a number");return}o[n]=t}},this),r=n):(Y.isUndefined(n)&&(n=1),o[t]=n),i[ea]=o,this._send_request(i,r)}),MixpanelPeople.prototype.append=addOptOutCheckMixpanelPeople(function(t,n,r){Y.isObject(t)&&(r=n);var i=this.append_action(t,n);return this._send_request(i,r)}),MixpanelPeople.prototype.remove=addOptOutCheckMixpanelPeople(function(t,n,r){Y.isObject(t)&&(r=n);var i=this.remove_action(t,n);return this._send_request(i,r)}),MixpanelPeople.prototype.union=addOptOutCheckMixpanelPeople(function(t,n,r){Y.isObject(t)&&(r=n);var i=this.union_action(t,n);return this._send_request(i,r)}),MixpanelPeople.prototype.track_charge=addOptOutCheckMixpanelPeople(function(t,n,r){if(!Y.isNumber(t)&&isNaN(t=parseFloat(t))){z.error("Invalid value passed to mixpanel.people.track_charge - must be a number");return}return this.append("$transactions",Y.extend({$amount:t},n),r)}),MixpanelPeople.prototype.clear_charges=function(t){return this.set("$transactions",[],t)},MixpanelPeople.prototype.delete_user=function(){if(!this._identify_called()){z.error("mixpanel.people.delete_user() requires you to call identify() first");return}var t={$delete:this._mixpanel.get_distinct_id()};return this._send_request(t)},MixpanelPeople.prototype.toString=function(){return this._mixpanel.toString()+".people"},MixpanelPeople.prototype._send_request=function(t,n){t.$token=this._get_config("token"),t.$distinct_id=this._mixpanel.get_distinct_id();var r=this._mixpanel.get_property("$device_id"),i=this._mixpanel.get_property("$user_id"),o=this._mixpanel.get_property("$had_persisted_distinct_id");r&&(t.$device_id=r),i&&(t.$user_id=i),o&&(t.$had_persisted_distinct_id=o);var s=Y.encodeDates(t);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:s,endpoint:this._get_config("api_host")+"/engage/",batcher:this._mixpanel.request_batchers.people},n):(this._enqueue(t),Y.isUndefined(n)||n(this._get_config("verbose")?{status:-1,error:null}:-1),Y.truncate(s,255))},MixpanelPeople.prototype._get_config=function(t){return this._mixpanel.get_config(t)},MixpanelPeople.prototype._identify_called=function(){return!0===this._mixpanel._flags.identify_called},MixpanelPeople.prototype._enqueue=function(t){ei in t?this._mixpanel.persistence._add_to_people_queue(ei,t):eo in t?this._mixpanel.persistence._add_to_people_queue(eo,t):es in t?this._mixpanel.persistence._add_to_people_queue(es,t):ea in t?this._mixpanel.persistence._add_to_people_queue(ea,t):el in t?this._mixpanel.persistence._add_to_people_queue(el,t):eu in t?this._mixpanel.persistence._add_to_people_queue(eu,t):ec in t?this._mixpanel.persistence._add_to_people_queue(ec,t):z.error("Invalid call to _enqueue():",t)},MixpanelPeople.prototype._flush_one_queue=function(t,n,r,i){var o=this,s=Y.extend({},this._mixpanel.persistence._get_queue(t)),a=s;!Y.isUndefined(s)&&Y.isObject(s)&&!Y.isEmptyObject(s)&&(o._mixpanel.persistence._pop_from_people_queue(t,s),i&&(a=i(s)),n.call(o,a,function(n,i){0===n&&o._mixpanel.persistence._add_to_people_queue(t,s),Y.isUndefined(r)||r(n,i)}))},MixpanelPeople.prototype._flush=function(t,n,r,i,o,s,a){var l=this,c=this._mixpanel.persistence._get_queue(el),u=this._mixpanel.persistence._get_queue(eu);if(this._flush_one_queue(ei,this.set,t),this._flush_one_queue(eo,this.set_once,i),this._flush_one_queue(es,this.unset,s,function(t){return Y.keys(t)}),this._flush_one_queue(ea,this.increment,n),this._flush_one_queue(ec,this.union,o),!Y.isUndefined(c)&&Y.isArray(c)&&c.length){for(var d,append_callback=function(t,n){0===t&&l._mixpanel.persistence._add_to_people_queue(el,d),Y.isUndefined(r)||r(t,n)},p=c.length-1;p>=0;p--)d=c.pop(),Y.isEmptyObject(d)||l.append(d,append_callback);l._mixpanel.persistence.save()}if(!Y.isUndefined(u)&&Y.isArray(u)&&u.length){for(var m,remove_callback=function(t,n){0===t&&l._mixpanel.persistence._add_to_people_queue(eu,m),Y.isUndefined(a)||a(t,n)},_=u.length-1;_>=0;_--)m=u.pop(),Y.isEmptyObject(m)||l.remove(m,remove_callback);l._mixpanel.persistence.save()}},MixpanelPeople.prototype._is_reserved_property=function(t){return"$distinct_id"===t||"$token"===t||"$device_id"===t||"$user_id"===t||"$had_persisted_distinct_id"===t},MixpanelPeople.prototype.set=MixpanelPeople.prototype.set,MixpanelPeople.prototype.set_once=MixpanelPeople.prototype.set_once,MixpanelPeople.prototype.unset=MixpanelPeople.prototype.unset,MixpanelPeople.prototype.increment=MixpanelPeople.prototype.increment,MixpanelPeople.prototype.append=MixpanelPeople.prototype.append,MixpanelPeople.prototype.remove=MixpanelPeople.prototype.remove,MixpanelPeople.prototype.union=MixpanelPeople.prototype.union,MixpanelPeople.prototype.track_charge=MixpanelPeople.prototype.track_charge,MixpanelPeople.prototype.clear_charges=MixpanelPeople.prototype.clear_charges,MixpanelPeople.prototype.delete_user=MixpanelPeople.prototype.delete_user,MixpanelPeople.prototype.toString=MixpanelPeople.prototype.toString;var ep="__mps",eh="__mpso",ef="__mpus",em="__mpa",eg="__mpap",e_="__mpr",ey="__mpu",ev="$people_distinct_id",eb="__alias",eS="__timers",eE=[ep,eh,ef,em,eg,e_,ey,ev,eb,eS],MixpanelPersistence=function(t){this.props={},this.campaign_params_saved=!1,t.persistence_name?this.name="mp_"+t.persistence_name:this.name="mp_"+t.token+"_mixpanel";var n=t.persistence;"cookie"!==n&&"localStorage"!==n&&(z.critical("Unknown persistence type "+n+"; falling back to cookie"),n=t.persistence="cookie"),"localStorage"===n&&Y.localStorage.is_supported()?this.storage=Y.localStorage:this.storage=Y.cookie,this.load(),this.update_config(t),this.upgrade(t),this.save()};MixpanelPersistence.prototype.properties=function(){var t={};return Y.each(this.props,function(n,r){Y.include(eE,r)||(t[r]=n)}),t},MixpanelPersistence.prototype.load=function(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=Y.extend({},t))}},MixpanelPersistence.prototype.upgrade=function(t){var n,r,i=t.upgrade;i&&(n="mp_super_properties","string"==typeof i&&(n=i),r=this.storage.parse(n),this.storage.remove(n),this.storage.remove(n,!0),r&&(this.props=Y.extend(this.props,r.all,r.events))),!t.cookie_name&&"mixpanel"!==t.name&&(n="mp_"+t.token+"_"+t.name,(r=this.storage.parse(n))&&(this.storage.remove(n),this.storage.remove(n,!0),this.register_once(r))),this.storage===Y.localStorage&&(r=Y.cookie.parse(this.name),Y.cookie.remove(this.name),Y.cookie.remove(this.name,!0),r&&this.register_once(r))},MixpanelPersistence.prototype.save=function(){this.disabled||this.storage.set(this.name,Y.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)},MixpanelPersistence.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)},MixpanelPersistence.prototype.clear=function(){this.remove(),this.props={}},MixpanelPersistence.prototype.register_once=function(t,n,r){return!!Y.isObject(t)&&(void 0===n&&(n="None"),this.expire_days=void 0===r?this.default_expiry:r,Y.each(t,function(t,r){this.props.hasOwnProperty(r)&&this.props[r]!==n||(this.props[r]=t)},this),this.save(),!0)},MixpanelPersistence.prototype.register=function(t,n){return!!Y.isObject(t)&&(this.expire_days=void 0===n?this.default_expiry:n,Y.extend(this.props,t),this.save(),!0)},MixpanelPersistence.prototype.unregister=function(t){t in this.props&&(delete this.props[t],this.save())},MixpanelPersistence.prototype.update_campaign_params=function(){this.campaign_params_saved||(this.register_once(Y.info.campaignParams()),this.campaign_params_saved=!0)},MixpanelPersistence.prototype.update_search_keyword=function(t){this.register(Y.info.searchInfo(t))},MixpanelPersistence.prototype.update_referrer_info=function(t){this.register_once({$initial_referrer:t||"$direct",$initial_referring_domain:Y.info.referringDomain(t)||"$direct"},"")},MixpanelPersistence.prototype.get_referrer_info=function(){return Y.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})},MixpanelPersistence.prototype.safe_merge=function(t){return Y.each(this.props,function(n,r){r in t||(t[r]=n)}),t},MixpanelPersistence.prototype.update_config=function(t){this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cookie_domain(t.cookie_domain),this.set_cross_site(t.cross_site_cookie),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie)},MixpanelPersistence.prototype.set_disabled=function(t){this.disabled=t,this.disabled?this.remove():this.save()},MixpanelPersistence.prototype.set_cookie_domain=function(t){t!==this.cookie_domain&&(this.remove(),this.cookie_domain=t,this.save())},MixpanelPersistence.prototype.set_cross_site=function(t){t!==this.cross_site&&(this.cross_site=t,this.remove(),this.save())},MixpanelPersistence.prototype.set_cross_subdomain=function(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())},MixpanelPersistence.prototype.get_cross_subdomain=function(){return this.cross_subdomain},MixpanelPersistence.prototype.set_secure=function(t){t!==this.secure&&(this.secure=!!t,this.remove(),this.save())},MixpanelPersistence.prototype._add_to_people_queue=function(t,n){var r=this._get_queue_key(t),i=n[t],o=this._get_or_create_queue(ei),s=this._get_or_create_queue(eo),a=this._get_or_create_queue(es),l=this._get_or_create_queue(ea),c=this._get_or_create_queue(ec),u=this._get_or_create_queue(eu,[]),d=this._get_or_create_queue(el,[]);r===ep?(Y.extend(o,i),this._pop_from_people_queue(ea,i),this._pop_from_people_queue(ec,i),this._pop_from_people_queue(es,i)):r===eh?(Y.each(i,function(t,n){n in s||(s[n]=t)}),this._pop_from_people_queue(es,i)):r===ef?Y.each(i,function(t){Y.each([o,s,l,c],function(n){t in n&&delete n[t]}),Y.each(d,function(n){t in n&&delete n[t]}),a[t]=!0}):r===em?(Y.each(i,function(t,n){n in o?o[n]+=t:(n in l||(l[n]=0),l[n]+=t)},this),this._pop_from_people_queue(es,i)):r===ey?(Y.each(i,function(t,n){Y.isArray(t)&&(n in c||(c[n]=[]),c[n]=c[n].concat(t))}),this._pop_from_people_queue(es,i)):r===e_?(u.push(i),this._pop_from_people_queue(el,i)):r===eg&&(d.push(i),this._pop_from_people_queue(es,i)),z.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),z.log(n),this.save()},MixpanelPersistence.prototype._pop_from_people_queue=function(t,n){var r=this._get_queue(t);Y.isUndefined(r)||(Y.each(n,function(n,i){t===el||t===eu?Y.each(r,function(t){t[i]===n&&delete t[i]}):delete r[i]},this),this.save())},MixpanelPersistence.prototype._get_queue_key=function(t){return t===ei?ep:t===eo?eh:t===es?ef:t===ea?em:t===el?eg:t===eu?e_:t===ec?ey:void z.error("Invalid queue:",t)},MixpanelPersistence.prototype._get_queue=function(t){return this.props[this._get_queue_key(t)]},MixpanelPersistence.prototype._get_or_create_queue=function(t,n){var r=this._get_queue_key(t);return n=Y.isUndefined(n)?{}:n,this.props[r]||(this.props[r]=n)},MixpanelPersistence.prototype.set_event_timer=function(t,n){var r=this.props[eS]||{};r[t]=n,this.props[eS]=r,this.save()},MixpanelPersistence.prototype.remove_event_timer=function(t){var n=(this.props[eS]||{})[t];return Y.isUndefined(n)||(delete this.props[eS][t],this.save()),n};var IDENTITY_FUNC=function(t){return t},NOOP_FUNC=function(){},ex="mixpanel",ew="base64",ek=E.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,eT=!ek&&-1===B.indexOf("MSIE")&&-1===B.indexOf("Mozilla"),eC=null;P.sendBeacon&&(eC=function(){return P.sendBeacon.apply(P,arguments)});var eR={api_host:"https://api-js.mixpanel.com",api_method:"POST",api_transport:"XHR",api_payload_format:ew,app_host:"https://mixpanel.com",cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:NOOP_FUNC,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:NOOP_FUNC,store_google:!0,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{}},eM=!1,MixpanelLib=function(){},create_mplib=function(t,n,r){var i,o=r===ex?w:w[r];if(o&&0===x)i=o;else{if(o&&!Y.isArray(o)){z.error("You have already initialized "+r);return}i=new MixpanelLib}return i._cached_groups={},i._init(t,n,r),i.people=new MixpanelPeople,i.people._init(i),k.DEBUG=k.DEBUG||i.get_config("debug"),!Y.isUndefined(o)&&Y.isArray(o)&&(i._execute_array.call(i.people,o.people),i._execute_array(o)),i};MixpanelLib.prototype.init=function(t,n,r){if(Y.isUndefined(r)){this.report_error("You must name your new library: init(token, config, name)");return}if(r===ex){this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");return}var i=create_mplib(t,n,r);return w[r]=i,i._loaded(),i},MixpanelLib.prototype._init=function(t,n,r){n=n||{},this.__loaded=!0,this.config={};var i={};if(!("api_payload_format"in n)&&(n.api_host||eR.api_host).match(/\.mixpanel\.com$/)&&(i.api_payload_format="json"),this.set_config(Y.extend({},eR,i,n,{name:r,token:t,callback_fn:(r===ex?r:ex+"."+r)+"._jsc"})),this._jsc=NOOP_FUNC,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests){if(Y.localStorage.is_supported(!0)&&ek){if(this.init_batchers(),eC&&E.addEventListener){var o=Y.bind(function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})},this);E.addEventListener("pagehide",function(t){t.persisted&&o()}),E.addEventListener("visibilitychange",function(){"hidden"===j.visibilityState&&o()})}}else this._batch_requests=!1,z.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support")}this.persistence=this.cookie=new MixpanelPersistence(this.config),this.unpersisted_superprops={},this._gdpr_init();var s=Y.UUID();this.get_distinct_id()||this.register_once({distinct_id:s,$device_id:s},"")},MixpanelLib.prototype._loaded=function(){this.get_config("loaded")(this),this._set_default_superprops()},MixpanelLib.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(j.referrer),this.get_config("store_google")&&this.persistence.update_campaign_params(),this.get_config("save_referrer")&&this.persistence.update_referrer_info(j.referrer)},MixpanelLib.prototype._dom_loaded=function(){Y.each(this.__dom_loaded_queue,function(t){this._track_dom.apply(this,t)},this),this.has_opted_out_tracking()||Y.each(this.__request_queue,function(t){this._send_request.apply(this,t)},this),delete this.__dom_loaded_queue,delete this.__request_queue},MixpanelLib.prototype._track_dom=function(t,n){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!eM)return this.__dom_loaded_queue.push([t,n]),!1;var r=new t().init(this);return r.track.apply(r,n)},MixpanelLib.prototype._prepare_callback=function(t,n){if(Y.isUndefined(t))return null;if(ek)return function(r){t(r,n)};var r=this._jsc,i=""+Math.floor(1e8*Math.random()),o=this.get_config("callback_fn")+"["+i+"]";return r[i]=function(o){delete r[i],t(o,n)},o},MixpanelLib.prototype._send_request=function(t,n,r,i){var o=!0;if(eT)return this.__request_queue.push(arguments),o;var s={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},a=null;!i&&(Y.isFunction(r)||"string"==typeof r)&&(i=r,r=null),r=Y.extend(s,r||{}),ek||(r.method="GET");var l="POST"===r.method,c=eC&&l&&"sendbeacon"===r.transport.toLowerCase(),u=r.verbose;n.verbose&&(u=!0),this.get_config("test")&&(n.test=1),u&&(n.verbose=1),this.get_config("img")&&(n.img=1),!ek&&(i?n.callback=i:(u||this.get_config("test"))&&(n.callback="(function(){})")),n.ip=this.get_config("ip")?1:0,n._=new Date().getTime().toString(),l&&(a="data="+encodeURIComponent(n.data),delete n.data),t+="?"+Y.HTTPBuildQuery(n);var d=this;if("img"in n){var p=j.createElement("img");p.src=t,j.body.appendChild(p)}else if(c){try{o=eC(t,a)}catch(t){d.report_error(t),o=!1}try{i&&i(o?1:0)}catch(t){d.report_error(t)}}else if(ek)try{var m=new XMLHttpRequest;m.open(r.method,t,!0);var _=this.get_config("xhr_headers");if(l&&(_["Content-Type"]="application/x-www-form-urlencoded"),Y.each(_,function(t,n){m.setRequestHeader(n,t)}),r.timeout_ms&&void 0!==m.timeout){m.timeout=r.timeout_ms;var v=new Date().getTime()}m.withCredentials=!0,m.onreadystatechange=function(){if(4===m.readyState){var t,n;if(200===m.status){if(i){if(u){try{t=Y.JSONDecode(m.responseText)}catch(n){if(d.report_error(n),!r.ignore_json_errors)return;t=m.responseText}i(t)}else i(Number(m.responseText))}}else n=m.timeout&&!m.status&&new Date().getTime()-v>=m.timeout?"timeout":"Bad HTTP status: "+m.status+" "+m.statusText,d.report_error(n),i&&(u?i({status:0,error:n,xhr_req:m}):i(0))}},m.send(a)}catch(t){d.report_error(t),o=!1}else{var b=j.createElement("script");b.type="text/javascript",b.async=!0,b.defer=!0,b.src=t;var E=j.getElementsByTagName("script")[0];E.parentNode.insertBefore(b,E)}return o},MixpanelLib.prototype._execute_array=function(t){var n,r=[],i=[],o=[];Y.each(t,function(t){t&&(n=t[0],Y.isArray(n)?o.push(t):"function"==typeof t?t.call(this):Y.isArray(t)&&"alias"===n?r.push(t):Y.isArray(t)&&-1!==n.indexOf("track")&&"function"==typeof this[n]?o.push(t):i.push(t))},this);var execute=function(t,n){Y.each(t,function(t){if(Y.isArray(t[0])){var r=n;Y.each(t,function(t){r=r[t[0]].apply(r,t.slice(1))})}else this[t[0]].apply(this,t.slice(1))},n)};execute(r,this),execute(i,this),execute(o,this)},MixpanelLib.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events},MixpanelLib.prototype.init_batchers=function(){var t=this.get_config("token");if(!this.are_batchers_initialized()){var n=Y.bind(function(n){return new RequestBatcher("__mpq_"+t+n.queue_suffix,{libConfig:this.config,sendRequestFunc:Y.bind(function(t,r,i){this._send_request(this.get_config("api_host")+n.endpoint,this._encode_data_for_request(t),r,this._prepare_callback(i,t))},this),beforeSendHook:Y.bind(function(t){return this._run_hook("before_send_"+n.type,t)},this),errorReporter:this.get_config("error_reporter"),stopAllBatchingFunc:Y.bind(this.stop_batch_senders,this)})},this);this.request_batchers={events:n({type:"events",endpoint:"/track/",queue_suffix:"_ev"}),people:n({type:"people",endpoint:"/engage/",queue_suffix:"_pp"}),groups:n({type:"groups",endpoint:"/groups/",queue_suffix:"_gr"})}}this.get_config("batch_autostart")&&this.start_batch_senders()},MixpanelLib.prototype.start_batch_senders=function(){this.are_batchers_initialized()&&(this._batch_requests=!0,Y.each(this.request_batchers,function(t){t.start()}))},MixpanelLib.prototype.stop_batch_senders=function(){this._batch_requests=!1,Y.each(this.request_batchers,function(t){t.stop(),t.clear()})},MixpanelLib.prototype.push=function(t){this._execute_array([t])},MixpanelLib.prototype.disable=function(t){void 0===t?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(t)},MixpanelLib.prototype._encode_data_for_request=function(t){var n=Y.JSONEncode(t);return this.get_config("api_payload_format")===ew&&(n=Y.base64Encode(n)),{data:n}},MixpanelLib.prototype._track_or_batch=function(t,n){var r=Y.truncate(t.data,255),i=t.endpoint,o=t.batcher,s=t.should_send_immediately,a=t.send_request_options||{};n=n||NOOP_FUNC;var l=!0,c=Y.bind(function(){return(a.skip_hooks||(r=this._run_hook("before_send_"+t.type,r)),r)?(z.log("MIXPANEL REQUEST:"),z.log(r),this._send_request(i,this._encode_data_for_request(r),a,this._prepare_callback(n,r))):null},this);return this._batch_requests&&!s?o.enqueue(r,function(t){t?n(1,r):c()}):l=c(),l&&r},MixpanelLib.prototype.track=addOptOutCheckMixpanelLib(function(t,n,r,i){i||"function"!=typeof r||(i=r,r=null);var o=(r=r||{}).transport;o&&(r.transport=o);var s=r.send_immediately;if("function"!=typeof i&&(i=NOOP_FUNC),Y.isUndefined(t)){this.report_error("No event name provided to mixpanel.track");return}if(this._event_is_disabled(t)){i(0);return}(n=n||{}).token=this.get_config("token");var a=this.persistence.remove_event_timer(t);if(!Y.isUndefined(a)){var l=new Date().getTime()-a;n.$duration=parseFloat((l/1e3).toFixed(3))}this._set_default_superprops(),n=Y.extend({},Y.info.properties(),this.persistence.properties(),this.unpersisted_superprops,n);var c=this.get_config("property_blacklist");Y.isArray(c)?Y.each(c,function(t){delete n[t]}):this.report_error("Invalid value for property_blacklist config: "+c);var u={event:t,properties:n};return this._track_or_batch({type:"events",data:u,endpoint:this.get_config("api_host")+"/track/",batcher:this.request_batchers.events,should_send_immediately:s,send_request_options:r},i)}),MixpanelLib.prototype.set_group=addOptOutCheckMixpanelLib(function(t,n,r){Y.isArray(n)||(n=[n]);var i={};return i[t]=n,this.register(i),this.people.set(t,n,r)}),MixpanelLib.prototype.add_group=addOptOutCheckMixpanelLib(function(t,n,r){var i=this.get_property(t);if(void 0===i){var o={};o[t]=[n],this.register(o)}else-1===i.indexOf(n)&&(i.push(n),this.register(o));return this.people.union(t,n,r)}),MixpanelLib.prototype.remove_group=addOptOutCheckMixpanelLib(function(t,n,r){var i=this.get_property(t);if(void 0!==i){var o=i.indexOf(n);o>-1&&(i.splice(o,1),this.register({group_key:i})),0===i.length&&this.unregister(t)}return this.people.remove(t,n,r)}),MixpanelLib.prototype.track_with_groups=addOptOutCheckMixpanelLib(function(t,n,r,i){var o=Y.extend({},n||{});return Y.each(r,function(t,n){null!=t&&(o[n]=t)}),this.track(t,o,i)}),MixpanelLib.prototype._create_map_key=function(t,n){return t+"_"+JSON.stringify(n)},MixpanelLib.prototype._remove_group_from_cache=function(t,n){delete this._cached_groups[this._create_map_key(t,n)]},MixpanelLib.prototype.get_group=function(t,n){var r=this._create_map_key(t,n),i=this._cached_groups[r];return(void 0===i||i._group_key!==t||i._group_id!==n)&&((i=new MixpanelGroup)._init(this,t,n),this._cached_groups[r]=i),i},MixpanelLib.prototype.track_pageview=function(t){Y.isUndefined(t)&&(t=j.location.href),this.track("mp_page_view",Y.info.pageviewInfo(t))},MixpanelLib.prototype.track_links=function(){return this._track_dom.call(this,LinkTracker,arguments)},MixpanelLib.prototype.track_forms=function(){return this._track_dom.call(this,FormTracker,arguments)},MixpanelLib.prototype.time_event=function(t){if(Y.isUndefined(t)){this.report_error("No event name provided to mixpanel.time_event");return}this._event_is_disabled(t)||this.persistence.set_event_timer(t,new Date().getTime())};var eO={persistent:!0},options_for_register=function(t){var n;return n=Y.isObject(t)?t:Y.isUndefined(t)?{}:{days:t},Y.extend({},eO,n)};MixpanelLib.prototype.register=function(t,n){var r=options_for_register(n);r.persistent?this.persistence.register(t,r.days):Y.extend(this.unpersisted_superprops,t)},MixpanelLib.prototype.register_once=function(t,n,r){var i=options_for_register(r);i.persistent?this.persistence.register_once(t,n,i.days):(void 0===n&&(n="None"),Y.each(t,function(t,r){this.unpersisted_superprops.hasOwnProperty(r)&&this.unpersisted_superprops[r]!==n||(this.unpersisted_superprops[r]=t)},this))},MixpanelLib.prototype.unregister=function(t,n){(n=options_for_register(n)).persistent?this.persistence.unregister(t):delete this.unpersisted_superprops[t]},MixpanelLib.prototype._register_single=function(t,n){var r={};r[t]=n,this.register(r)},MixpanelLib.prototype.identify=function(t,n,r,i,o,s,a,l){var c=this.get_distinct_id();this.register({$user_id:t}),this.get_property("$device_id")||this.register_once({$had_persisted_distinct_id:!0,$device_id:c},""),t!==c&&t!==this.get_property(eb)&&(this.unregister(eb),this.register({distinct_id:t})),this._flags.identify_called=!0,this.people._flush(n,r,i,o,s,a,l),t!==c&&this.track("$identify",{distinct_id:t,$anon_distinct_id:c},{skip_hooks:!0})},MixpanelLib.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1;var t=Y.UUID();this.register_once({distinct_id:t,$device_id:t},"")},MixpanelLib.prototype.get_distinct_id=function(){return this.get_property("distinct_id")},MixpanelLib.prototype.alias=function(t,n){if(t===this.get_property(ev))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var r=this;return(Y.isUndefined(n)&&(n=this.get_distinct_id()),t!==n)?(this._register_single(eb,t),this.track("$create_alias",{alias:t,distinct_id:n},{skip_hooks:!0},function(){r.identify(t)})):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(t),-1)},MixpanelLib.prototype.name_tag=function(t){this._register_single("mp_name_tag",t)},MixpanelLib.prototype.set_config=function(t){Y.isObject(t)&&(Y.extend(this.config,t),t.batch_size&&Y.each(this.request_batchers,function(t){t.resetBatchSize()}),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),k.DEBUG=k.DEBUG||this.get_config("debug"))},MixpanelLib.prototype.get_config=function(t){return this.config[t]},MixpanelLib.prototype._run_hook=function(t){var n=(this.config.hooks[t]||IDENTITY_FUNC).apply(this,O.call(arguments,1));return void 0===n&&(this.report_error(t+" hook did not return a value"),n=null),n},MixpanelLib.prototype.get_property=function(t){return this.persistence.props[t]},MixpanelLib.prototype.toString=function(){var t=this.get_config("name");return t!==ex&&(t=ex+"."+t),t},MixpanelLib.prototype._event_is_disabled=function(t){return Y.isBlockedUA(B)||this._flags.disable_all_events||Y.include(this.__disabled_events,t)},MixpanelLib.prototype._gdpr_init=function(){"localStorage"===this.get_config("opt_out_tracking_persistence_type")&&Y.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_tracking()&&(this.get_config("opt_out_tracking_by_default")||Y.cookie.get("mp_optout"))&&(Y.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))},MixpanelLib.prototype._gdpr_update_persistence=function(t){var n;if(t&&t.clear_persistence)n=!0;else{if(!t||!t.enable_persistence)return;n=!1}this.get_config("disable_persistence")||this.persistence.disabled===n||this.persistence.set_disabled(n),n&&Y.each(this.request_batchers,function(t){t.clear()})},MixpanelLib.prototype._gdpr_call_func=function(t,n){return n=Y.extend({track:Y.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},n),Y.localStorage.is_supported()||(n.persistence_type="cookie"),t(this.get_config("token"),{track:n.track,trackEventName:n.track_event_name,trackProperties:n.track_properties,persistenceType:n.persistence_type,persistencePrefix:n.cookie_prefix,cookieDomain:n.cookie_domain,cookieExpiration:n.cookie_expiration,crossSiteCookie:n.cross_site_cookie,crossSubdomainCookie:n.cross_subdomain_cookie,secureCookie:n.secure_cookie,ignoreDnt:n.ignore_dnt})},MixpanelLib.prototype.opt_in_tracking=function(t){t=Y.extend({enable_persistence:!0},t),this._gdpr_call_func(optIn,t),this._gdpr_update_persistence(t)},MixpanelLib.prototype.opt_out_tracking=function(t){(t=Y.extend({clear_persistence:!0,delete_user:!0},t)).delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(optOut,t),this._gdpr_update_persistence(t)},MixpanelLib.prototype.has_opted_in_tracking=function(t){return this._gdpr_call_func(hasOptedIn,t)},MixpanelLib.prototype.has_opted_out_tracking=function(t){return this._gdpr_call_func(hasOptedOut,t)},MixpanelLib.prototype.clear_opt_in_out_tracking=function(t){t=Y.extend({enable_persistence:!0},t),this._gdpr_call_func(clearOptInOut,t),this._gdpr_update_persistence(t)},MixpanelLib.prototype.report_error=function(t,n){z.error.apply(z.error,arguments);try{n||t instanceof Error||(t=Error(t)),this.get_config("error_reporter")(t,n)}catch(t){z.error(t)}},MixpanelLib.prototype.init=MixpanelLib.prototype.init,MixpanelLib.prototype.reset=MixpanelLib.prototype.reset,MixpanelLib.prototype.disable=MixpanelLib.prototype.disable,MixpanelLib.prototype.time_event=MixpanelLib.prototype.time_event,MixpanelLib.prototype.track=MixpanelLib.prototype.track,MixpanelLib.prototype.track_links=MixpanelLib.prototype.track_links,MixpanelLib.prototype.track_forms=MixpanelLib.prototype.track_forms,MixpanelLib.prototype.track_pageview=MixpanelLib.prototype.track_pageview,MixpanelLib.prototype.register=MixpanelLib.prototype.register,MixpanelLib.prototype.register_once=MixpanelLib.prototype.register_once,MixpanelLib.prototype.unregister=MixpanelLib.prototype.unregister,MixpanelLib.prototype.identify=MixpanelLib.prototype.identify,MixpanelLib.prototype.alias=MixpanelLib.prototype.alias,MixpanelLib.prototype.name_tag=MixpanelLib.prototype.name_tag,MixpanelLib.prototype.set_config=MixpanelLib.prototype.set_config,MixpanelLib.prototype.get_config=MixpanelLib.prototype.get_config,MixpanelLib.prototype.get_property=MixpanelLib.prototype.get_property,MixpanelLib.prototype.get_distinct_id=MixpanelLib.prototype.get_distinct_id,MixpanelLib.prototype.toString=MixpanelLib.prototype.toString,MixpanelLib.prototype.opt_out_tracking=MixpanelLib.prototype.opt_out_tracking,MixpanelLib.prototype.opt_in_tracking=MixpanelLib.prototype.opt_in_tracking,MixpanelLib.prototype.has_opted_out_tracking=MixpanelLib.prototype.has_opted_out_tracking,MixpanelLib.prototype.has_opted_in_tracking=MixpanelLib.prototype.has_opted_in_tracking,MixpanelLib.prototype.clear_opt_in_out_tracking=MixpanelLib.prototype.clear_opt_in_out_tracking,MixpanelLib.prototype.get_group=MixpanelLib.prototype.get_group,MixpanelLib.prototype.set_group=MixpanelLib.prototype.set_group,MixpanelLib.prototype.add_group=MixpanelLib.prototype.add_group,MixpanelLib.prototype.remove_group=MixpanelLib.prototype.remove_group,MixpanelLib.prototype.track_with_groups=MixpanelLib.prototype.track_with_groups,MixpanelLib.prototype.start_batch_senders=MixpanelLib.prototype.start_batch_senders,MixpanelLib.prototype.stop_batch_senders=MixpanelLib.prototype.stop_batch_senders,MixpanelPersistence.prototype.properties=MixpanelPersistence.prototype.properties,MixpanelPersistence.prototype.update_search_keyword=MixpanelPersistence.prototype.update_search_keyword,MixpanelPersistence.prototype.update_referrer_info=MixpanelPersistence.prototype.update_referrer_info,MixpanelPersistence.prototype.get_cross_subdomain=MixpanelPersistence.prototype.get_cross_subdomain,MixpanelPersistence.prototype.clear=MixpanelPersistence.prototype.clear;var eI={},extend_mp=function(){Y.each(eI,function(t,n){n!==ex&&(w[n]=t)}),w._=Y},eN=(x=0,(w=new MixpanelLib).init=function(t,n,r){if(r)return w[r]||(w[r]=eI[r]=create_mplib(t,n,r),w[r]._loaded()),w[r];var i=w;eI[ex]?i=eI[ex]:t&&((i=create_mplib(t,n,ex))._loaded(),eI[ex]=i),w=i,1===x&&(E[ex]=w),extend_mp()},w.init(),function(){function dom_loaded_handler(){dom_loaded_handler.done||(dom_loaded_handler.done=!0,eM=!0,eT=!1,Y.each(eI,function(t){t._dom_loaded()}))}if(j.addEventListener)"complete"===j.readyState?dom_loaded_handler():j.addEventListener("DOMContentLoaded",dom_loaded_handler,!1);else if(j.attachEvent){j.attachEvent("onreadystatechange",dom_loaded_handler);var t=!1;try{t=null===E.frameElement}catch(t){}j.documentElement.doScroll&&t&&function do_scroll_check(){try{j.documentElement.doScroll("left")}catch(t){setTimeout(do_scroll_check,1);return}dom_loaded_handler()}()}Y.register_event(E,"load",dom_loaded_handler,!0)}(),w);t.exports=eN},29548:function(t,n,r){"use strict";var i=r(64836);Object.defineProperty(n,"__esModule",{value:!0}),n.BroadcastChannel=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nextauth.message";return{receive:function(n){var handler=function(r){if(r.key===t){var i,o=JSON.parse(null!==(i=r.newValue)&&void 0!==i?i:"{}");(null==o?void 0:o.event)==="session"&&null!=o&&o.data&&n(o)}};return window.addEventListener("storage",handler),function(){return window.removeEventListener("storage",handler)}},post:function(n){if("undefined"!=typeof window)try{localStorage.setItem(t,JSON.stringify(_objectSpread(_objectSpread({},n),{},{timestamp:now()})))}catch(t){}}}},n.apiBaseUrl=apiBaseUrl,n.fetchData=function(t,n,r){return _fetchData.apply(this,arguments)},n.now=now;var o=i(r(64687)),s=i(r(38416)),a=i(r(17156));function ownKeys(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function _objectSpread(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(r),!0).forEach(function(n){(0,s.default)(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _fetchData(){return(_fetchData=(0,a.default)(o.default.mark(function _callee(t,n,r){var i,s,a,l,c,u,d,p,m,_=arguments;return o.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return s=(i=_.length>3&&void 0!==_[3]?_[3]:{}).ctx,l=void 0===(a=i.req)?null==s?void 0:s.req:a,c="".concat(apiBaseUrl(n),"/").concat(t),o.prev=2,d={headers:_objectSpread({"Content-Type":"application/json"},null!=l&&null!==(u=l.headers)&&void 0!==u&&u.cookie?{cookie:l.headers.cookie}:{})},null!=l&&l.body&&(d.body=JSON.stringify(l.body),d.method="POST"),o.next=7,fetch(c,d);case 7:return p=o.sent,o.next=10,p.json();case 10:if(m=o.sent,p.ok){o.next=13;break}throw m;case 13:return o.abrupt("return",Object.keys(m).length>0?m:null);case 16:return o.prev=16,o.t0=o.catch(2),r.error("CLIENT_FETCH_ERROR",{error:o.t0,url:c}),o.abrupt("return",null);case 20:case"end":return o.stop()}},_callee,null,[[2,16]])}))).apply(this,arguments)}function apiBaseUrl(t){return"undefined"==typeof window?"".concat(t.baseUrlServer).concat(t.basePathServer):t.basePath}function now(){return Math.floor(Date.now()/1e3)}},36925:function(t,n,r){"use strict";var i=r(64836);Object.defineProperty(n,"__esModule",{value:!0}),n.UnsupportedStrategy=n.UnknownError=n.OAuthCallbackError=n.MissingSecret=n.MissingAuthorize=n.MissingAdapterMethods=n.MissingAdapter=n.MissingAPIRoute=n.InvalidCallbackUrl=n.AccountNotLinkedError=void 0,n.adapterErrorHandler=function(t,n){if(t)return Object.keys(t).reduce(function(r,i){return r[i]=(0,s.default)(o.default.mark(function _callee2(){var r,s,a,l,c,u=arguments;return o.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:for(o.prev=0,s=Array(r=u.length),a=0;a<r;a++)s[a]=u[a];return n.debug("adapter_".concat(i),{args:s}),l=t[i],o.next=6,l.apply(void 0,s);case 6:return o.abrupt("return",o.sent);case 9:throw o.prev=9,o.t0=o.catch(0),n.error("adapter_error_".concat(i),o.t0),(c=new _(o.t0)).name="".concat(capitalize(i),"Error"),c;case 15:case"end":return o.stop()}},_callee2,null,[[0,9]])})),r},{})},n.capitalize=capitalize,n.eventsErrorHandler=function(t,n){return Object.keys(t).reduce(function(r,i){return r[i]=(0,s.default)(o.default.mark(function _callee(){var r,s=arguments;return o.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,r=t[i],o.next=4,r.apply(void 0,s);case 4:return o.abrupt("return",o.sent);case 7:o.prev=7,o.t0=o.catch(0),n.error("".concat(upperSnake(i),"_EVENT_ERROR"),o.t0);case 10:case"end":return o.stop()}},_callee,null,[[0,7]])})),r},{})},n.upperSnake=upperSnake;var o=i(r(64687)),s=i(r(17156)),a=i(r(66115)),l=i(r(38416)),c=i(r(56690)),u=i(r(89728)),d=i(r(61655)),p=i(r(94993)),m=i(r(73808));function _createSuper(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,i=(0,m.default)(t);if(n){var o=(0,m.default)(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return(0,p.default)(this,r)}}var _=function(t){(0,d.default)(UnknownError,t);var n=_createSuper(UnknownError);function UnknownError(t){var r,i;return(0,c.default)(this,UnknownError),(i=n.call(this,null!==(r=null==t?void 0:t.message)&&void 0!==r?r:t)).name="UnknownError",i.code=t.code,t instanceof Error&&(i.stack=t.stack),i}return(0,u.default)(UnknownError,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,stack:this.stack}}}]),UnknownError}((0,i(r(33496)).default)(Error));n.UnknownError=_;var v=function(t){(0,d.default)(OAuthCallbackError,t);var n=_createSuper(OAuthCallbackError);function OAuthCallbackError(){var t;(0,c.default)(this,OAuthCallbackError);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n.call.apply(n,[this].concat(i)),(0,l.default)((0,a.default)(t),"name","OAuthCallbackError"),t}return(0,u.default)(OAuthCallbackError)}(_);n.OAuthCallbackError=v;var b=function(t){(0,d.default)(AccountNotLinkedError,t);var n=_createSuper(AccountNotLinkedError);function AccountNotLinkedError(){var t;(0,c.default)(this,AccountNotLinkedError);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n.call.apply(n,[this].concat(i)),(0,l.default)((0,a.default)(t),"name","AccountNotLinkedError"),t}return(0,u.default)(AccountNotLinkedError)}(_);n.AccountNotLinkedError=b;var E=function(t){(0,d.default)(MissingAPIRoute,t);var n=_createSuper(MissingAPIRoute);function MissingAPIRoute(){var t;(0,c.default)(this,MissingAPIRoute);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n.call.apply(n,[this].concat(i)),(0,l.default)((0,a.default)(t),"name","MissingAPIRouteError"),(0,l.default)((0,a.default)(t),"code","MISSING_NEXTAUTH_API_ROUTE_ERROR"),t}return(0,u.default)(MissingAPIRoute)}(_);n.MissingAPIRoute=E;var x=function(t){(0,d.default)(MissingSecret,t);var n=_createSuper(MissingSecret);function MissingSecret(){var t;(0,c.default)(this,MissingSecret);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n.call.apply(n,[this].concat(i)),(0,l.default)((0,a.default)(t),"name","MissingSecretError"),(0,l.default)((0,a.default)(t),"code","NO_SECRET"),t}return(0,u.default)(MissingSecret)}(_);n.MissingSecret=x;var w=function(t){(0,d.default)(MissingAuthorize,t);var n=_createSuper(MissingAuthorize);function MissingAuthorize(){var t;(0,c.default)(this,MissingAuthorize);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n.call.apply(n,[this].concat(i)),(0,l.default)((0,a.default)(t),"name","MissingAuthorizeError"),(0,l.default)((0,a.default)(t),"code","CALLBACK_CREDENTIALS_HANDLER_ERROR"),t}return(0,u.default)(MissingAuthorize)}(_);n.MissingAuthorize=w;var k=function(t){(0,d.default)(MissingAdapter,t);var n=_createSuper(MissingAdapter);function MissingAdapter(){var t;(0,c.default)(this,MissingAdapter);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n.call.apply(n,[this].concat(i)),(0,l.default)((0,a.default)(t),"name","MissingAdapterError"),(0,l.default)((0,a.default)(t),"code","EMAIL_REQUIRES_ADAPTER_ERROR"),t}return(0,u.default)(MissingAdapter)}(_);n.MissingAdapter=k;var T=function(t){(0,d.default)(MissingAdapterMethods,t);var n=_createSuper(MissingAdapterMethods);function MissingAdapterMethods(){var t;(0,c.default)(this,MissingAdapterMethods);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n.call.apply(n,[this].concat(i)),(0,l.default)((0,a.default)(t),"name","MissingAdapterMethodsError"),(0,l.default)((0,a.default)(t),"code","MISSING_ADAPTER_METHODS_ERROR"),t}return(0,u.default)(MissingAdapterMethods)}(_);n.MissingAdapterMethods=T;var C=function(t){(0,d.default)(UnsupportedStrategy,t);var n=_createSuper(UnsupportedStrategy);function UnsupportedStrategy(){var t;(0,c.default)(this,UnsupportedStrategy);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n.call.apply(n,[this].concat(i)),(0,l.default)((0,a.default)(t),"name","UnsupportedStrategyError"),(0,l.default)((0,a.default)(t),"code","CALLBACK_CREDENTIALS_JWT_ERROR"),t}return(0,u.default)(UnsupportedStrategy)}(_);n.UnsupportedStrategy=C;var R=function(t){(0,d.default)(InvalidCallbackUrl,t);var n=_createSuper(InvalidCallbackUrl);function InvalidCallbackUrl(){var t;(0,c.default)(this,InvalidCallbackUrl);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n.call.apply(n,[this].concat(i)),(0,l.default)((0,a.default)(t),"name","InvalidCallbackUrl"),(0,l.default)((0,a.default)(t),"code","INVALID_CALLBACK_URL_ERROR"),t}return(0,u.default)(InvalidCallbackUrl)}(_);function upperSnake(t){return t.replace(/([A-Z])/g,"_$1").toUpperCase()}function capitalize(t){return"".concat(t[0].toUpperCase()).concat(t.slice(1))}n.InvalidCallbackUrl=R},33299:function(t,n,r){"use strict";var i,o,s,a,l,c=r(83454),u=r(64836),d=r(18698);Object.defineProperty(n,"__esModule",{value:!0});var p={SessionContext:!0,useSession:!0,getSession:!0,getCsrfToken:!0,getProviders:!0,signIn:!0,signOut:!0,SessionProvider:!0};n.SessionContext=void 0,n.SessionProvider=function(t){if(!I)throw Error("React Context is unavailable in Server Components");var n,r,i,o,s,a,l=t.children,c=t.basePath,u=t.refetchInterval,d=t.refetchWhenOffline;c&&(R.basePath=c);var p=void 0!==t.session;R._lastSync=p?(0,k.now)():0;var _=E.useState(function(){return p&&(R._session=t.session),t.session}),x=(0,b.default)(_,2),w=x[0],C=x[1],N=E.useState(!p),D=(0,b.default)(N,2),P=D[0],j=D[1];E.useEffect(function(){return R._getSession=(0,v.default)(m.default.mark(function _callee(){var t,n,r=arguments;return m.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(t=(r.length>0&&void 0!==r[0]?r[0]:{}).event,i.prev=1,!((n="storage"===t)||void 0===R._session)){i.next=10;break}return R._lastSync=(0,k.now)(),i.next=7,getSession({broadcast:!n});case 7:return R._session=i.sent,C(R._session),i.abrupt("return");case 10:if(!(!t||null===R._session||(0,k.now)()<R._lastSync)){i.next=12;break}return i.abrupt("return");case 12:return R._lastSync=(0,k.now)(),i.next=15,getSession();case 15:R._session=i.sent,C(R._session),i.next=22;break;case 19:i.prev=19,i.t0=i.catch(1),O.error("CLIENT_SESSION_ERROR",i.t0);case 22:return i.prev=22,j(!1),i.finish(22);case 25:case"end":return i.stop()}},_callee,null,[[1,19,22,25]])})),R._getSession(),function(){R._lastSync=0,R._session=void 0,R._getSession=function(){}}},[]),E.useEffect(function(){var t=M.receive(function(){return R._getSession({event:"storage"})});return function(){return t()}},[]),E.useEffect(function(){var n=t.refetchOnWindowFocus,r=void 0===n||n,visibilityHandler=function(){r&&"visible"===document.visibilityState&&R._getSession({event:"visibilitychange"})};return document.addEventListener("visibilitychange",visibilityHandler,!1),function(){return document.removeEventListener("visibilitychange",visibilityHandler,!1)}},[t.refetchOnWindowFocus]);var A=(n=E.useState("undefined"!=typeof navigator&&navigator.onLine),i=(r=(0,b.default)(n,2))[0],o=r[1],s=function(){return o(!0)},a=function(){return o(!1)},E.useEffect(function(){return window.addEventListener("online",s),window.addEventListener("offline",a),function(){window.removeEventListener("online",s),window.removeEventListener("offline",a)}},[]),i),L=!1!==d||A;E.useEffect(function(){if(u&&L){var t=setInterval(function(){R._session&&R._getSession({event:"poll"})},1e3*u);return function(){return clearInterval(t)}}},[u,L]);var B=E.useMemo(function(){return{data:w,status:P?"loading":w?"authenticated":"unauthenticated",update:function(t){return(0,v.default)(m.default.mark(function _callee2(){var n;return m.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(P||!w)){r.next=2;break}return r.abrupt("return");case 2:return j(!0),r.t0=k.fetchData,r.t1=R,r.t2=O,r.next=8,getCsrfToken();case 8:return r.t3=r.sent,r.t4=t,r.t5={csrfToken:r.t3,data:r.t4},r.t6={body:r.t5},r.t7={req:r.t6},r.next=15,(0,r.t0)("session",r.t1,r.t2,r.t7);case 15:return n=r.sent,j(!1),n&&(C(n),M.post({event:"session",data:{trigger:"getSession"}})),r.abrupt("return",n);case 19:case"end":return r.stop()}},_callee2)}))()}}},[w,P]);return(0,T.jsx)(I.Provider,{value:B,children:l})},n.getCsrfToken=getCsrfToken,n.getProviders=getProviders,n.getSession=getSession,n.signIn=function(t,n,r){return _signIn.apply(this,arguments)},n.signOut=function(t){return _signOut.apply(this,arguments)},n.useSession=function(t){if(!I)throw Error("React Context is unavailable in Server Components");var n=E.useContext(I),r=null!=t?t:{},i=r.required,o=r.onUnauthenticated,s=i&&"unauthenticated"===n.status;return(E.useEffect(function(){if(s){var t="/api/auth/signin?".concat(new URLSearchParams({error:"SessionRequired",callbackUrl:window.location.href}));o?o():window.location.href=t}},[s,o]),s)?{data:n.data,update:n.update,status:"loading"}:n};var m=u(r(64687)),_=u(r(38416)),v=u(r(17156)),b=u(r(27424)),E=_interopRequireWildcard(r(67294)),x=_interopRequireWildcard(r(26553)),w=u(r(30762)),k=r(29548),T=r(85893),C=r(527);function _getRequireWildcardCache(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,r=new WeakMap;return(_getRequireWildcardCache=function(t){return t?r:n})(t)}function _interopRequireWildcard(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!==d(t)&&"function"!=typeof t)return{default:t};var r=_getRequireWildcardCache(n);if(r&&r.has(t))return r.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var a=o?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=t[s]}return i.default=t,r&&r.set(t,i),i}function ownKeys(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function _objectSpread(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(r),!0).forEach(function(n){(0,_.default)(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}Object.keys(C).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(p,t))&&(t in n&&n[t]===C[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return C[t]}}))});var R={baseUrl:(0,w.default)(null!==(i=c.env.NEXTAUTH_URL)&&void 0!==i?i:c.env.VERCEL_URL).origin,basePath:(0,w.default)(c.env.NEXTAUTH_URL).path,baseUrlServer:(0,w.default)(null!==(o=null!==(s=c.env.NEXTAUTH_URL_INTERNAL)&&void 0!==s?s:c.env.NEXTAUTH_URL)&&void 0!==o?o:c.env.VERCEL_URL).origin,basePathServer:(0,w.default)(null!==(a=c.env.NEXTAUTH_URL_INTERNAL)&&void 0!==a?a:c.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:function(){}},M=(0,k.BroadcastChannel)(),O=(0,x.proxyLogger)(x.default,R.basePath),I=null===(l=E.createContext)||void 0===l?void 0:l.call(E,void 0);function getSession(t){return _getSession2.apply(this,arguments)}function _getSession2(){return(_getSession2=(0,v.default)(m.default.mark(function _callee3(t){var n,r;return m.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,k.fetchData)("session",R,O,t);case 2:return r=i.sent,(null===(n=null==t?void 0:t.broadcast)||void 0===n||n)&&M.post({event:"session",data:{trigger:"getSession"}}),i.abrupt("return",r);case 5:case"end":return i.stop()}},_callee3)}))).apply(this,arguments)}function getCsrfToken(t){return _getCsrfToken.apply(this,arguments)}function _getCsrfToken(){return(_getCsrfToken=(0,v.default)(m.default.mark(function _callee4(t){var n;return m.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,k.fetchData)("csrf",R,O,t);case 2:return n=r.sent,r.abrupt("return",null==n?void 0:n.csrfToken);case 4:case"end":return r.stop()}},_callee4)}))).apply(this,arguments)}function getProviders(){return _getProviders.apply(this,arguments)}function _getProviders(){return(_getProviders=(0,v.default)(m.default.mark(function _callee5(){return m.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,k.fetchData)("providers",R,O);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_callee5)}))).apply(this,arguments)}function _signIn(){return(_signIn=(0,v.default)(m.default.mark(function _callee6(t,n,r){var i,o,s,a,l,c,u,d,p,_,v,b,E,x,w,T,C;return m.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return s=void 0===(o=(i=null!=n?n:{}).callbackUrl)?window.location.href:o,l=void 0===(a=i.redirect)||a,c=(0,k.apiBaseUrl)(R),m.next=4,getProviders();case 4:if(u=m.sent){m.next=8;break}return window.location.href="".concat(c,"/error"),m.abrupt("return");case 8:if(!(!t||!(t in u))){m.next=11;break}return window.location.href="".concat(c,"/signin?").concat(new URLSearchParams({callbackUrl:s})),m.abrupt("return");case 11:return d="credentials"===u[t].type,p="email"===u[t].type,_=d||p,v="".concat(c,"/").concat(d?"callback":"signin","/").concat(t),b="".concat(v).concat(r?"?".concat(new URLSearchParams(r)):""),m.t0=fetch,m.t1=b,m.t2={"Content-Type":"application/x-www-form-urlencoded"},m.t3=URLSearchParams,m.t4=_objectSpread,m.t5=_objectSpread({},n),m.t6={},m.next=25,getCsrfToken();case 25:return m.t7=m.sent,m.t8=s,m.t9={csrfToken:m.t7,callbackUrl:m.t8,json:!0},m.t10=(0,m.t4)(m.t5,m.t6,m.t9),m.t11=new m.t3(m.t10),m.t12={method:"post",headers:m.t2,body:m.t11},m.next=33,(0,m.t0)(m.t1,m.t12);case 33:return E=m.sent,m.next=36,E.json();case 36:if(x=m.sent,!(l||!_)){m.next=42;break}return T=null!==(w=x.url)&&void 0!==w?w:s,window.location.href=T,T.includes("#")&&window.location.reload(),m.abrupt("return");case 42:if(C=new URL(x.url).searchParams.get("error"),!E.ok){m.next=46;break}return m.next=46,R._getSession({event:"storage"});case 46:return m.abrupt("return",{error:C,status:E.status,ok:E.ok,url:C?null:x.url});case 47:case"end":return m.stop()}},_callee6)}))).apply(this,arguments)}function _signOut(){return(_signOut=(0,v.default)(m.default.mark(function _callee7(t){var n,r,i,o,s,a,l,c,u;return m.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return i=void 0===(r=(null!=t?t:{}).callbackUrl)?window.location.href:r,o=(0,k.apiBaseUrl)(R),d.t0={"Content-Type":"application/x-www-form-urlencoded"},d.t1=URLSearchParams,d.next=6,getCsrfToken();case 6:return d.t2=d.sent,d.t3=i,d.t4={csrfToken:d.t2,callbackUrl:d.t3,json:!0},d.t5=new d.t1(d.t4),s={method:"post",headers:d.t0,body:d.t5},d.next=13,fetch("".concat(o,"/signout"),s);case 13:return a=d.sent,d.next=16,a.json();case 16:if(l=d.sent,M.post({event:"session",data:{trigger:"signout"}}),!(null===(n=null==t?void 0:t.redirect)||void 0===n||n)){d.next=23;break}return u=null!==(c=l.url)&&void 0!==c?c:i,window.location.href=u,u.includes("#")&&window.location.reload(),d.abrupt("return");case 23:return d.next=25,R._getSession({event:"storage"});case 25:return d.abrupt("return",l);case 26:case"end":return d.stop()}},_callee7)}))).apply(this,arguments)}n.SessionContext=I},527:function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0})},26553:function(t,n,r){"use strict";var i=r(64836);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.proxyLogger=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,n=arguments.length>1?arguments[1]:void 0;try{if("undefined"==typeof window)return t;var r={},_loop=function(t){r[t]=function(r,i){a[t](r,i),"error"===t&&(i=formatError(i)),i.client=!0;var s="".concat(n,"/_log"),l=new URLSearchParams(function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(r),!0).forEach(function(n){(0,o.default)(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}({level:t,code:r},i));return navigator.sendBeacon?navigator.sendBeacon(s,l):fetch(s,{method:"POST",body:l,keepalive:!0})}};for(var i in t)_loop(i);return r}catch(t){return a}},n.setLogger=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;n||(a.debug=function(){}),t.error&&(a.error=t.error),t.warn&&(a.warn=t.warn),t.debug&&(a.debug=t.debug)};var o=i(r(38416)),s=r(36925);function ownKeys(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function formatError(t){var n;return t instanceof Error&&!(t instanceof s.UnknownError)?{message:t.message,stack:t.stack,name:t.name}:(null!=t&&t.error&&(t.error=formatError(t.error),t.message=null!==(n=t.message)&&void 0!==n?n:t.error.message),t)}var a={error:function(t,n){n=formatError(n),console.error("[next-auth][error][".concat(t,"]"),"\nhttps://next-auth.js.org/errors#".concat(t.toLowerCase()),n.message,n)},warn:function(t){console.warn("[next-auth][warn][".concat(t,"]"),"\nhttps://next-auth.js.org/warnings#".concat(t.toLowerCase()))},debug:function(t,n){console.log("[next-auth][debug][".concat(t,"]"),n)}};n.default=a},30762:function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var n;let r=new URL("http://localhost:3000/api/auth");t&&!t.startsWith("http")&&(t=`https://${t}`);let i=new URL(null!==(n=t)&&void 0!==n?n:r),o=("/"===i.pathname?r.pathname:i.pathname).replace(/\/$/,""),s=`${i.origin}${o}`;return{origin:i.origin,host:i.host,path:o,base:s,toString:()=>s}}},82010:function(t,n,r){"use strict";r.d(n,{F:function(){return h},f:function(){return y}});var i=r(67294);let o=["light","dark"],s="(prefers-color-scheme: dark)",a="undefined"==typeof window,l=(0,i.createContext)(void 0),c={setTheme:t=>{},themes:[]},h=()=>{var t;return null!==(t=(0,i.useContext)(l))&&void 0!==t?t:c},y=t=>(0,i.useContext)(l)?i.createElement(i.Fragment,null,t.children):i.createElement($,t),$=({forcedTheme:t,disableTransitionOnChange:n=!1,enableSystem:r=!0,enableColorScheme:a=!0,storageKey:c="theme",themes:d=["light","dark"],defaultTheme:p=r?"system":"light",attribute:m="data-theme",value:_,children:v,nonce:b})=>{let[E,x]=(0,i.useState)(()=>f(c,p)),[w,k]=(0,i.useState)(()=>f(c)),T=_?Object.values(_):d,C=(0,i.useCallback)(t=>{let i=t;if(!i)return;"system"===t&&r&&(i=S());let s=_?_[i]:i,l=n?g():null,c=document.documentElement;if("class"===m?(c.classList.remove(...T),s&&c.classList.add(s)):s?c.setAttribute(m,s):c.removeAttribute(m),a){let t=o.includes(p)?p:null,n=o.includes(i)?i:t;c.style.colorScheme=n}null==l||l()},[]),R=(0,i.useCallback)(t=>{x(t);try{localStorage.setItem(c,t)}catch(t){}},[t]),M=(0,i.useCallback)(n=>{let i=S(n);k(i),"system"===E&&r&&!t&&C("system")},[E,t]);return(0,i.useEffect)(()=>{let t=window.matchMedia(s);return t.addListener(M),M(t),()=>t.removeListener(M)},[M]),(0,i.useEffect)(()=>{let e=t=>{t.key===c&&R(t.newValue||p)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[R]),(0,i.useEffect)(()=>{C(null!=t?t:E)},[t,E]),i.createElement(l.Provider,{value:{theme:E,setTheme:R,forcedTheme:t,resolvedTheme:"system"===E?w:E,themes:r?[...d,"system"]:d,systemTheme:r?w:void 0}},i.createElement(u,{forcedTheme:t,disableTransitionOnChange:n,enableSystem:r,enableColorScheme:a,storageKey:c,themes:d,defaultTheme:p,attribute:m,value:_,children:v,attrs:T,nonce:b}),v)},u=(0,i.memo)(({forcedTheme:t,storageKey:n,attribute:r,enableSystem:a,enableColorScheme:l,defaultTheme:c,value:u,attrs:d,nonce:p})=>{let m="system"===c,_="class"===r?`var d=document.documentElement,c=d.classList;c.remove(${d.map(t=>`'${t}'`).join(",")});`:`var d=document.documentElement,n='${r}',s='setAttribute';`,v=l?o.includes(c)&&c?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${c}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",$=(t,n=!1,i=!0)=>{let s=u?u[t]:t,a=n?t+"|| ''":`'${s}'`,c="";return l&&i&&!n&&o.includes(t)&&(c+=`d.style.colorScheme = '${t}';`),"class"===r?c+=n||s?`c.add(${a})`:"null":s&&(c+=`d[s](n,${a})`),c},b=t?`!function(){${_}${$(t)}}()`:a?`!function(){try{${_}var e=localStorage.getItem('${n}');if('system'===e||(!e&&${m})){var t='${s}',m=window.matchMedia(t);if(m.media!==t||m.matches){${$("dark")}}else{${$("light")}}}else if(e){${u?`var x=${JSON.stringify(u)};`:""}${$(u?"x[e]":"e",!0)}}${m?"":"else{"+$(c,!1,!1)+"}"}${v}}catch(e){}}()`:`!function(){try{${_}var e=localStorage.getItem('${n}');if(e){${u?`var x=${JSON.stringify(u)};`:""}${$(u?"x[e]":"e",!0)}}else{${$(c,!1,!1)};}${v}}catch(t){}}();`;return i.createElement("script",{nonce:p,dangerouslySetInnerHTML:{__html:b}})},()=>!0),f=(t,n)=>{let r;if(!a){try{r=localStorage.getItem(t)||void 0}catch(t){}return r||n}},g=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},S=t=>(t||(t=window.matchMedia(s)),t.matches?"dark":"light")},83454:function(t,n,r){"use strict";var i,o;t.exports=(null==(i=r.g.process)?void 0:i.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(77663)},6840:function(t,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(62607)}])},65822:function(t,n,r){"use strict";let i,o,s,a,l,c,u,d,p,m,_,v,b,E,x,w,k,T;var C,R,M,O,I,N,D,P,j,A=r(95659);function hasTracingEnabled(t){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;let n=(0,A.Gd)().getClient(),r=t||n&&n.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}let L=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function resolve(...t){let n="",r=!1;for(let i=t.length-1;i>=-1&&!r;i--){let o=i>=0?t[i]:"/";o&&(n=`${o}/${n}`,r="/"===o.charAt(0))}return n=(function(t,n){let r=0;for(let n=t.length-1;n>=0;n--){let i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(n)for(;r--;r)t.unshift("..");return t})(n.split("/").filter(t=>!!t),!r).join("/"),(r?"/":"")+n||"."}function trim(t){let n=0;for(;n<t.length&&""===t[n];n++);let r=t.length-1;for(;r>=0&&""===t[r];r--);return n>r?[]:t.slice(n,r-n+1)}let RewriteFrames=class RewriteFrames{static __initStatic(){this.id="RewriteFrames"}constructor(t={}){RewriteFrames.prototype.__init.call(this),this.name=RewriteFrames.id,t.root&&(this._root=t.root),this._prefix=t.prefix||"app:///",t.iteratee&&(this._iteratee=t.iteratee)}setupOnce(t,n){}processEvent(t){return this.process(t)}process(t){let n=t;return t.exception&&Array.isArray(t.exception.values)&&(n=this._processExceptionsEvent(n)),n}__init(){this._iteratee=t=>{if(!t.filename)return t;let n=/^[a-zA-Z]:\\/.test(t.filename)||t.filename.includes("\\")&&!t.filename.includes("/"),r=/^\//.test(t.filename);if(n||r){var i;let r;let o=n?t.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):t.filename,s=this._root?function(t,n){t=resolve(t).slice(1),n=resolve(n).slice(1);let r=trim(t.split("/")),i=trim(n.split("/")),o=Math.min(r.length,i.length),s=o;for(let t=0;t<o;t++)if(r[t]!==i[t]){s=t;break}let a=[];for(let t=s;t<r.length;t++)a.push("..");return(a=a.concat(i.slice(s))).join("/")}(this._root,o):(r=function(t){let n=t.length>1024?`<truncated>${t.slice(-1024)}`:t,r=L.exec(n);return r?r.slice(1):[]}(o)[2],i&&r.slice(-1*i.length)===i&&(r=r.slice(0,r.length-i.length)),r);t.filename=`${this._prefix}${s}`}return t}}_processExceptionsEvent(t){try{return{...t,exception:{...t.exception,values:t.exception.values.map(t=>({...t,...t.stacktrace&&{stacktrace:this._processStacktrace(t.stacktrace)}}))}}}catch(n){return t}}_processStacktrace(t){return{...t,frames:t&&t.frames&&t.frames.map(t=>this._iteratee(t))}}};RewriteFrames.__initStatic();let B="7.80.0";var U=r(12343),F=r(62844),H=r(57321);let G=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],W=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/];let InboundFilters=class InboundFilters{static __initStatic(){this.id="InboundFilters"}constructor(t={}){this.name=InboundFilters.id,this._options=t}setupOnce(t,n){}processEvent(t,n,r){var i;let o=r.getOptions(),s=function(t={},n={}){return{allowUrls:[...t.allowUrls||[],...n.allowUrls||[]],denyUrls:[...t.denyUrls||[],...n.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...n.ignoreErrors||[],...t.disableErrorDefaults?[]:G],ignoreTransactions:[...t.ignoreTransactions||[],...n.ignoreTransactions||[],...t.disableTransactionDefaults?[]:W],ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(this._options,o);return(s.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(t){}return!1}(t)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn(`Event dropped due to being internal Sentry Error.
Event: ${(0,F.jH)(t)}`),0):(i=s.ignoreErrors,!t.type&&i&&i.length&&(function(t){let n;let r=[];t.message&&r.push(t.message);try{n=t.exception.values[t.exception.values.length-1]}catch(t){}return n&&n.value&&(r.push(n.value),n.type&&r.push(`${n.type}: ${n.value}`)),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&0===r.length&&U.kg.error(`Could not extract message for event ${(0,F.jH)(t)}`),r})(t).some(t=>(0,H.U0)(t,i)))?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${(0,F.jH)(t)}`),0):!function(t,n){if("transaction"!==t.type||!n||!n.length)return!1;let r=t.transaction;return!!r&&(0,H.U0)(r,n)}(t,s.ignoreTransactions)?!function(t,n){if(!n||!n.length)return!1;let r=_getEventFilterUrl(t);return!!r&&(0,H.U0)(r,n)}(t,s.denyUrls)?function(t,n){if(!n||!n.length)return!0;let r=_getEventFilterUrl(t);return!r||(0,H.U0)(r,n)}(t,s.allowUrls)||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${(0,F.jH)(t)}.
Url: ${_getEventFilterUrl(t)}`),0):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${(0,F.jH)(t)}.
Url: ${_getEventFilterUrl(t)}`),0):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${(0,F.jH)(t)}`),0))?t:null}};function _getEventFilterUrl(t){try{let n;try{n=t.exception.values[0].stacktrace.frames}catch(t){}return n?function(t=[]){for(let n=t.length-1;n>=0;n--){let r=t[n];if(r&&"<anonymous>"!==r.filename&&"[native code]"!==r.filename)return r.filename||null}return null}(n):null}catch(n){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.error(`Cannot extract url for event ${(0,F.jH)(t)}`),null}}InboundFilters.__initStatic();var q=r(20535);let FunctionToString=class FunctionToString{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=FunctionToString.id}setupOnce(){i=Function.prototype.toString;try{Function.prototype.toString=function(...t){let n=(0,q.HK)(this)||this;return i.apply(n,t)}}catch(t){}}};FunctionToString.__initStatic();var Y=r(71195);let z=[];function setupIntegration(t,n,r){if(r[n.name]=n,-1===z.indexOf(n.name)&&(n.setupOnce(Y.cc,A.Gd),z.push(n.name)),t.on&&"function"==typeof n.preprocessEvent){let r=n.preprocessEvent.bind(n);t.on("preprocessEvent",(n,i)=>r(n,i,t))}if(t.addEventProcessor&&"function"==typeof n.processEvent){let r=n.processEvent.bind(n),i=Object.assign((n,i)=>r(n,i,t),{id:n.name});t.addEventProcessor(i)}("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`Integration installed: ${n.name}`)}let Z=/\(error: (.*)\)/,V=/captureMessage|captureException/;function createStackParser(...t){let n=t.sort((t,n)=>t[0]-n[0]).map(t=>t[1]);return(t,r=0)=>{let i=[],o=t.split("\n");for(let t=r;t<o.length;t++){let r=o[t];if(r.length>1024)continue;let s=Z.test(r)?r.replace(Z,"$1"):r;if(!s.match(/\S*Error: /)){for(let t of n){let n=t(s);if(n){i.push(n);break}}if(i.length>=50)break}}return function(t){if(!t.length)return[];let n=Array.from(t);return/sentryWrapped/.test(n[n.length-1].function||"")&&n.pop(),n.reverse(),V.test(n[n.length-1].function||"")&&(n.pop(),V.test(n[n.length-1].function||"")&&n.pop()),n.slice(0,50).map(t=>({...t,filename:t.filename||n[n.length-1].filename,function:t.function||"?"}))}(i)}}let K="<anonymous>";function getFunctionName(t){try{if(!t||"function"!=typeof t)return K;return t.name||K}catch(t){return K}}var J=r(71235);let X=(0,J.Rf)();function supportsFetch(){if(!("fetch"in X))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}function isNativeFetch(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}var Q=r(67597);let ee=(0,J.Rf)(),et=(0,J.Rf)(),en="__sentry_xhr_v2__",er={},ei={};function addInstrumentationHandler(t,n){er[t]=er[t]||[],er[t].push(n),function(t){if(!ei[t])switch(ei[t]=!0,t){case"console":"console"in J.n2&&U.RU.forEach(function(t){t in J.n2.console&&(0,q.hl)(J.n2.console,t,function(n){return U.LD[t]=n,function(...n){triggerHandlers("console",{args:n,level:t});let r=U.LD[t];r&&r.apply(J.n2.console,n)}})});break;case"dom":(function(){if(!et.document)return;let t=triggerHandlers.bind(null,"dom"),n=makeDOMEventHandler(t,!0);et.document.addEventListener("click",n,!1),et.document.addEventListener("keypress",n,!1),["EventTarget","Node"].forEach(n=>{let r=et[n]&&et[n].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&((0,q.hl)(r,"addEventListener",function(n){return function(r,i,o){if("click"===r||"keypress"==r)try{let i=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},s=i[r]=i[r]||{refCount:0};if(!s.handler){let i=makeDOMEventHandler(t);s.handler=i,n.call(this,r,i,o)}s.refCount++}catch(t){}return n.call(this,r,i,o)}}),(0,q.hl)(r,"removeEventListener",function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{let r=this.__sentry_instrumentation_handlers__||{},o=r[n];o&&(o.refCount--,o.refCount<=0&&(t.call(this,n,o.handler,i),o.handler=void 0,delete r[n]),0===Object.keys(r).length&&delete this.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,n,r,i)}}))})})();break;case"xhr":(function(){if(!et.XMLHttpRequest)return;let t=XMLHttpRequest.prototype;(0,q.hl)(t,"open",function(t){return function(...n){let r=Date.now(),i=n[1],o=this[en]={method:(0,Q.HD)(n[0])?n[0].toUpperCase():n[0],url:n[1],request_headers:{}};(0,Q.HD)(i)&&"POST"===o.method&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let onreadystatechangeHandler=()=>{let t=this[en];if(t&&4===this.readyState){try{t.status_code=this.status}catch(t){}triggerHandlers("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:r,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?(0,q.hl)(this,"onreadystatechange",function(t){return function(...n){return onreadystatechangeHandler(),t.apply(this,n)}}):this.addEventListener("readystatechange",onreadystatechangeHandler),(0,q.hl)(this,"setRequestHeader",function(t){return function(...n){let[r,i]=n,o=this[en];return o&&(o.request_headers[r.toLowerCase()]=i),t.apply(this,n)}}),t.apply(this,n)}}),(0,q.hl)(t,"send",function(t){return function(...n){let r=this[en];return r&&void 0!==n[0]&&(r.body=n[0]),triggerHandlers("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),t.apply(this,n)}})})();break;case"fetch":!function(){if(!supportsFetch())return!1;if(isNativeFetch(X.fetch))return!0;let t=!1,n=X.document;if(n&&"function"==typeof n.createElement)try{let r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=isNativeFetch(r.contentWindow.fetch)),n.head.removeChild(r)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return t}()||(0,q.hl)(J.n2,"fetch",function(t){return function(...n){let{method:r,url:i}=function(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){let[n,r]=t;return{url:getUrlFromResource(n),method:hasProp(r,"method")?String(r.method).toUpperCase():"GET"}}let n=t[0];return{url:getUrlFromResource(n),method:hasProp(n,"method")?String(n.method).toUpperCase():"GET"}}(n),o={args:n,fetchData:{method:r,url:i},startTimestamp:Date.now()};return triggerHandlers("fetch",{...o}),t.apply(J.n2,n).then(t=>(triggerHandlers("fetch",{...o,endTimestamp:Date.now(),response:t}),t),t=>{throw triggerHandlers("fetch",{...o,endTimestamp:Date.now(),error:t}),t})}});break;case"history":(function(){if(!function(){let t=ee.chrome,n=t&&t.app&&t.app.runtime,r="history"in ee&&!!ee.history.pushState&&!!ee.history.replaceState;return!n&&r}())return;let t=et.onpopstate;function historyReplacementFunction(t){return function(...n){let r=n.length>2?n[2]:void 0;if(r){let t=o,n=String(r);o=n,triggerHandlers("history",{from:t,to:n})}return t.apply(this,n)}}et.onpopstate=function(...n){let r=et.location.href,i=o;if(o=r,triggerHandlers("history",{from:i,to:r}),t)try{return t.apply(this,n)}catch(t){}},(0,q.hl)(et.history,"pushState",historyReplacementFunction),(0,q.hl)(et.history,"replaceState",historyReplacementFunction)})();break;case"error":eo=et.onerror,et.onerror=function(t,n,r,i,o){return triggerHandlers("error",{column:i,error:o,line:r,msg:t,url:n}),!!eo&&!eo.__SENTRY_LOADER__&&eo.apply(this,arguments)},et.onerror.__SENTRY_INSTRUMENTED__=!0;break;case"unhandledrejection":es=et.onunhandledrejection,et.onunhandledrejection=function(t){return triggerHandlers("unhandledrejection",t),!es||!!es.__SENTRY_LOADER__||es.apply(this,arguments)},et.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0;break;default:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn("unknown instrumentation type:",t);return}}(t)}function triggerHandlers(t,n){if(t&&er[t])for(let r of er[t]||[])try{r(n)}catch(n){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${getFunctionName(r)}
Error:`,n)}}function hasProp(t,n){return!!t&&"object"==typeof t&&!!t[n]}function getUrlFromResource(t){return"string"==typeof t?t:t?hasProp(t,"url")?t.url:t.toString?t.toString():"":""}function makeDOMEventHandler(t,n=!1){return r=>{if(!r||r._sentryCaptured)return;let i=function(t){try{return t.target}catch(t){return null}}(r);if("keypress"===r.type&&(!i||!i.tagName||"INPUT"!==i.tagName&&"TEXTAREA"!==i.tagName&&!i.isContentEditable))return;(0,q.xp)(r,"_sentryCaptured",!0),i&&!i._sentryId&&(0,q.xp)(i,"_sentryId",(0,F.DM)());let o="keypress"===r.type?"input":r.type;!function(t){if(t.type!==a)return!1;try{if(!t.target||t.target._sentryId!==l)return!1}catch(t){}return!0}(r)&&(t({event:r,name:o,global:n}),a=r.type,l=i?i._sentryId:void 0),clearTimeout(s),s=et.setTimeout(()=>{l=void 0,a=void 0},1e3)}}let eo=null,es=null,ea=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function dsn_dsnToString(t,n=!1){let{host:r,path:i,pass:o,port:s,projectId:a,protocol:l,publicKey:c}=t;return`${l}://${c}${n&&o?`:${o}`:""}@${r}${s?`:${s}`:""}/${i?`${i}/`:i}${a}`}function dsnFromString(t){let n=ea.exec(t);if(!n){console.error(`Invalid Sentry Dsn: ${t}`);return}let[r,i,o="",s,a="",l]=n.slice(1),c="",u=l,d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){let t=u.match(/^\d+/);t&&(u=t[0])}return dsnFromComponents({host:s,pass:o,path:c,projectId:u,port:a,protocol:r,publicKey:i})}function dsnFromComponents(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}var el=r(96893);function normalize(t,n=100,i=Infinity){try{return function visit(t,n,i=Infinity,o=Infinity,s=function(){let t="function"==typeof WeakSet,n=t?new WeakSet:[];return[function(r){if(t)return!!n.has(r)||(n.add(r),!1);for(let t=0;t<n.length;t++){let i=n[t];if(i===r)return!0}return n.push(r),!1},function(r){if(t)n.delete(r);else for(let t=0;t<n.length;t++)if(n[t]===r){n.splice(t,1);break}}]}()){let[a,l]=s;if(null==n||["number","boolean","string"].includes(typeof n)&&!(0,Q.i2)(n))return n;let c=function(t,n){try{if("domain"===t&&n&&"object"==typeof n&&n._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if(void 0!==r.g&&n===r.g)return"[Global]";if("undefined"!=typeof window&&n===window)return"[Window]";if("undefined"!=typeof document&&n===document)return"[Document]";if((0,Q.y1)(n))return"[VueViewModel]";if((0,Q.Cy)(n))return"[SyntheticEvent]";if("number"==typeof n&&n!=n)return"[NaN]";if("function"==typeof n)return`[Function: ${getFunctionName(n)}]`;if("symbol"==typeof n)return`[${String(n)}]`;if("bigint"==typeof n)return`[BigInt: ${String(n)}]`;let i=function(t){let n=Object.getPrototypeOf(t);return n?n.constructor.name:"null prototype"}(n);if(/^HTML(\w*)Element$/.test(i))return`[HTMLElement: ${i}]`;return`[object ${i}]`}catch(t){return`**non-serializable** (${t})`}}(t,n);if(!c.startsWith("[object "))return c;if(n.__sentry_skip_normalization__)return n;let u="number"==typeof n.__sentry_override_normalization_depth__?n.__sentry_override_normalization_depth__:i;if(0===u)return c.replace("object ","");if(a(n))return"[Circular ~]";if(n&&"function"==typeof n.toJSON)try{let t=n.toJSON();return visit("",t,u-1,o,s)}catch(t){}let d=Array.isArray(n)?[]:{},p=0,m=(0,q.Sh)(n);for(let t in m){if(!Object.prototype.hasOwnProperty.call(m,t))continue;if(p>=o){d[t]="[MaxProperties ~]";break}let n=m[t];d[t]=visit(t,n,u-1,o,s),p++}return l(n),d}("",t,n,i)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function createEnvelope(t,n=[]){return[t,n]}function forEachEnvelopeItem(t,n){let r=t[1];for(let t of r){let r=t[0].type,i=n(t,r);if(i)return!0}return!1}function encodeUTF8(t,n){let r=n||new TextEncoder;return r.encode(t)}let ec={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};function getSdkMetadataForEnvelopeHeader(t){if(!t||!t.sdk)return;let{name:n,version:r}=t.sdk;return{name:n,version:r}}function createEventEnvelopeHeaders(t,n,r,i){let o=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...n&&{sdk:n},...!!r&&i&&{dsn:dsn_dsnToString(i)},...o&&{trace:(0,q.Jr)({...o})}}}let SentryError=class SentryError extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}};var eu=r(9015),ed=r(51131);function getDynamicSamplingContextFromClient(t,n,r){let i=n.getOptions(),{publicKey:o}=n.getDsn()||{},{segment:s}=r&&r.getUser()||{},a=(0,q.Jr)({environment:i.environment||ed.J,release:i.release,user_segment:s,public_key:o,trace_id:t});return n.emit&&n.emit("createDsc",a),a}var ep=r(21170),eh=r(10350);function prepareEvent(t,n,r,i,o){let{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=t,l={...n,event_id:n.event_id||r.event_id||(0,F.DM)(),timestamp:n.timestamp||(0,ep.yW)()},c=r.integrations||t.integrations.map(t=>t.name);(function(t,n){let{environment:r,release:i,dist:o,maxValueLength:s=250}=n;"environment"in t||(t.environment="environment"in n?r:ed.J),void 0===t.release&&void 0!==i&&(t.release=i),void 0===t.dist&&void 0!==o&&(t.dist=o),t.message&&(t.message=(0,H.$G)(t.message,s));let a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=(0,H.$G)(a.value,s));let l=t.request;l&&l.url&&(l.url=(0,H.$G)(l.url,s))})(l,t),c.length>0&&(l.sdk=l.sdk||{},l.sdk.integrations=[...l.sdk.integrations||[],...c]),void 0===n.type&&function(t,n){let r;let i=J.n2._sentryDebugIds;if(!i)return;let o=ef.get(n);o?r=o:(r=new Map,ef.set(n,r));let s=Object.keys(i).reduce((t,o)=>{let s;let a=r.get(o);a?s=a:(s=n(o),r.set(o,s));for(let n=s.length-1;n>=0;n--){let r=s[n];if(r.filename){t[r.filename]=i[o];break}}return t},{});try{t.exception.values.forEach(t=>{t.stacktrace.frames.forEach(t=>{t.filename&&(t.debug_id=s[t.filename])})})}catch(t){}}(l,t.stackParser);let u=i;r.captureContext&&(u=eh.s.clone(u).update(r.captureContext));let d=(0,el.WD)(l),p=o&&o.getEventProcessors?o.getEventProcessors():[];if(u){if(u.getAttachments){let t=[...r.attachments||[],...u.getAttachments()];t.length&&(r.attachments=t)}d=u.applyToEvent(l,r,p)}else d=(0,Y.RP)([...p,...(0,Y.fH)()],l,r);return d.then(t=>(t&&function(t){let n={};try{t.exception.values.forEach(t=>{t.stacktrace.frames.forEach(t=>{t.debug_id&&(t.abs_path?n[t.abs_path]=t.debug_id:t.filename&&(n[t.filename]=t.debug_id),delete t.debug_id)})})}catch(t){}if(0===Object.keys(n).length)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let r=t.debug_meta.images;Object.keys(n).forEach(t=>{r.push({type:"sourcemap",code_file:t,debug_id:n[t]})})}(t),"number"==typeof s&&s>0)?function(t,n,r){if(!t)return null;let i={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(t=>({...t,...t.data&&{data:normalize(t.data,n,r)}}))},...t.user&&{user:normalize(t.user,n,r)},...t.contexts&&{contexts:normalize(t.contexts,n,r)},...t.extra&&{extra:normalize(t.extra,n,r)}};return t.contexts&&t.contexts.trace&&i.contexts&&(i.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(i.contexts.trace.data=normalize(t.contexts.trace.data,n,r))),t.spans&&(i.spans=t.spans.map(t=>(t.data&&(t.data=normalize(t.data,n,r)),t))),i}(t,s,a):t)}let ef=new WeakMap,em="Not capturing exception because it's already been captured.";let BaseClient=class BaseClient{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=function(t){let n="string"==typeof t?dsnFromString(t):dsnFromComponents(t);if(n&&function(t){if(!("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__))return!0;let{port:n,projectId:r,protocol:i}=t,o=["protocol","publicKey","host","projectId"].find(n=>!t[n]&&(U.kg.error(`Invalid Sentry Dsn: ${n} missing`),!0));return!o&&(r.match(/^\d+$/)?"http"===i||"https"===i?!(n&&isNaN(parseInt(n,10)))||(U.kg.error(`Invalid Sentry Dsn: Invalid port ${n}`),!1):(U.kg.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),!1):(U.kg.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1))}(n))return n}(t.dsn):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn("No DSN provided, client will not send events."),this._dsn){let n=function(t,n={}){let r="string"==typeof n?n:n.tunnel,i="string"!=typeof n&&n._metadata?n._metadata.sdk:void 0;return r||`${function(t){let n=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${n}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}(t)}${t.projectId}/envelope/?${(0,q._j)({sentry_key:t.publicKey,sentry_version:"7",...i&&{sentry_client:`${i.name}/${i.version}`}})}`}(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){if((0,F.YO)(t)){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(em);return}let i=n&&n.event_id;return this._process(this.eventFromException(t,n).then(t=>this._captureEvent(t,n,r)).then(t=>{i=t})),i}captureMessage(t,n,r,i){let o=r&&r.event_id,s=(0,Q.pt)(t)?this.eventFromMessage(String(t),n,r):this.eventFromException(t,r);return this._process(s.then(t=>this._captureEvent(t,r,i)).then(t=>{o=t})),o}captureEvent(t,n,r){if(n&&n.originalException&&(0,F.YO)(n.originalException)){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(em);return}let i=n&&n.event_id;return this._process(this._captureEvent(t,n,r).then(t=>{i=t})),i}captureSession(t){"string"!=typeof t.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),(0,eu.CT)(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let n=this._transport;return n?this._isClientDoneProcessing(t).then(r=>n.flush(t).then(t=>r&&t)):(0,el.WD)(!0)}close(t){return this.flush(t).then(t=>(this.getOptions().enabled=!1,t))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=function(t,n){let r={};return n.forEach(n=>{n&&setupIntegration(t,n,r)}),r}(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch(n){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){setupIntegration(this,t,this._integrations)}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=function(t,n,r,i){var o;let s=getSdkMetadataForEnvelopeHeader(r),a=t.type&&"replay_event"!==t.type?t.type:"event";(o=r&&r.sdk)&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||o.name,t.sdk.version=t.sdk.version||o.version,t.sdk.integrations=[...t.sdk.integrations||[],...o.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...o.packages||[]]);let l=createEventEnvelopeHeaders(t,s,i,n);delete t.sdkProcessingMetadata;let c=[{type:a},t];return createEnvelope(l,[c])}(t,this._dsn,this._options._metadata,this._options.tunnel);for(let t of n.attachments||[])r=function(t,n){let[r,i]=t;return[r,[...i,n]]}(r,function(t,n){let r="string"==typeof t.data?encodeUTF8(t.data,n):t.data;return[(0,q.Jr)({type:"attachment",length:r.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),r]}(t,this._options.transportOptions&&this._options.transportOptions.textEncoder));let i=this._sendEnvelope(r);i&&i.then(n=>this.emit("afterSendEvent",t,n),null)}sendSession(t){let n=function(t,n,r,i){let o=getSdkMetadataForEnvelopeHeader(r),s={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!i&&n&&{dsn:dsn_dsnToString(n)}},a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return createEnvelope(s,[a])}(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){let r=`${t}:${n}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`Adding outcome: "${r}"`),this._outcomes[r]=this._outcomes[r]+1||1}}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(t=>t(...n))}_updateSessionFromEvent(t,n){let r=!1,i=!1,o=n.exception&&n.exception.values;if(o)for(let t of(i=!0,o)){let n=t.mechanism;if(n&&!1===n.handled){r=!0;break}}let s="ok"===t.status,a=s&&0===t.errors||s&&r;a&&((0,eu.CT)(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new el.cW(n=>{let r=0,i=setInterval(()=>{0==this._numProcessing?(clearInterval(i),n(!0)):(r+=1,t&&r>=t&&(clearInterval(i),n(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,n,r){let i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),prepareEvent(i,t,n,r,this).then(t=>{if(null===t)return t;let{propagationContext:n}=t.sdkProcessingMetadata||{},i=t.contexts&&t.contexts.trace;if(!i&&n){let{traceId:i,spanId:o,parentSpanId:s,dsc:a}=n;t.contexts={trace:{trace_id:i,span_id:o,parent_span_id:s},...t.contexts};let l=a||getDynamicSamplingContextFromClient(i,this,r);t.sdkProcessingMetadata={dynamicSamplingContext:l,...t.sdkProcessingMetadata}}return t})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(t=>t.event_id,t=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&("log"===t.logLevel?U.kg.log(t.message):U.kg.warn(t))})}_processEvent(t,n,r){let i=this.getOptions(),{sampleRate:o}=i,s=isTransactionEvent(t),a=isErrorEvent(t),l=t.type||"error",c=`before send for type \`${l}\``;if(a&&"number"==typeof o&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",t),(0,el.$2)(new SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));let u="replay_event"===l?"replay":l;return this._prepareEvent(t,n,r).then(r=>{if(null===r)throw this.recordDroppedEvent("event_processor",u,t),new SentryError("An event processor returned `null`, will not send event.","log");let o=n.data&&!0===n.data.__sentry__;if(o)return r;let s=function(t,n,r){let{beforeSend:i,beforeSendTransaction:o}=t;return isErrorEvent(n)&&i?i(n,r):isTransactionEvent(n)&&o?o(n,r):n}(i,r,n);return function(t,n){let r=`${n} must return \`null\` or a valid event.`;if((0,Q.J8)(t))return t.then(t=>{if(!(0,Q.PO)(t)&&null!==t)throw new SentryError(r);return t},t=>{throw new SentryError(`${n} rejected with ${t}`)});if(!(0,Q.PO)(t)&&null!==t)throw new SentryError(r);return t}(s,c)}).then(i=>{if(null===i)throw this.recordDroppedEvent("before_send",u,t),new SentryError(`${c} returned \`null\`, will not send event.`,"log");let o=r&&r.getSession();!s&&o&&this._updateSessionFromEvent(o,i);let a=i.transaction_info;return s&&a&&i.transaction!==t.transaction&&(i.transaction_info={...a,source:"custom"}),this.sendEvent(i,n),i}).then(null,t=>{if(t instanceof SentryError)throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),new SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${t}`)})}_process(t){this._numProcessing++,t.then(t=>(this._numProcessing--,t),t=>(this._numProcessing--,t))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,t=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.error("Error while sending event:",t)});("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.error("Transport disabled")}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{let[r,i]=n.split(":");return{reason:r,category:i,quantity:t[n]}})}};function isErrorEvent(t){return void 0===t.type}function isTransactionEvent(t){return"transaction"===t.type}var eg=r(68518);function exceptionFromError(t,n){let r=parseStackFrames(t,n),i={type:n&&n.name,value:function(t){let n=t&&t.message;return n?n.error&&"string"==typeof n.error.message?n.error.message:n:"No error message"}(n)};return r.length&&(i.stacktrace={frames:r}),void 0===i.type&&""===i.value&&(i.value="Unrecoverable error caught"),i}function eventFromError(t,n){return{exception:{values:[exceptionFromError(t,n)]}}}function parseStackFrames(t,n){let r=n.stacktrace||n.stack||"",i=function(t){if(t){if("number"==typeof t.framesToPop)return t.framesToPop;if(e_.test(t.message))return 1}return 0}(n);try{return t(r,i)}catch(t){}return[]}let e_=/Minified React error #\d+;/i;function eventFromUnknownInput(t,n,r,i,o){let s;if((0,Q.VW)(n)&&n.error)return eventFromError(t,n.error);if((0,Q.TX)(n)||(0,Q.fm)(n)){if("stack"in n)s=eventFromError(t,n);else{let o=n.name||((0,Q.TX)(n)?"DOMError":"DOMException"),a=n.message?`${o}: ${n.message}`:o;s=eventFromString(t,a,r,i),(0,F.Db)(s,a)}return"code"in n&&(s.tags={...s.tags,"DOMException.code":`${n.code}`}),s}return(0,Q.VZ)(n)?eventFromError(t,n):((0,Q.PO)(n)||(0,Q.cO)(n)?s=function(t,n,r,i){let o=(0,A.Gd)(),s=o.getClient(),a=s&&s.getOptions().normalizeDepth,l={exception:{values:[{type:(0,Q.cO)(n)?n.constructor.name:i?"UnhandledRejection":"Error",value:function(t,{isUnhandledRejection:n}){let r=(0,q.zf)(t),i=n?"promise rejection":"exception";if((0,Q.VW)(t))return`Event \`ErrorEvent\` captured as ${i} with message \`${t.message}\``;if((0,Q.cO)(t)){let n=function(t){try{let n=Object.getPrototypeOf(t);return n?n.constructor.name:void 0}catch(t){}}(t);return`Event \`${n}\` (type=${t.type}) captured as ${i}`}return`Object captured as ${i} with keys: ${r}`}(n,{isUnhandledRejection:i})}]},extra:{__serialized__:function normalizeToSize(t,n=3,r=102400){let i=normalize(t,n);return~-encodeURI(JSON.stringify(i)).split(/%..|./).length>r?normalizeToSize(t,n-1,r):i}(n,a)}};if(r){let n=parseStackFrames(t,r);n.length&&(l.exception.values[0].stacktrace={frames:n})}return l}(t,n,r,o):(s=eventFromString(t,n,r,i),(0,F.Db)(s,`${n}`,void 0)),(0,F.EG)(s,{synthetic:!0}),s)}function eventFromString(t,n,r,i){let o={message:n};if(i&&r){let i=parseStackFrames(t,r);i.length&&(o.exception={values:[{value:n,stacktrace:{frames:i}}]})}return o}var ey=r(64487);let ev=J.n2,eb=0;function wrap(t,n={},r){if("function"!=typeof t)return t;try{let n=t.__sentry_wrapped__;if(n)return n;if((0,q.HK)(t))return t}catch(n){return t}let sentryWrapped=function(){let i=Array.prototype.slice.call(arguments);try{r&&"function"==typeof r&&r.apply(this,arguments);let o=i.map(t=>wrap(t,n));return t.apply(this,o)}catch(t){throw eb++,setTimeout(()=>{eb--}),(0,ey.$e)(r=>{r.addEventProcessor(t=>(n.mechanism&&((0,F.Db)(t,void 0,void 0),(0,F.EG)(t,n.mechanism)),t.extra={...t.extra,arguments:i},t)),(0,ey.Tb)(t)}),t}};try{for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(sentryWrapped[n]=t[n])}catch(t){}(0,q.$Q)(sentryWrapped,t),(0,q.xp)(t,"__sentry_wrapped__",sentryWrapped);try{let n=Object.getOwnPropertyDescriptor(sentryWrapped,"name");n.configurable&&Object.defineProperty(sentryWrapped,"name",{get:()=>t.name})}catch(t){}return sentryWrapped}let BrowserClient=class BrowserClient extends BaseClient{constructor(t){let n=ev.SENTRY_SDK_SOURCE||(0,eg.S)();t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${n}:@sentry/browser`,version:B}],version:B},super(t),t.sendClientReports&&ev.document&&ev.document.addEventListener("visibilitychange",()=>{"hidden"===ev.document.visibilityState&&this._flushOutcomes()})}eventFromException(t,n){return function(t,n,r,i){let o=r&&r.syntheticException||void 0,s=eventFromUnknownInput(t,n,o,i);return(0,F.EG)(s),s.level="error",r&&r.event_id&&(s.event_id=r.event_id),(0,el.WD)(s)}(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return function(t,n,r="info",i,o){let s=i&&i.syntheticException||void 0,a=eventFromString(t,n,s,o);return a.level=r,i&&i.event_id&&(a.event_id=i.event_id),(0,el.WD)(a)}(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn("SDK not enabled, will not capture user feedback.");return}let n=function(t,{metadata:n,tunnel:r,dsn:i}){let o={event_id:t.event_id,sent_at:new Date().toISOString(),...n&&n.sdk&&{sdk:{name:n.sdk.name,version:n.sdk.version}},...!!r&&!!i&&{dsn:dsn_dsnToString(i)}},s=[{type:"user_report"},t];return createEnvelope(o,[s])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){let t=this._clearOutcomes();if(0===t.length){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("No outcomes to send");return}if(!this._dsn){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("No dsn provided, will not send outcomes");return}("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("Sending outcomes:",t);let n=function(t,n,r){let i=[{type:"client_report"},{timestamp:(0,ep.yW)(),discarded_events:t}];return createEnvelope(n?{dsn:n}:{},[i])}(t,this._options.tunnel&&dsn_dsnToString(this._dsn));this._sendEnvelope(n)}};var eS=r(58464);let GlobalHandlers=class GlobalHandlers{static __initStatic(){this.id="GlobalHandlers"}constructor(t){this.name=GlobalHandlers.id,this._options={onerror:!0,onunhandledrejection:!0,...t},this._installFunc={onerror:_installGlobalOnErrorHandler,onunhandledrejection:_installGlobalOnUnhandledRejectionHandler}}setupOnce(){Error.stackTraceLimit=50;let t=this._options;for(let n in t){let r=this._installFunc[n];r&&t[n]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`Global Handler attached: ${n}`),r(),this._installFunc[n]=void 0)}}};function _installGlobalOnErrorHandler(){addInstrumentationHandler("error",t=>{let[n,r,i]=getHubAndOptions();if(!n.getIntegration(GlobalHandlers))return;let{msg:o,url:s,line:a,column:l,error:c}=t;if(eb>0||c&&c.__sentry_own_request__)return;let u=void 0===c&&(0,Q.HD)(o)?function(t,n,r,i){let o=(0,Q.VW)(t)?t.message:t,s="Error",a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(s=a[1],o=a[2]);let l={exception:{values:[{type:s,value:o}]}};return _enhanceEventWithInitialFrame(l,n,r,i)}(o,s,a,l):_enhanceEventWithInitialFrame(eventFromUnknownInput(r,c||o,void 0,i,!1),s,a,l);u.level="error",addMechanismAndCapture(n,c,u,"onerror")})}function _installGlobalOnUnhandledRejectionHandler(){addInstrumentationHandler("unhandledrejection",t=>{var n;let[r,i,o]=getHubAndOptions();if(!r.getIntegration(GlobalHandlers))return;let s=t;try{"reason"in t?s=t.reason:"detail"in t&&"reason"in t.detail&&(s=t.detail.reason)}catch(t){}if(eb>0||s&&s.__sentry_own_request__)return!0;let a=(0,Q.pt)(s)?(n=s,{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(n)}`}]}}):eventFromUnknownInput(i,s,void 0,o,!0);a.level="error",addMechanismAndCapture(r,s,a,"onunhandledrejection")})}function _enhanceEventWithInitialFrame(t,n,r,i){let o=t.exception=t.exception||{},s=o.values=o.values||[],a=s[0]=s[0]||{},l=a.stacktrace=a.stacktrace||{},c=l.frames=l.frames||[],u=isNaN(parseInt(i,10))?void 0:i,d=isNaN(parseInt(r,10))?void 0:r,p=(0,Q.HD)(n)&&n.length>0?n:(0,eS.l4)();return 0===c.length&&c.push({colno:u,filename:p,function:"?",in_app:!0,lineno:d}),t}function addMechanismAndCapture(t,n,r,i){(0,F.EG)(r,{handled:!1,type:i}),t.captureEvent(r,{originalException:n})}function getHubAndOptions(){let t=(0,A.Gd)(),n=t.getClient(),r=n&&n.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[t,r.stackParser,r.attachStacktrace]}GlobalHandlers.__initStatic();let eE=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];let TryCatch=class TryCatch{static __initStatic(){this.id="TryCatch"}constructor(t){this.name=TryCatch.id,this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t}}setupOnce(){this._options.setTimeout&&(0,q.hl)(ev,"setTimeout",_wrapTimeFunction),this._options.setInterval&&(0,q.hl)(ev,"setInterval",_wrapTimeFunction),this._options.requestAnimationFrame&&(0,q.hl)(ev,"requestAnimationFrame",_wrapRAF),this._options.XMLHttpRequest&&"XMLHttpRequest"in ev&&(0,q.hl)(XMLHttpRequest.prototype,"send",_wrapXHR);let t=this._options.eventTarget;if(t){let n=Array.isArray(t)?t:eE;n.forEach(_wrapEventTarget)}}};function _wrapTimeFunction(t){return function(...n){let r=n[0];return n[0]=wrap(r,{mechanism:{data:{function:getFunctionName(t)},handled:!1,type:"instrument"}}),t.apply(this,n)}}function _wrapRAF(t){return function(n){return t.apply(this,[wrap(n,{mechanism:{data:{function:"requestAnimationFrame",handler:getFunctionName(t)},handled:!1,type:"instrument"}})])}}function _wrapXHR(t){return function(...n){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(t=>{t in r&&"function"==typeof r[t]&&(0,q.hl)(r,t,function(n){let r={mechanism:{data:{function:t,handler:getFunctionName(n)},handled:!1,type:"instrument"}},i=(0,q.HK)(n);return i&&(r.mechanism.data.handler=getFunctionName(i)),wrap(n,r)})}),t.apply(this,n)}}function _wrapEventTarget(t){let n=ev[t]&&ev[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,q.hl)(n,"addEventListener",function(n){return function(r,i,o){try{"function"==typeof i.handleEvent&&(i.handleEvent=wrap(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:getFunctionName(i),target:t},handled:!1,type:"instrument"}}))}catch(t){}return n.apply(this,[r,wrap(i,{mechanism:{data:{function:"addEventListener",handler:getFunctionName(i),target:t},handled:!1,type:"instrument"}}),o])}}),(0,q.hl)(n,"removeEventListener",function(t){return function(n,r,i){try{let o=r&&r.__sentry_wrapped__;o&&t.call(this,n,o,i)}catch(t){}return t.call(this,n,r,i)}}))}TryCatch.__initStatic();let ex=["fatal","error","warning","log","info","debug"];function parseUrl(t){if(!t)return{};let n=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!n)return{};let r=n[6]||"",i=n[8]||"";return{host:n[4],path:n[5],protocol:n[2],search:r,hash:i,relative:n[5]+r+i}}let Breadcrumbs=class Breadcrumbs{static __initStatic(){this.id="Breadcrumbs"}constructor(t){this.name=Breadcrumbs.id,this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t}}setupOnce(){var t;if(this.options.console&&addInstrumentationHandler("console",_consoleBreadcrumb),this.options.dom&&addInstrumentationHandler("dom",(t=this.options.dom,function(n){let r;let i="object"==typeof t?t.serializeAttribute:void 0,o="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;o&&o>1024&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${o} was configured. Sentry will use 1024 instead.`),o=1024),"string"==typeof i&&(i=[i]);try{let t=n.event;r=t&&t.target?(0,eS.Rt)(t.target,{keyAttrs:i,maxStringLength:o}):(0,eS.Rt)(t,{keyAttrs:i,maxStringLength:o})}catch(t){r="<unknown>"}0!==r.length&&(0,A.Gd)().addBreadcrumb({category:`ui.${n.name}`,message:r},{event:n.event,name:n.name,global:n.global})})),this.options.xhr&&addInstrumentationHandler("xhr",_xhrBreadcrumb),this.options.fetch&&addInstrumentationHandler("fetch",_fetchBreadcrumb),this.options.history&&addInstrumentationHandler("history",_historyBreadcrumb),this.options.sentry){let t=(0,A.Gd)().getClient();t&&t.on&&t.on("beforeSendEvent",addSentryBreadcrumb)}}};function addSentryBreadcrumb(t){(0,A.Gd)().addBreadcrumb({category:`sentry.${"transaction"===t.type?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:(0,F.jH)(t)},{event:t})}function _consoleBreadcrumb(t){var n;let r={category:"console",data:{arguments:t.args,logger:"console"},level:"warn"===(n=t.level)?"warning":ex.includes(n)?n:"log",message:(0,H.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;r.message=`Assertion failed: ${(0,H.nK)(t.args.slice(1)," ")||"console.assert"}`,r.data.arguments=t.args.slice(1)}(0,A.Gd)().addBreadcrumb(r,{input:t.args,level:t.level})}function _xhrBreadcrumb(t){let{startTimestamp:n,endTimestamp:r}=t,i=t.xhr[en];if(!n||!r||!i)return;let{method:o,url:s,status_code:a,body:l}=i,c={xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:r};(0,A.Gd)().addBreadcrumb({category:"xhr",data:{method:o,url:s,status_code:a},type:"http"},c)}function _fetchBreadcrumb(t){let{startTimestamp:n,endTimestamp:r}=t;if(!(!r||t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method)){if(t.error){let i=t.fetchData,o={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r};(0,A.Gd)().addBreadcrumb({category:"fetch",data:i,level:"error",type:"http"},o)}else{let i={...t.fetchData,status_code:t.response&&t.response.status},o={input:t.args,response:t.response,startTimestamp:n,endTimestamp:r};(0,A.Gd)().addBreadcrumb({category:"fetch",data:i,type:"http"},o)}}}function _historyBreadcrumb(t){let n=t.from,r=t.to,i=parseUrl(ev.location.href),o=parseUrl(n),s=parseUrl(r);o.path||(o=i),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),(0,A.Gd)().addBreadcrumb({category:"navigation",data:{from:n,to:r}})}function applyExceptionGroupFieldsForParentException(t,n){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,is_exception_group:!0,exception_id:n}}function applyExceptionGroupFieldsForChildException(t,n,r,i){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:n,exception_id:r,parent_id:i}}Breadcrumbs.__initStatic();let LinkedErrors=class LinkedErrors{static __initStatic(){this.id="LinkedErrors"}constructor(t={}){this.name=LinkedErrors.id,this._key=t.key||"cause",this._limit=t.limit||5}setupOnce(){}preprocessEvent(t,n,r){let i=r.getOptions();!function(t,n,r=250,i,o,s,a){if(!s.exception||!s.exception.values||!a||!(0,Q.V9)(a.originalException,Error))return;let l=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;l&&(s.exception.values=(function aggregateExceptionsFromError(t,n,r,i,o,s,a,l){if(s.length>=r+1)return s;let c=[...s];if((0,Q.V9)(i[o],Error)){applyExceptionGroupFieldsForParentException(a,l);let s=t(n,i[o]),u=c.length;applyExceptionGroupFieldsForChildException(s,o,u,l),c=aggregateExceptionsFromError(t,n,r,i[o],o,[s,...c],s,u)}return Array.isArray(i.errors)&&i.errors.forEach((i,s)=>{if((0,Q.V9)(i,Error)){applyExceptionGroupFieldsForParentException(a,l);let u=t(n,i),d=c.length;applyExceptionGroupFieldsForChildException(u,`errors[${s}]`,d,l),c=aggregateExceptionsFromError(t,n,r,i,o,[u,...c],u,d)}}),c})(t,n,o,a.originalException,i,s.exception.values,l,0).map(t=>(t.value&&(t.value=(0,H.$G)(t.value,r)),t)))}(exceptionFromError,i.stackParser,i.maxValueLength,this._key,this._limit,t,n)}};LinkedErrors.__initStatic();let HttpContext=class HttpContext{static __initStatic(){this.id="HttpContext"}constructor(){this.name=HttpContext.id}setupOnce(){}preprocessEvent(t){if(!ev.navigator&&!ev.location&&!ev.document)return;let n=t.request&&t.request.url||ev.location&&ev.location.href,{referrer:r}=ev.document||{},{userAgent:i}=ev.navigator||{},o={...t.request&&t.request.headers,...r&&{Referer:r},...i&&{"User-Agent":i}},s={...t.request,...n&&{url:n},headers:o};t.request=s}};HttpContext.__initStatic();let Dedupe=class Dedupe{static __initStatic(){this.id="Dedupe"}constructor(){this.name=Dedupe.id}setupOnce(t,n){}processEvent(t){if(t.type)return t;try{var n;if((n=this._previousEvent)&&(function(t,n){let r=t.message,i=n.message;return!!((r||i)&&(!r||i)&&(r||!i)&&r===i&&_isSameFingerprint(t,n)&&_isSameStacktrace(t,n))}(t,n)||function(t,n){let r=_getExceptionFromEvent(n),i=_getExceptionFromEvent(t);return!!(r&&i&&r.type===i.type&&r.value===i.value&&_isSameFingerprint(t,n)&&_isSameStacktrace(t,n))}(t,n)))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){}return this._previousEvent=t}};function _isSameStacktrace(t,n){let r=_getFramesFromEvent(t),i=_getFramesFromEvent(n);if(!r&&!i)return!0;if(r&&!i||!r&&i||i.length!==r.length)return!1;for(let t=0;t<i.length;t++){let n=i[t],o=r[t];if(n.filename!==o.filename||n.lineno!==o.lineno||n.colno!==o.colno||n.function!==o.function)return!1}return!0}function _isSameFingerprint(t,n){let r=t.fingerprint,i=n.fingerprint;if(!r&&!i)return!0;if(r&&!i||!r&&i)return!1;try{return!(r.join("")!==i.join(""))}catch(t){return!1}}function _getExceptionFromEvent(t){return t.exception&&t.exception.values&&t.exception.values[0]}function _getFramesFromEvent(t){let n=t.exception;if(n)try{return n.values[0].stacktrace.frames}catch(t){}}function createFrame(t,n,r,i){let o={filename:t,function:n,in_app:!0};return void 0!==r&&(o.lineno=r),void 0!==i&&(o.colno=i),o}Dedupe.__initStatic();let ew=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ek=/\((\S*)(?::(\d+))(?::(\d+))\)/,eT=[30,t=>{let n=ew.exec(t);if(n){let t=n[2]&&0===n[2].indexOf("eval");if(t){let t=ek.exec(n[2]);t&&(n[2]=t[1],n[3]=t[2],n[4]=t[3])}let[r,i]=extractSafariExtensionDetails(n[1]||"?",n[2]);return createFrame(i,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],eC=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,eR=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,eM=[50,t=>{let n=eC.exec(t);if(n){let t=n[3]&&n[3].indexOf(" > eval")>-1;if(t){let t=eR.exec(n[3]);t&&(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]="")}let r=n[3],i=n[1]||"?";return[i,r]=extractSafariExtensionDetails(i,r),createFrame(r,i,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}}],eO=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,eI=[40,t=>{let n=eO.exec(t);return n?createFrame(n[2],n[1]||"?",+n[3],n[4]?+n[4]:void 0):void 0}],eN=createStackParser(...[eT,eM,eI]),extractSafariExtensionDetails=(t,n)=>{let r=-1!==t.indexOf("safari-extension"),i=-1!==t.indexOf("safari-web-extension");return r||i?[-1!==t.indexOf("@")?t.split("@")[0]:"?",r?`safari-extension:${n}`:`safari-web-extension:${n}`]:[t,n]};function isRateLimited(t,n,r=Date.now()){return(t[n]||t.all||0)>r}function updateRateLimits(t,{statusCode:n,headers:r},i=Date.now()){let o={...t},s=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(s)for(let t of s.trim().split(",")){let[n,r]=t.split(":",2),s=parseInt(n,10),a=(isNaN(s)?60:s)*1e3;if(r)for(let t of r.split(";"))o[t]=i+a;else o.all=i+a}else a?o.all=i+function(t,n=Date.now()){let r=parseInt(`${t}`,10);if(!isNaN(r))return 1e3*r;let i=Date.parse(`${t}`);return isNaN(i)?6e4:i-n}(a,i):429===n&&(o.all=i+6e4);return o}function createTransport(t,n,r=function(t){let n=[];function remove(t){return n.splice(n.indexOf(t),1)[0]}return{$:n,add:function(r){if(!(void 0===t||n.length<t))return(0,el.$2)(new SentryError("Not adding Promise because buffer limit was reached."));let i=r();return-1===n.indexOf(i)&&n.push(i),i.then(()=>remove(i)).then(null,()=>remove(i).then(null,()=>{})),i},drain:function(t){return new el.cW((r,i)=>{let o=n.length;if(!o)return r(!0);let s=setTimeout(()=>{t&&t>0&&r(!1)},t);n.forEach(t=>{(0,el.WD)(t).then(()=>{--o||(clearTimeout(s),r(!0))},i)})})}}}(t.bufferSize||30)){let i={};function send(o){let s=[];if(forEachEnvelopeItem(o,(n,r)=>{let o=ec[r];if(isRateLimited(i,o)){let i=getEventForEnvelopeItem(n,r);t.recordDroppedEvent("ratelimit_backoff",o,i)}else s.push(n)}),0===s.length)return(0,el.WD)();let a=createEnvelope(o[0],s),recordEnvelopeLoss=n=>{forEachEnvelopeItem(a,(r,i)=>{let o=getEventForEnvelopeItem(r,i);t.recordDroppedEvent(n,ec[i],o)})};return r.add(()=>n({body:function(t,n){let[r,i]=t,o=JSON.stringify(r);function append(t){"string"==typeof o?o="string"==typeof t?o+t:[encodeUTF8(o,n),t]:o.push("string"==typeof t?encodeUTF8(t,n):t)}for(let t of i){let[n,r]=t;if(append(`
${JSON.stringify(n)}
`),"string"==typeof r||r instanceof Uint8Array)append(r);else{let t;try{t=JSON.stringify(r)}catch(n){t=JSON.stringify(normalize(r))}append(t)}}return"string"==typeof o?o:function(t){let n=t.reduce((t,n)=>t+n.length,0),r=new Uint8Array(n),i=0;for(let n of t)r.set(n,i),i+=n.length;return r}(o)}(a,t.textEncoder)}).then(t=>(void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),i=updateRateLimits(i,t),t),t=>{throw recordEnvelopeLoss("network_error"),t})).then(t=>t,t=>{if(t instanceof SentryError)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.error("Skipped sending event because buffer is full."),recordEnvelopeLoss("queue_overflow"),(0,el.WD)();throw t})}return send.__sentry__baseTransport__=!0,{send,flush:t=>r.drain(t)}}function getEventForEnvelopeItem(t,n){if("event"===n||"transaction"===n)return Array.isArray(t)?t[1]:void 0}function makeFetchTransport(t,n=function(){if(w)return w;if(isNativeFetch(ev.fetch))return w=ev.fetch.bind(ev);let t=ev.document,n=ev.fetch;if(t&&"function"==typeof t.createElement)try{let r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r);let i=r.contentWindow;i&&i.fetch&&(n=i.fetch),t.head.removeChild(r)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return w=n.bind(ev)}()){let r=0,i=0;return createTransport(t,function(o){let s=o.body.length;r+=s,i++;let a={body:o.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&i<15,...t.fetchOptions};try{return n(t.url,a).then(t=>(r-=s,i--,{statusCode:t.status,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")}}))}catch(t){return w=void 0,r-=s,i--,(0,el.$2)(t)}})}function makeXHRTransport(t){return createTransport(t,function(n){return new el.cW((r,i)=>{let o=new XMLHttpRequest;for(let n in o.onerror=i,o.onreadystatechange=()=>{4===o.readyState&&r({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",t.url),t.headers)Object.prototype.hasOwnProperty.call(t.headers,n)&&o.setRequestHeader(n,t.headers[n]);o.send(n.body)})})}let eD=[new InboundFilters,new FunctionToString,new TryCatch,new Breadcrumbs,new GlobalHandlers,new LinkedErrors,new Dedupe,new HttpContext];function startSessionOnHub(t){t.startSession({ignoreDuration:!0}),t.captureSession()}let eP="baggage",ej="sentry-",eA=/^sentry-/;function dynamicSamplingContextToSentryBaggageHeader(t){if(!t)return;let n=Object.entries(t).reduce((t,[n,r])=>(r&&(t[`${ej}${n}`]=r),t),{});return function(t){if(0!==Object.keys(t).length)return Object.entries(t).reduce((t,[n,r],i)=>{let o=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=0===i?o:`${t},${o}`;return s.length>8192?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}(n)}function baggageHeaderToObject(t){return t.split(",").map(t=>t.split("=").map(t=>decodeURIComponent(t.trim()))).reduce((t,[n,r])=>(t[n]=r,t),{})}let eL=RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function tracingContextFromHeaders(t,n){let r=function(t){let n;if(!t)return;let r=t.match(eL);if(r)return"1"===r[3]?n=!0:"0"===r[3]&&(n=!1),{traceId:r[1],parentSampled:n,parentSpanId:r[2]}}(t),i=function(t){if(!(0,Q.HD)(t)&&!Array.isArray(t))return;let n={};if(Array.isArray(t))n=t.reduce((t,n)=>{let r=baggageHeaderToObject(n);return{...t,...r}},{});else{if(!t)return;n=baggageHeaderToObject(t)}let r=Object.entries(n).reduce((t,[n,r])=>{if(n.match(eA)){let i=n.slice(ej.length);t[i]=r}return t},{});return Object.keys(r).length>0?r:void 0}(n),{traceId:o,parentSpanId:s,parentSampled:a}=r||{},l={traceId:o||(0,F.DM)(),spanId:(0,F.DM)().substring(16),sampled:a};return s&&(l.parentSpanId=s),i&&(l.dsc=i),{traceparentData:r,dynamicSamplingContext:i,propagationContext:l}}function generateSentryTraceHeader(t=(0,F.DM)(),n=(0,F.DM)().substring(16),r){let i="";return void 0!==r&&(i=r?"-1":"-0"),`${t}-${n}${i}`}let SpanRecorder=class SpanRecorder{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}};let Span=class Span{constructor(t={}){this.traceId=t.traceId||(0,F.DM)(),this.spanId=t.spanId||(0,F.DM)().substring(16),this.startTimestamp=t.startTimestamp||(0,ep.ph)(),this.tags=t.tags||{},this.data=t.data||{},this.instrumenter=t.instrumenter||"sentry",this.origin=t.origin||"manual",t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.name&&(this.description=t.name),t.status&&(this.status=t.status),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}get name(){return this.description||""}set name(t){this.setName(t)}startChild(t){let n=new Span({...t,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.transaction){let r=t&&t.op||"< unknown op >",i=n.transaction.name||"< unknown name >",o=n.transaction.spanId,s=`[Tracing] Starting '${r}' span on transaction '${i}' (${o}).`;n.transaction.metadata.spanMetadata[n.spanId]={logMessage:s},U.kg.log(s)}return n}setTag(t,n){return this.tags={...this.tags,[t]:n},this}setData(t,n){return this.data={...this.data,[t]:n},this}setStatus(t){return this.status=t,this}setHttpStatus(t){this.setTag("http.status_code",String(t)),this.setData("http.response.status_code",t);let n=function(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(t);return"unknown_error"!==n&&this.setStatus(n),this}setName(t){this.description=t}isSuccess(){return"ok"===this.status}finish(t){if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){let{logMessage:t}=this.transaction.metadata.spanMetadata[this.spanId];t&&U.kg.log(t.replace("Starting","Finishing"))}this.endTimestamp="number"==typeof t?t:(0,ep.ph)()}toTraceparent(){return generateSentryTraceHeader(this.traceId,this.spanId,this.sampled)}toContext(){return(0,q.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(t){return this.data=t.data||{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=t.spanId||this.spanId,this.startTimestamp=t.startTimestamp||this.startTimestamp,this.status=t.status,this.tags=t.tags||{},this.traceId=t.traceId||this.traceId,this}getTraceContext(){return(0,q.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId,origin:this.origin})}toJSON(){return(0,q.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}};let Transaction=class Transaction extends Span{constructor(t,n){super(t),delete this.description,this._measurements={},this._contexts={},this._hub=n||(0,A.Gd)(),this._name=t.name||"",this.metadata={source:"custom",...t.metadata,spanMetadata:{}},this._trimEnd=t.trimEnd,this.transaction=this;let r=this.metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(t){this.setName(t)}setName(t,n="custom"){this._name=t,this.metadata.source=n}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new SpanRecorder(t)),this.spanRecorder.add(this)}setContext(t,n){null===n?delete this._contexts[t]:this._contexts[t]=n}setMeasurement(t,n,r=""){this._measurements[t]={value:n,unit:r}}setMetadata(t){this.metadata={...this.metadata,...t}}finish(t){let n=this._finishTransaction(t);if(n)return this._hub.captureEvent(n)}toContext(){let t=super.toContext();return(0,q.Jr)({...t,name:this.name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this.name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;let t=this._hub||(0,A.Gd)(),n=t.getClient();if(!n)return{};let r=t.getScope(),i=getDynamicSamplingContextFromClient(this.traceId,n,r),o=this.metadata.sampleRate;void 0!==o&&(i.sample_rate=`${o}`);let s=this.metadata.source;return s&&"url"!==s&&(i.transaction=this.name),void 0!==this.sampled&&(i.sampled=String(this.sampled)),i}setHub(t){this._hub=t}_finishTransaction(t){if(void 0!==this.endTimestamp)return;this.name||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(t);let n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),!0!==this.sampled){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}let r=this.spanRecorder?this.spanRecorder.spans.filter(t=>t!==this&&t.endTimestamp):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((t,n)=>t.endTimestamp&&n.endTimestamp?t.endTimestamp>n.endTimestamp?t:n:t).endTimestamp);let i=this.metadata,o={contexts:{...this._contexts,trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...i,dynamicSamplingContext:this.getDynamicSamplingContext()},...i.source&&{transaction_info:{source:i.source}}},s=Object.keys(this._measurements).length>0;return s&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),o.measurements=this._measurements),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),o}};let eB={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3};let IdleTransactionSpanRecorder=class IdleTransactionSpanRecorder extends SpanRecorder{constructor(t,n,r,i){super(i),this._pushActivity=t,this._popActivity=n,this.transactionSpanId=r}add(t){t.spanId!==this.transactionSpanId&&(t.finish=n=>{t.endTimestamp="number"==typeof n?n:(0,ep.ph)(),this._popActivity(t.spanId)},void 0===t.endTimestamp&&this._pushActivity(t.spanId)),super.add(t)}};let IdleTransaction=class IdleTransaction extends Transaction{constructor(t,n,r=eB.idleTimeout,i=eB.finalTimeout,o=eB.heartbeatInterval,s=!1){super(t,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=i,this._heartbeatInterval=o,this._onScope=s,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason="externalFinish",s&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),n.configureScope(t=>t.setSpan(this))),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason="finalTimeout",this.finish())},this._finalTimeout)}finish(t=(0,ep.ph)()){if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setTag("finishReason",this._finishReason),this.spanRecorder){for(let n of(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op),this._beforeFinishCallbacks))n(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter(n=>{if(n.spanId===this.spanId)return!0;!n.endTimestamp&&(n.endTimestamp=t,n.setStatus("cancelled"),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(n,void 0,2)));let r=n.startTimestamp<t,i=(this._finalTimeout+this._idleTimeout)/1e3,o=n.endTimestamp-this.startTimestamp<i;if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){let t=JSON.stringify(n,void 0,2);r?o||U.kg.log("[Tracing] discarding Span since it finished after Transaction final timeout",t):U.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",t)}return r&&o}),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Tracing] flushing IdleTransaction")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Tracing] No active IdleTransaction");if(this._onScope){let t=this._idleHub.getScope();t.getTransaction()===this&&t.setSpan(void 0)}return super.finish(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){this.spanRecorder||(this.spanRecorder=new IdleTransactionSpanRecorder(t=>{this._finished||this._pushActivity(t)},t=>{this._finished||this._popActivity(t)},this.spanId,t),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===n,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason="cancelled",this.finish(t)))}setFinishReason(t){this._finishReason=t}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason="idleTimeout",this.finish(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`[Tracing] popActivity ${t}`),delete this.activities[t],("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){let t=(0,ep.ph)();this._idleTimeoutCanceledPermanently?(this._finishReason="cancelled",this.finish(t)):this._restartIdleTimeout(t+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;let t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason="heartbeatFailed",this.finish()):this._pingHeartbeat()}_pingHeartbeat(){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}};function getActiveTransaction(t){let n=t||(0,A.Gd)(),r=n.getScope();return r.getTransaction()}let eU=!1;function errorCallback(){let t=getActiveTransaction();if(t){let n="internal_error";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`[Tracing] Transaction: ${n} -> Global error occured`),t.setStatus(n)}}function sampleTransaction(t,n,r){var i;let o;return hasTracingEnabled(n)?void 0!==t.sampled?t.setMetadata({sampleRate:Number(t.sampled)}):("function"==typeof n.tracesSampler?(o=n.tracesSampler(r),t.setMetadata({sampleRate:Number(o)})):void 0!==r.parentSampled?o=r.parentSampled:void 0!==n.tracesSampleRate?(o=n.tracesSampleRate,t.setMetadata({sampleRate:Number(o)})):(o=1,t.setMetadata({sampleRate:o})),i=o,(0,Q.i2)(i)||!("number"==typeof i||"boolean"==typeof i)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),1):(i<0||i>1)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${i}.`),1))?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1):o?(t.sampled=Math.random()<o,t.sampled)?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`[Tracing] starting ${t.op} transaction - ${t.name}`):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`[Tracing] Discarding transaction because ${"function"==typeof n.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1):t.sampled=!1,t}function traceHeaders(){let t=this.getScope(),n=t.getSpan();return n?{"sentry-trace":n.toTraceparent()}:{}}function _startTransaction(t,n){let r=this.getClient(),i=r&&r.getOptions()||{},o=i.instrumenter||"sentry",s=t.instrumenter||"sentry";o!==s&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${o}\` instrumenter.
The transaction will not be sampled. Please use the ${o} instrumentation to start transactions.`),t.sampled=!1);let a=new Transaction(t,this);return(a=sampleTransaction(a,i,{parentSampled:t.parentSampled,transactionContext:t,...n})).sampled&&a.initSpanRecorder(i._experiments&&i._experiments.maxSpans),r&&r.emit&&r.emit("startTransaction",a),a}function startIdleTransaction(t,n,r,i,o,s,a){let l=t.getClient(),c=l&&l.getOptions()||{},u=new IdleTransaction(n,t,r,i,a,o);return(u=sampleTransaction(u,c,{parentSampled:n.parentSampled,transactionContext:n,...s})).sampled&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),l&&l.emit&&l.emit("startTransaction",u),u}errorCallback.tag="sentry_tracingErrorCallback";let eF=J.n2,bindReporter=(t,n,r)=>{let i,o;return s=>{n.value>=0&&(s||r)&&((o=n.value-(i||0))||void 0===i)&&(i=n.value,n.delta=o,t(n))}},generateUniqueID=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,getNavigationEntryFromPerformanceTiming=()=>{let t=eF.performance.timing,n=eF.performance.navigation.type,r={entryType:"navigation",startTime:0,type:2==n?"back_forward":1===n?"reload":"navigate"};for(let n in t)"navigationStart"!==n&&"toJSON"!==n&&(r[n]=Math.max(t[n]-t.navigationStart,0));return r},getNavigationEntry=()=>eF.__WEB_VITALS_POLYFILL__?eF.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||getNavigationEntryFromPerformanceTiming()):eF.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],getActivationStart=()=>{let t=getNavigationEntry();return t&&t.activationStart||0},initMetric=(t,n)=>{let r=getNavigationEntry(),i="navigate";return r&&(i=eF.document.prerendering||getActivationStart()>0?"prerender":r.type.replace(/_/g,"-")),{name:t,value:void 0===n?-1:n,rating:"good",delta:0,entries:[],id:generateUniqueID(),navigationType:i}},observe=(t,n,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let i=new PerformanceObserver(t=>{n(t.getEntries())});return i.observe(Object.assign({type:t,buffered:!0},r||{})),i}}catch(t){}},onHidden=(t,n)=>{let onHiddenOrPageHide=r=>{("pagehide"===r.type||"hidden"===eF.document.visibilityState)&&(t(r),n&&(removeEventListener("visibilitychange",onHiddenOrPageHide,!0),removeEventListener("pagehide",onHiddenOrPageHide,!0)))};addEventListener("visibilitychange",onHiddenOrPageHide,!0),addEventListener("pagehide",onHiddenOrPageHide,!0)},onCLS=t=>{let n;let r=initMetric("CLS",0),i=0,o=[],handleEntries=t=>{t.forEach(t=>{if(!t.hadRecentInput){let s=o[0],a=o[o.length-1];i&&0!==o.length&&t.startTime-a.startTime<1e3&&t.startTime-s.startTime<5e3?(i+=t.value,o.push(t)):(i=t.value,o=[t]),i>r.value&&(r.value=i,r.entries=o,n&&n())}})},s=observe("layout-shift",handleEntries);if(s){n=bindReporter(t,r);let stopListening=()=>{handleEntries(s.takeRecords()),n(!0)};return onHidden(stopListening),stopListening}},eH=-1,initHiddenTime=()=>"hidden"!==eF.document.visibilityState||eF.document.prerendering?1/0:0,trackChanges=()=>{onHidden(({timeStamp:t})=>{eH=t},!0)},getVisibilityWatcher=()=>(eH<0&&(eH=initHiddenTime(),trackChanges()),{get firstHiddenTime(){return eH}}),onFID=t=>{let n;let r=getVisibilityWatcher(),i=initMetric("FID"),handleEntry=t=>{t.startTime<r.firstHiddenTime&&(i.value=t.processingStart-t.startTime,i.entries.push(t),n(!0))},handleEntries=t=>{t.forEach(handleEntry)},o=observe("first-input",handleEntries);n=bindReporter(t,i),o&&onHidden(()=>{handleEntries(o.takeRecords()),o.disconnect()},!0)},e$={},onLCP=t=>{let n;let r=getVisibilityWatcher(),i=initMetric("LCP"),handleEntries=t=>{let o=t[t.length-1];if(o){let t=Math.max(o.startTime-getActivationStart(),0);t<r.firstHiddenTime&&(i.value=t,i.entries=[o],n())}},o=observe("largest-contentful-paint",handleEntries);if(o){n=bindReporter(t,i);let stopListening=()=>{e$[i.id]||(handleEntries(o.takeRecords()),o.disconnect(),e$[i.id]=!0,n(!0))};return["keydown","click"].forEach(t=>{addEventListener(t,stopListening,{once:!0,capture:!0})}),onHidden(stopListening,!0),stopListening}},eG={},eW={};function addLcpInstrumentationHandler(t){return addMetricObserver("lcp",t,instrumentLcp,d)}function addPerformanceInstrumentationHandler(t,n){return addHandler(t,n),eW[t]||(function(t){let n={};"event"===t&&(n.durationThreshold=0),observe(t,n=>{instrument_triggerHandlers(t,{entries:n})},n)}(t),eW[t]=!0),getCleanupCallback(t,n)}function instrument_triggerHandlers(t,n){let r=eG[t];if(r&&r.length)for(let i of r)try{i(n)}catch(n){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${getFunctionName(i)}
Error:`,n)}}function instrumentCls(){onCLS(t=>{instrument_triggerHandlers("cls",{metric:t}),c=t})}function instrumentFid(){onFID(t=>{instrument_triggerHandlers("fid",{metric:t}),u=t})}function instrumentLcp(){onLCP(t=>{instrument_triggerHandlers("lcp",{metric:t}),d=t})}function addMetricObserver(t,n,r,i){return addHandler(t,n),eW[t]||(r(),eW[t]=!0),i&&n({metric:i}),getCleanupCallback(t,n)}function addHandler(t,n){eG[t]=eG[t]||[],eG[t].push(n)}function getCleanupCallback(t,n){return()=>{let r=eG[t];if(!r)return;let i=r.indexOf(n);-1!==i&&r.splice(i,1)}}function isMeasurementValue(t){return"number"==typeof t&&isFinite(t)}function _startChild(t,{startTimestamp:n,...r}){return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild({startTimestamp:n,...r})}function msToSec(t){return t/1e3}function getBrowserPerformanceAPI(){return eF&&eF.addEventListener&&eF.performance}let eq=0,eY={};function _addPerformanceNavigationTiming(t,n,r,i,o,s){let a=s?n[s]:n[`${r}End`],l=n[`${r}Start`];l&&a&&_startChild(t,{op:"browser",origin:"auto.browser.browser.metrics",description:o||r,startTimestamp:i+msToSec(l),endTimestamp:i+msToSec(a)})}let ez=["localhost",/^\/(?!\/)/],eZ={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:ez,tracePropagationTargets:ez};function addHTTPTimings(t){let n=t.data.url;if(!n)return;let r=addPerformanceInstrumentationHandler("resource",({entries:i})=>{i.forEach(i=>{if("resource"===i.entryType&&"initiatorType"in i&&"string"==typeof i.nextHopProtocol&&("fetch"===i.initiatorType||"xmlhttprequest"===i.initiatorType)&&i.name.endsWith(n)){let n=function(t){let{name:n,version:r}=function(t){let n="unknown",r="unknown",i="";for(let o of t){if("/"===o){[n,r]=t.split("/");break}if(!isNaN(Number(o))){n="h"===i?"http":i,r=t.split(i)[1];break}i+=o}return i===t&&(n=i),{name:n,version:r}}(t.nextHopProtocol),i=[];return(i.push(["network.protocol.version",r],["network.protocol.name",n]),ep.Z1)?[...i,["http.request.redirect_start",getAbsoluteTime(t.redirectStart)],["http.request.fetch_start",getAbsoluteTime(t.fetchStart)],["http.request.domain_lookup_start",getAbsoluteTime(t.domainLookupStart)],["http.request.domain_lookup_end",getAbsoluteTime(t.domainLookupEnd)],["http.request.connect_start",getAbsoluteTime(t.connectStart)],["http.request.secure_connection_start",getAbsoluteTime(t.secureConnectionStart)],["http.request.connection_end",getAbsoluteTime(t.connectEnd)],["http.request.request_start",getAbsoluteTime(t.requestStart)],["http.request.response_start",getAbsoluteTime(t.responseStart)],["http.request.response_end",getAbsoluteTime(t.responseEnd)]]:i}(i);n.forEach(n=>t.setData(...n)),setTimeout(r)}})})}function getAbsoluteTime(t=0){return((ep.Z1||performance.timeOrigin)+t)/1e3}function setHeaderOnXhr(t,n,r){try{t.setRequestHeader("sentry-trace",n),r&&t.setRequestHeader(eP,r)}catch(t){}}let eV={...eB,markBackgroundTransactions:!0,routingInstrumentation:function(t,n=!0,r=!0){let i;if(!eF||!eF.location){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn("Could not initialize routing instrumentation due to invalid location");return}let o=eF.location.href;n&&(i=t({name:eF.location.pathname,startTimestamp:ep.Z1?ep.Z1/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),r&&addInstrumentationHandler("history",({to:n,from:r})=>{if(void 0===r&&o&&-1!==o.indexOf(n)){o=void 0;return}r!==n&&(o=void 0,i&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`[Tracing] Finishing current transaction with op: ${i.op}`),i.finish()),i=t({name:eF.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...eZ};let BrowserTracing=class BrowserTracing{constructor(t){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,function(){let t=(0,A.cu)();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=_startTransaction),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=traceHeaders),eU||(eU=!0,addInstrumentationHandler("error",errorCallback),addInstrumentationHandler("unhandledrejection",errorCallback)))}(),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(this._hasSetTracePropagationTargets=!!(t&&(t.tracePropagationTargets||t.tracingOrigins))),this.options={...eV,...t},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=function(){let t=getBrowserPerformanceAPI();if(t&&ep.Z1){t.mark&&eF.performance.mark("sentry-tracing-init");let n=addMetricObserver("fid",({metric:t})=>{let n=t.entries.pop();if(!n)return;let r=msToSec(ep.Z1),i=msToSec(n.startTime);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Measurements] Adding FID"),eY.fid={value:t.value,unit:"millisecond"},eY["mark.fid"]={value:r+i,unit:"second"}},instrumentFid,u),r=addMetricObserver("cls",({metric:t})=>{let n=t.entries.pop();n&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Measurements] Adding CLS"),eY.cls={value:t.value,unit:""},m=n)},instrumentCls,c),i=addLcpInstrumentationHandler(({metric:t})=>{let n=t.entries.pop();n&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Measurements] Adding LCP"),eY.lcp={value:t.value,unit:"millisecond"},p=n)});return()=>{n(),r(),i()}}return()=>void 0}(),this.options.enableLongTask&&addPerformanceInstrumentationHandler("longtask",({entries:t})=>{for(let n of t){let t=getActiveTransaction();if(!t)return;let r=msToSec(ep.Z1+n.startTime),i=msToSec(n.duration);t.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+i})}}),this.options._experiments.enableInteractions&&addPerformanceInstrumentationHandler("event",({entries:t})=>{for(let n of t){let t=getActiveTransaction();if(!t)return;if("click"===n.name){let r=msToSec(ep.Z1+n.startTime),i=msToSec(n.duration);t.startChild({description:(0,eS.Rt)(n.target),op:`ui.interaction.${n.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+i})}}})}setupOnce(t,n){this._getCurrentHub=n;let r=n(),i=r.getClient(),o=i&&i.getOptions(),{routingInstrumentation:s,startTransactionOnLocationChange:a,startTransactionOnPageLoad:l,markBackgroundTransactions:c,traceFetch:u,traceXHR:d,shouldCreateSpanForRequest:p,enableHTTPTimings:m,_experiments:_}=this.options,v=o&&o.tracePropagationTargets,b=v||this.options.tracePropagationTargets;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this._hasSetTracePropagationTargets&&v&&U.kg.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),s(t=>{let r=this._createRouteTransaction(t);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(r,t,n),r},l,a),c&&(eF&&eF.document?eF.document.addEventListener("visibilitychange",()=>{let t=getActiveTransaction();if(eF.document.hidden&&t){let n="cancelled";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${t.op}`),t.status||t.setStatus(n),t.setTag("visibilitychange","document.hidden"),t.finish()}}):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),_.enableInteractions&&this._registerInteractionListener(),function(t){let{traceFetch:n,traceXHR:r,tracePropagationTargets:i,tracingOrigins:o,shouldCreateSpanForRequest:s,enableHTTPTimings:a}={traceFetch:eZ.traceFetch,traceXHR:eZ.traceXHR,...t},l="function"==typeof s?s:t=>!0,shouldAttachHeadersWithTargets=t=>{var n;return n=i||o,(0,H.U0)(t,n||ez)},c={};n&&addInstrumentationHandler("fetch",t=>{let n=function(t,n,r,i){if(!hasTracingEnabled()||!t.fetchData)return;let o=n(t.fetchData.url);if(t.endTimestamp&&o){let n=t.fetchData.__span;if(!n)return;let r=i[n];if(r){if(t.response){r.setHttpStatus(t.response.status);let n=t.response&&t.response.headers&&t.response.headers.get("content-length"),i=parseInt(n);i>0&&r.setData("http.response_content_length",i)}else t.error&&r.setStatus("internal_error");r.finish(),delete i[n]}return}let s=(0,A.Gd)(),a=s.getScope(),l=s.getClient(),c=a.getSpan(),{method:u,url:d}=t.fetchData,p=o&&c?c.startChild({data:{url:d,type:"fetch","http.method":u},description:`${u} ${d}`,op:"http.client",origin:"auto.http.browser"}):void 0;if(p&&(t.fetchData.__span=p.spanId,i[p.spanId]=p),r(t.fetchData.url)&&l){let n=t.args[0];t.args[1]=t.args[1]||{};let r=t.args[1];r.headers=function(t,n,r,i,o){let s=o||r.getSpan(),a=s&&s.transaction,{traceId:l,sampled:c,dsc:u}=r.getPropagationContext(),d=s?s.toTraceparent():generateSentryTraceHeader(l,void 0,c),p=a?a.getDynamicSamplingContext():u||getDynamicSamplingContextFromClient(l,n,r),m=dynamicSamplingContextToSentryBaggageHeader(p),_="undefined"!=typeof Request&&(0,Q.V9)(t,Request)?t.headers:i.headers;if(!_)return{"sentry-trace":d,baggage:m};if("undefined"!=typeof Headers&&(0,Q.V9)(_,Headers)){let t=new Headers(_);return t.append("sentry-trace",d),m&&t.append(eP,m),t}if(Array.isArray(_)){let t=[..._,["sentry-trace",d]];return m&&t.push([eP,m]),t}{let t="baggage"in _?_.baggage:void 0,n=[];return Array.isArray(t)?n.push(...t):t&&n.push(t),m&&n.push(m),{..._,"sentry-trace":d,baggage:n.length>0?n.join(","):void 0}}}(n,l,a,r,p)}return p}(t,l,shouldAttachHeadersWithTargets,c);a&&n&&addHTTPTimings(n)}),r&&addInstrumentationHandler("xhr",t=>{let n=function(t,n,r,i){let o=t.xhr,s=o&&o[en];if(!hasTracingEnabled()||o&&o.__sentry_own_request__||!o||!s)return;let a=n(s.url);if(t.endTimestamp&&a){let t=o.__sentry_xhr_span_id__;if(!t)return;let n=i[t];n&&(n.setHttpStatus(s.status_code),n.finish(),delete i[t]);return}let l=(0,A.Gd)(),c=l.getScope(),u=c.getSpan(),d=a&&u?u.startChild({data:{...s.data,type:"xhr","http.method":s.method,url:s.url},description:`${s.method} ${s.url}`,op:"http.client",origin:"auto.http.browser"}):void 0;if(d&&(o.__sentry_xhr_span_id__=d.spanId,i[o.__sentry_xhr_span_id__]=d),o.setRequestHeader&&r(s.url)){if(d){let t=d&&d.transaction,n=t&&t.getDynamicSamplingContext(),r=dynamicSamplingContextToSentryBaggageHeader(n);setHeaderOnXhr(o,d.toTraceparent(),r)}else{let t=l.getClient(),{traceId:n,sampled:r,dsc:i}=c.getPropagationContext(),s=generateSentryTraceHeader(n,void 0,r),a=i||(t?getDynamicSamplingContextFromClient(n,t,c):void 0),u=dynamicSamplingContextToSentryBaggageHeader(a);setHeaderOnXhr(o,s,u)}}return d}(t,l,shouldAttachHeadersWithTargets,c);a&&n&&addHTTPTimings(n)})}({traceFetch:u,traceXHR:d,tracePropagationTargets:b,shouldCreateSpanForRequest:p,enableHTTPTimings:m})}_createRouteTransaction(t){if(!this._getCurrentHub){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`);return}let n=this._getCurrentHub(),{beforeNavigate:r,idleTimeout:i,finalTimeout:o,heartbeatInterval:s}=this.options,a="pageload"===t.op,l=a?getMetaContent("sentry-trace"):"",c=a?getMetaContent("baggage"):"",{traceparentData:u,dynamicSamplingContext:d,propagationContext:_}=tracingContextFromHeaders(l,c),v={...t,...u,metadata:{...t.metadata,dynamicSamplingContext:u&&!d?{}:d},trimEnd:!0},b="function"==typeof r?r(v):v,E=void 0===b?{...v,sampled:!1}:b;E.metadata=E.name!==v.name?{...E.metadata,source:"custom"}:E.metadata,this._latestRouteName=E.name,this._latestRouteSource=E.metadata&&E.metadata.source,!1===E.sampled&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`[Tracing] Will not send ${E.op} transaction because of beforeNavigate.`),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`[Tracing] Starting ${E.op} transaction on scope`);let{location:x}=eF,w=startIdleTransaction(n,E,i,o,!0,{location:x},s),k=n.getScope();return a&&u?k.setPropagationContext(_):k.setPropagationContext({traceId:w.traceId,spanId:w.spanId,parentSpanId:w.parentSpanId,sampled:w.sampled}),w.registerBeforeFinishCallback(t=>{this._collectWebVitals(),function(t){let n,r;let i=getBrowserPerformanceAPI();if(!i||!eF.performance.getEntries||!ep.Z1)return;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Tracing] Adding & adjusting spans using Performance API");let o=msToSec(ep.Z1),s=i.getEntries();if(s.slice(eq).forEach(i=>{let s=msToSec(i.startTime),a=msToSec(i.duration);if("navigation"!==t.op||!(o+s<t.startTimestamp))switch(i.entryType){case"navigation":["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{_addPerformanceNavigationTiming(t,i,n,o)}),_addPerformanceNavigationTiming(t,i,"secureConnection",o,"TLS/SSL","connectEnd"),_addPerformanceNavigationTiming(t,i,"fetch",o,"cache","domainLookupStart"),_addPerformanceNavigationTiming(t,i,"domainLookup",o,"DNS"),_startChild(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:o+msToSec(i.requestStart),endTimestamp:o+msToSec(i.responseEnd)}),_startChild(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:o+msToSec(i.responseStart),endTimestamp:o+msToSec(i.responseEnd)}),n=o+msToSec(i.responseStart),r=o+msToSec(i.requestStart);break;case"mark":case"paint":case"measure":{(function(t,n,r,i,o){let s=o+r;_startChild(t,{description:n.name,endTimestamp:s+i,op:n.entryType,origin:"auto.resource.browser.metrics",startTimestamp:s})})(t,i,s,a,o);let n=getVisibilityWatcher(),r=i.startTime<n.firstHiddenTime;"first-paint"===i.name&&r&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Measurements] Adding FP"),eY.fp={value:i.startTime,unit:"millisecond"}),"first-contentful-paint"===i.name&&r&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Measurements] Adding FCP"),eY.fcp={value:i.startTime,unit:"millisecond"});break}case"resource":{let n=i.name.replace(eF.location.origin,"");(function(t,n,r,i,o,s){if("xmlhttprequest"===n.initiatorType||"fetch"===n.initiatorType)return;let a={};"transferSize"in n&&(a["http.response_transfer_size"]=n.transferSize),"encodedBodySize"in n&&(a["http.response_content_length"]=n.encodedBodySize),"decodedBodySize"in n&&(a["http.decoded_response_content_length"]=n.decodedBodySize),"renderBlockingStatus"in n&&(a["resource.render_blocking_status"]=n.renderBlockingStatus);let l=s+i,c=l+o;_startChild(t,{description:r,endTimestamp:c,op:n.initiatorType?`resource.${n.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:l,data:a})})(t,i,n,s,a,o)}}}),eq=Math.max(s.length-1,0),function(t){let n=eF.navigator;if(!n)return;let r=n.connection;r&&(r.effectiveType&&t.setTag("effectiveConnectionType",r.effectiveType),r.type&&t.setTag("connectionType",r.type),isMeasurementValue(r.rtt)&&(eY["connection.rtt"]={value:r.rtt,unit:"millisecond"})),isMeasurementValue(n.deviceMemory)&&t.setTag("deviceMemory",`${n.deviceMemory} GB`),isMeasurementValue(n.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(n.hardwareConcurrency))}(t),"pageload"===t.op){"number"==typeof n&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Measurements] Adding TTFB"),eY.ttfb={value:(n-t.startTimestamp)*1e3,unit:"millisecond"},"number"==typeof r&&r<=n&&(eY["ttfb.requestTime"]={value:(n-r)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(n=>{if(!eY[n]||o>=t.startTimestamp)return;let r=eY[n].value,i=o+msToSec(r),s=Math.abs((i-t.startTimestamp)*1e3),a=s-r;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log(`[Measurements] Normalized ${n} from ${r} to ${s} (${a})`),eY[n].value=s});let i=eY["mark.fid"];i&&eY.fid&&(_startChild(t,{description:"first input delay",endTimestamp:i.value+msToSec(eY.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:i.value}),delete eY["mark.fid"]),"fcp"in eY||delete eY.cls,Object.keys(eY).forEach(n=>{t.setMeasurement(n,eY[n].value,eY[n].unit)}),p&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Measurements] Adding LCP Data"),p.element&&t.setTag("lcp.element",(0,eS.Rt)(p.element)),p.id&&t.setTag("lcp.id",p.id),p.url&&t.setTag("lcp.url",p.url.trim().slice(0,200)),t.setTag("lcp.size",p.size)),m&&m.sources&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Measurements] Adding CLS Data"),m.sources.forEach((n,r)=>t.setTag(`cls.source.${r+1}`,(0,eS.Rt)(n.node))))}p=void 0,m=void 0,eY={}}(t)}),w}_registerInteractionListener(){let t;let registerInteractionTransaction=()=>{let{idleTimeout:n,finalTimeout:r,heartbeatInterval:i}=this.options,o="ui.action.click",s=getActiveTransaction();if(s&&s.op&&["navigation","pageload"].includes(s.op)){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`);return}if(t&&(t.setFinishReason("interactionInterrupted"),t.finish(),t=void 0),!this._getCurrentHub){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}let a=this._getCurrentHub(),{location:l}=eF,c={name:this._latestRouteName,op:o,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};t=startIdleTransaction(a,c,n,r,!0,{location:l},i)};["click"].forEach(t=>{addEventListener(t,registerInteractionTransaction,{once:!1,capture:!0})})}};function getMetaContent(t){let n=(0,eS.qT)(`meta[name=${t}]`);return n?n.getAttribute("content"):void 0}function addOrUpdateIntegration(t,n,r={}){return Array.isArray(n)?addOrUpdateIntegrationInArray(t,n,r):i=>{let o=n(i);if(t.allowExclusionByUser){let n=o.find(n=>n.name===t.name);if(!n)return o}return addOrUpdateIntegrationInArray(t,o,r)}}function addOrUpdateIntegrationInArray(t,n,r){let i=n.find(n=>n.name===t.name);if(i){for(let[t,n]of Object.entries(r))!function setNestedKey(t,n,r){let i=n.match(/([a-z_]+)\.(.*)/i);if(null===i)t[n]=r;else{let n=t[i[1]];setNestedKey(n,i[2],r)}}(i,t,n);return n}return[...n,t]}var eK=r(83454);let eJ={"routing.instrumentation":"next-app-router"};var eX=r(11163),eQ=r.n(eX);let e0={"routing.instrumentation":"next-pages-router"},e1=(0,A.Gd)().getClient();function nextRouterInstrumentation(t,n=!0,r=!0){let i=!ev.document.getElementById("__NEXT_DATA__");i?function(t,n=!0,r=!0){let i;let o=ev.location.pathname;n&&(i=t({name:o,op:"pageload",origin:"auto.pageload.nextjs.app_router_instrumentation",tags:eJ,startTimestamp:ep.Z1?ep.Z1/1e3:void 0,metadata:{source:"url"}})),r&&addInstrumentationHandler("fetch",n=>{if(void 0!==n.endTimestamp||"GET"!==n.fetchData.method)return;let r=function(t){if(!t[0]||"object"!=typeof t[0]||void 0===t[0].searchParams||!t[1]||"object"!=typeof t[1]||!("headers"in t[1]))return null;try{let n=t[0],r=t[1].headers;if("1"!==r.RSC||"1"===r["Next-Router-Prefetch"])return null;return{targetPathname:n.pathname}}catch(t){return null}}(n.args);if(null===r)return;let s=r.targetPathname,a={...eJ,from:o};o=s,i&&i.finish(),t({name:s,op:"navigation",origin:"auto.navigation.nextjs.app_router_instrumentation",tags:a,metadata:{source:"url"}})})}(t,n,r):function(t,n=!0,r=!0){let{route:i,params:o,sentryTrace:s,baggage:a}=function(){let t;let n=ev.document.getElementById("__NEXT_DATA__");if(n&&n.innerHTML)try{t=JSON.parse(n.innerHTML)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn("Could not extract __NEXT_DATA__")}if(!t)return{};let r={},{page:i,query:o,props:s}=t;return r.route=i,r.params=o,s&&s.pageProps&&(r.sentryTrace=s.pageProps._sentryTraceData,r.baggage=s.pageProps._sentryBaggage),r}(),{traceparentData:l,dynamicSamplingContext:c,propagationContext:u}=tracingContextFromHeaders(s,a);(0,A.Gd)().getScope().setPropagationContext(u),T=i||ev.location.pathname,n&&(k=t({name:T,op:"pageload",origin:"auto.pageload.nextjs.pages_router_instrumentation",tags:e0,startTimestamp:ep.Z1?ep.Z1/1e3:void 0,...o&&e1&&e1.getOptions().sendDefaultPii&&{data:o},...l,metadata:{source:i?"route":"url",dynamicSamplingContext:l&&!c?{}:c}})),r&&eQ().events.on("routeChangeStart",n=>{let r,i;let o=n.split(/[\?#]/,1)[0],s=function(t){let n=(ev.__BUILD_MANIFEST||{}).sortedPages;if(n)return n.find(n=>{let r=function(t){let n=t.split("/"),r="";n[n.length-1].match(/^\[\[\.\.\..+\]\]$/)&&(n.pop(),r="(?:/(.+?))?");let i=n.map(t=>t.replace(/^\[\.\.\..+\]$/,"(.+?)").replace(/^\[.*\]$/,"([^/]+?)")).join("/");return RegExp(`^${i}${r}(?:/)?$`)}(n);return t.match(r)})}(o);s?(r=s,i="route"):(r=o,i="url");let a={...e0,from:T};T=r,k&&k.finish();let l=t({name:r,op:"navigation",origin:"auto.navigation.nextjs.pages_router_instrumentation",tags:a,metadata:{source:i}});if(l){let t=l.startChild({op:"ui.nextjs.route-change",origin:"auto.ui.nextjs.pages_router_instrumentation",description:"Next.js Route Change"}),finishRouteChangeSpan=()=>{t.finish(),eQ().events.off("routeChangeComplete",finishRouteChangeSpan)};eQ().events.on("routeChangeComplete",finishRouteChangeSpan)}})}(t,n,r)}let e2=r.g,e3=r.g;function removeTrailingSlash(t){return"/"===t[t.length-1]?t.slice(0,-1):t}var e5=r(61422);function isBrowser(){return"undefined"!=typeof window&&(!(0,e5.KV)()||void 0!==J.n2.process&&"renderer"===J.n2.process.type)}let e6=J.n2,e4="sentryReplaySession",e8="Unable to send Replay";function isShadowRoot(t){let n=null==t?void 0:t.host;return(null==n?void 0:n.shadowRoot)===t}function isNativeShadowDom(t){return"[object ShadowRoot]"===Object.prototype.toString.call(t)}function stringifyStylesheet(t){try{var n;let r=t.rules||t.cssRules;return r?((n=Array.from(r,stringifyRule).join("")).includes(" background-clip: text;")&&!n.includes(" -webkit-background-clip: text;")&&(n=n.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),n):null}catch(t){return null}}function stringifyRule(t){let n;if("styleSheet"in t)try{n=stringifyStylesheet(t.styleSheet)||function(t){let{cssText:n}=t;if(n.split('"').length<3)return n;let r=["@import",`url(${JSON.stringify(t.href)})`];return""===t.layerName?r.push("layer"):t.layerName&&r.push(`layer(${t.layerName})`),t.supportsText&&r.push(`supports(${t.supportsText})`),t.media.length&&r.push(t.media.mediaText),r.join(" ")+";"}(t)}catch(t){}else if("selectorText"in t&&t.selectorText.includes(":"))return t.cssText.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2");return n||t.cssText}(C=D||(D={}))[C.Document=0]="Document",C[C.DocumentType=1]="DocumentType",C[C.Element=2]="Element",C[C.Text=3]="Text",C[C.CDATA=4]="CDATA",C[C.Comment=5]="Comment";let Mirror=class Mirror{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){var n;if(!t)return-1;let r=null===(n=this.getMeta(t))||void 0===n?void 0:n.id;return null!=r?r:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(t=>this.removeNodeFromMap(t))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let t=this.nodeMetaMap.get(r);t&&this.nodeMetaMap.set(n,t)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function shouldMaskInput({maskInputOptions:t,tagName:n,type:r}){return"OPTION"===n&&(n="SELECT"),!!(t[n.toLowerCase()]||r&&t[r]||"password"===r||"INPUT"===n&&!r&&t.text)}function maskInputValue({isMasked:t,element:n,value:r,maskInputFn:i}){let o=r||"";return t?(i&&(o=i(o,n)),"*".repeat(o.length)):o}function toLowerCase(t){return t.toLowerCase()}function toUpperCase(t){return t.toUpperCase()}let e9="__rrweb_original__";function getInputType(t){let n=t.type;return t.hasAttribute("data-rr-is-password")?"password":n?toLowerCase(n):null}function getInputValue(t,n,r){return"INPUT"===n&&("radio"===r||"checkbox"===r)?t.getAttribute("value")||"":t.value}let e7=1,te=RegExp("[^a-z0-9-_:]");function genId(){return e7++}let tt=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,tn=/^(?:[a-z+]+:)?\/\//i,tr=/^www\..*/i,ti=/^(data:)([^,]*),(.*)/i;function absoluteToStylesheet(t,n){return(t||"").replace(tt,(t,r,i,o,s,a)=>{let l=i||s||a,c=r||o||"";if(!l)return t;if(tn.test(l)||tr.test(l)||ti.test(l))return`url(${c}${l}${c})`;if("/"===l[0])return`url(${c}${(n.indexOf("//")>-1?n.split("/").slice(0,3).join("/"):n.split("/")[0]).split("?")[0]+l}${c})`;let u=n.split("/"),d=l.split("/");for(let t of(u.pop(),d))"."!==t&&(".."===t?u.pop():u.push(t));return`url(${c}${u.join("/")}${c})`})}let to=/^[^ \t\n\r\u000c]+/,ts=/^[, \t\n\r\u000c]+/;function absoluteToDoc(t,n){if(!n||""===n.trim())return n;let r=t.createElement("a");return r.href=n,r.href}function getHref(){let t=document.createElement("a");return t.href="",t.href}function transformAttribute(t,n,r,i,o,s){return i?"src"!==r&&("href"!==r||"use"===n&&"#"===i[0])&&("xlink:href"!==r||"#"===i[0])&&("background"!==r||"table"!==n&&"td"!==n&&"th"!==n)?"srcset"===r?function(t,n){if(""===n.trim())return n;let r=0;function collectCharacters(t){let i;let o=t.exec(n.substring(r));return o?(i=o[0],r+=i.length,i):""}let i=[];for(;collectCharacters(ts),!(r>=n.length);){let o=collectCharacters(to);if(","===o.slice(-1))o=absoluteToDoc(t,o.substring(0,o.length-1)),i.push(o);else{let s="";o=absoluteToDoc(t,o);let a=!1;for(;;){let t=n.charAt(r);if(""===t){i.push((o+s).trim());break}if(a)")"===t&&(a=!1);else{if(","===t){r+=1,i.push((o+s).trim());break}"("===t&&(a=!0)}s+=t,r+=1}}}return i.join(", ")}(t,i):"style"===r?absoluteToStylesheet(i,getHref()):"object"===n&&"data"===r?absoluteToDoc(t,i):"function"==typeof s?s(r,i,o):i:absoluteToDoc(t,i):i}function ignoreAttribute(t,n,r){return("video"===t||"audio"===t)&&"autoplay"===n}function distanceToMatch(t,n,r=1/0,i=0){return!t||t.nodeType!==t.ELEMENT_NODE||i>r?-1:n(t)?i:distanceToMatch(t.parentNode,n,r,i+1)}function createMatchPredicate(t,n){return r=>{if(null===r)return!1;if(t){if("string"==typeof t){if(r.matches(`.${t}`))return!0}else if(function(t,n){for(let r=t.classList.length;r--;){let i=t.classList[r];if(n.test(i))return!0}return!1}(r,t))return!0}return!!(n&&r.matches(n))}}function needMaskingText(t,n,r,i,o,s){try{let a=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(null===a)return!1;let l=-1,c=-1;if(s){if((c=distanceToMatch(a,createMatchPredicate(i,o)))<0)return!0;l=distanceToMatch(a,createMatchPredicate(n,r),c>=0?c:1/0)}else{if((l=distanceToMatch(a,createMatchPredicate(n,r)))<0)return!1;c=distanceToMatch(a,createMatchPredicate(i,o),l>=0?l:1/0)}return l>=0?!(c>=0)||l<=c:!(c>=0)&&!!s}catch(t){}return!!s}function lowerIfExists(t){return null==t?"":t.toLowerCase()}function serializeNodeWithId(t,n){let r;let{doc:i,mirror:o,blockClass:s,blockSelector:a,unblockSelector:l,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:m,skipChild:b=!1,inlineStylesheet:E=!0,maskInputOptions:x={},maskAttributeFn:w,maskTextFn:k,maskInputFn:T,slimDOMOptions:C,dataURLOptions:R={},inlineImages:M=!1,recordCanvas:O=!1,onSerialize:I,onIframeLoad:N,iframeLoadTimeout:P=5e3,onStylesheetLoad:j,stylesheetLoadTimeout:A=5e3,keepIframeSrcFn:L=()=>!1,newlyAddedElement:B=!1}=n,{preserveWhiteSpace:U=!0}=n,F=function(t,n){let{doc:r,mirror:i,blockClass:o,blockSelector:s,unblockSelector:a,maskAllText:l,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:m,inlineStylesheet:b,maskInputOptions:E={},maskTextFn:x,maskInputFn:w,dataURLOptions:k={},inlineImages:T,recordCanvas:C,keepIframeSrcFn:R,newlyAddedElement:M=!1}=n,O=function(t,n){if(!n.hasNode(t))return;let r=n.getId(t);return 1===r?void 0:r}(r,i);switch(t.nodeType){case t.DOCUMENT_NODE:if("CSS1Compat"!==t.compatMode)return{type:D.Document,childNodes:[],compatMode:t.compatMode};return{type:D.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:D.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:O};case t.ELEMENT_NODE:return function(t,n){let r;let{doc:i,blockClass:o,blockSelector:s,unblockSelector:a,inlineStylesheet:l,maskInputOptions:c={},maskAttributeFn:u,maskInputFn:d,dataURLOptions:p={},inlineImages:m,recordCanvas:b,keepIframeSrcFn:E,newlyAddedElement:x=!1,rootId:w,maskAllText:k,maskTextClass:T,unmaskTextClass:C,maskTextSelector:R,unmaskTextSelector:M}=n,O=function(t,n,r,i){try{if(i&&t.matches(i))return!1;if("string"==typeof n){if(t.classList.contains(n))return!0}else for(let r=t.classList.length;r--;){let i=t.classList[r];if(n.test(i))return!0}if(r)return t.matches(r)}catch(t){}return!1}(t,o,s,a),I=function(t){if(t instanceof HTMLFormElement)return"form";let n=toLowerCase(t.tagName);return te.test(n)?"div":n}(t),N={},P=t.attributes.length;for(let n=0;n<P;n++){let r=t.attributes[n];ignoreAttribute(I,r.name,r.value)||(N[r.name]=transformAttribute(i,I,toLowerCase(r.name),r.value,t,u))}if("link"===I&&l){let n=Array.from(i.styleSheets).find(n=>n.href===t.href),r=null;n&&(r=stringifyStylesheet(n)),r&&(delete N.rel,delete N.href,N._cssText=absoluteToStylesheet(r,n.href))}if("style"===I&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){let n=stringifyStylesheet(t.sheet);n&&(N._cssText=absoluteToStylesheet(n,getHref()))}if("input"===I||"textarea"===I||"select"===I||"option"===I){let n=getInputType(t),r=getInputValue(t,toUpperCase(I),n),i=t.checked;if("submit"!==n&&"button"!==n&&r){let i=needMaskingText(t,T,R,C,M,shouldMaskInput({type:n,tagName:toUpperCase(I),maskInputOptions:c}));N.value=maskInputValue({isMasked:i,element:t,value:r,maskInputFn:d})}i&&(N.checked=i)}if("option"===I&&(t.selected&&!c.select?N.selected=!0:delete N.selected),"canvas"===I&&b){if("2d"===t.__context)!function(t){let n=t.getContext("2d");if(!n)return!0;for(let r=0;r<t.width;r+=50)for(let i=0;i<t.height;i+=50){let o=n.getImageData,s=e9 in o?o[e9]:o,a=new Uint32Array(s.call(n,r,i,Math.min(50,t.width-r),Math.min(50,t.height-i)).data.buffer);if(a.some(t=>0!==t))return!1}return!0}(t)&&(N.rr_dataURL=t.toDataURL(p.type,p.quality));else if(!("__context"in t)){let n=t.toDataURL(p.type,p.quality),r=document.createElement("canvas");r.width=t.width,r.height=t.height;let i=r.toDataURL(p.type,p.quality);n!==i&&(N.rr_dataURL=n)}}if("img"===I&&m){_||(v=(_=i.createElement("canvas")).getContext("2d"));let n=t.crossOrigin;t.crossOrigin="anonymous";let recordInlineImage=()=>{t.removeEventListener("load",recordInlineImage);try{_.width=t.naturalWidth,_.height=t.naturalHeight,v.drawImage(t,0,0),N.rr_dataURL=_.toDataURL(p.type,p.quality)}catch(n){console.warn(`Cannot inline img src=${t.currentSrc}! Error: ${n}`)}n?N.crossOrigin=n:t.removeAttribute("crossorigin")};t.complete&&0!==t.naturalWidth?recordInlineImage():t.addEventListener("load",recordInlineImage)}if(("audio"===I||"video"===I)&&(N.rr_mediaState=t.paused?"paused":"played",N.rr_mediaCurrentTime=t.currentTime),!x&&(t.scrollLeft&&(N.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(N.rr_scrollTop=t.scrollTop)),O){let{width:n,height:r}=t.getBoundingClientRect();N={class:N.class,rr_width:`${n}px`,rr_height:`${r}px`}}"iframe"!==I||E(N.src)||(t.contentDocument||(N.rr_src=N.src),delete N.src);try{customElements.get(I)&&(r=!0)}catch(t){}return{type:D.Element,tagName:I,attributes:N,childNodes:[],isSVG:!!("svg"===t.tagName||t.ownerSVGElement)||void 0,needBlock:O,rootId:w,isCustom:r}}(t,{doc:r,blockClass:o,blockSelector:s,unblockSelector:a,inlineStylesheet:b,maskAttributeFn:c,maskInputOptions:E,maskInputFn:w,dataURLOptions:k,inlineImages:T,recordCanvas:C,keepIframeSrcFn:R,newlyAddedElement:M,rootId:O,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:m});case t.TEXT_NODE:return function(t,n){var r;let{maskAllText:i,maskTextClass:o,unmaskTextClass:s,maskTextSelector:a,unmaskTextSelector:l,maskTextFn:c,maskInputOptions:u,maskInputFn:d,rootId:p}=n,m=t.parentNode&&t.parentNode.tagName,_=t.textContent,v="STYLE"===m||void 0,b="SCRIPT"===m||void 0,E="TEXTAREA"===m||void 0;if(v&&_){try{t.nextSibling||t.previousSibling||(null===(r=t.parentNode.sheet)||void 0===r?void 0:r.cssRules)&&(_=stringifyStylesheet(t.parentNode.sheet))}catch(n){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${n}`,t)}_=absoluteToStylesheet(_,getHref())}b&&(_="SCRIPT_PLACEHOLDER");let x=needMaskingText(t,o,a,s,l,i);if(v||b||E||!_||!x||(_=c?c(_):_.replace(/[\S]/g,"*")),E&&_&&(u.textarea||x)&&(_=d?d(_,t.parentNode):_.replace(/[\S]/g,"*")),"OPTION"===m&&_){let n=shouldMaskInput({type:null,tagName:m,maskInputOptions:u});_=maskInputValue({isMasked:needMaskingText(t,o,a,s,l,n),element:t,value:_,maskInputFn:d})}return{type:D.Text,textContent:_||"",isStyle:v,rootId:p}}(t,{maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:m,maskTextFn:x,maskInputOptions:E,maskInputFn:w,rootId:O});case t.CDATA_SECTION_NODE:return{type:D.CDATA,textContent:"",rootId:O};case t.COMMENT_NODE:return{type:D.Comment,textContent:t.textContent||"",rootId:O};default:return!1}}(t,{doc:i,mirror:o,blockClass:s,blockSelector:a,maskAllText:c,unblockSelector:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:m,inlineStylesheet:E,maskInputOptions:x,maskAttributeFn:w,maskTextFn:k,maskInputFn:T,dataURLOptions:R,inlineImages:M,recordCanvas:O,keepIframeSrcFn:L,newlyAddedElement:B});if(!F)return console.warn(t,"not serialized"),null;r=o.hasNode(t)?o.getId(t):!function(t,n){if(n.comment&&t.type===D.Comment)return!0;if(t.type===D.Element){if(n.script&&("script"===t.tagName||"link"===t.tagName&&("preload"===t.attributes.rel||"modulepreload"===t.attributes.rel)&&"script"===t.attributes.as||"link"===t.tagName&&"prefetch"===t.attributes.rel&&"string"==typeof t.attributes.href&&t.attributes.href.endsWith(".js"))||n.headFavicon&&("link"===t.tagName&&"shortcut icon"===t.attributes.rel||"meta"===t.tagName&&(lowerIfExists(t.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===lowerIfExists(t.attributes.name)||"icon"===lowerIfExists(t.attributes.rel)||"apple-touch-icon"===lowerIfExists(t.attributes.rel)||"shortcut icon"===lowerIfExists(t.attributes.rel))))return!0;if("meta"===t.tagName){if(n.headMetaDescKeywords&&lowerIfExists(t.attributes.name).match(/^description|keywords$/)||n.headMetaSocial&&(lowerIfExists(t.attributes.property).match(/^(og|twitter|fb):/)||lowerIfExists(t.attributes.name).match(/^(og|twitter):/)||"pinterest"===lowerIfExists(t.attributes.name)))return!0;if(n.headMetaRobots&&("robots"===lowerIfExists(t.attributes.name)||"googlebot"===lowerIfExists(t.attributes.name)||"bingbot"===lowerIfExists(t.attributes.name)))return!0;if(n.headMetaHttpEquiv&&void 0!==t.attributes["http-equiv"])return!0;else if(n.headMetaAuthorship&&("author"===lowerIfExists(t.attributes.name)||"generator"===lowerIfExists(t.attributes.name)||"framework"===lowerIfExists(t.attributes.name)||"publisher"===lowerIfExists(t.attributes.name)||"progid"===lowerIfExists(t.attributes.name)||lowerIfExists(t.attributes.property).match(/^article:/)||lowerIfExists(t.attributes.property).match(/^product:/)))return!0;else if(n.headMetaVerification&&("google-site-verification"===lowerIfExists(t.attributes.name)||"yandex-verification"===lowerIfExists(t.attributes.name)||"csrf-token"===lowerIfExists(t.attributes.name)||"p:domain_verify"===lowerIfExists(t.attributes.name)||"verify-v1"===lowerIfExists(t.attributes.name)||"verification"===lowerIfExists(t.attributes.name)||"shopify-checkout-api-token"===lowerIfExists(t.attributes.name)))return!0}}return!1}(F,C)&&(U||F.type!==D.Text||F.isStyle||F.textContent.replace(/^\s+|\s+$/gm,"").length)?genId():-2;let H=Object.assign(F,{id:r});if(o.add(t,H),-2===r)return null;I&&I(t);let G=!b;if(H.type===D.Element){G=G&&!H.needBlock,delete H.needBlock;let n=t.shadowRoot;n&&isNativeShadowDom(n)&&(H.isShadowHost=!0)}if((H.type===D.Document||H.type===D.Element)&&G){C.headWhitespace&&H.type===D.Element&&"head"===H.tagName&&(U=!1);let n={doc:i,mirror:o,blockClass:s,blockSelector:a,maskAllText:c,unblockSelector:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:m,skipChild:b,inlineStylesheet:E,maskInputOptions:x,maskAttributeFn:w,maskTextFn:k,maskInputFn:T,slimDOMOptions:C,dataURLOptions:R,inlineImages:M,recordCanvas:O,preserveWhiteSpace:U,onSerialize:I,onIframeLoad:N,iframeLoadTimeout:P,onStylesheetLoad:j,stylesheetLoadTimeout:A,keepIframeSrcFn:L};for(let r of Array.from(t.childNodes)){let t=serializeNodeWithId(r,n);t&&H.childNodes.push(t)}if(t.nodeType===t.ELEMENT_NODE&&t.shadowRoot)for(let r of Array.from(t.shadowRoot.childNodes)){let i=serializeNodeWithId(r,n);i&&(isNativeShadowDom(t.shadowRoot)&&(i.isShadow=!0),H.childNodes.push(i))}}return t.parentNode&&isShadowRoot(t.parentNode)&&isNativeShadowDom(t.parentNode)&&(H.isShadow=!0),H.type===D.Element&&"iframe"===H.tagName&&function(t,n,r){let i;let o=t.contentWindow;if(!o)return;let s=!1;try{i=o.document.readyState}catch(t){return}if("complete"!==i){let i=setTimeout(()=>{s||(n(),s=!0)},r);t.addEventListener("load",()=>{clearTimeout(i),s=!0,n()});return}let a="about:blank";if(o.location.href!==a||t.src===a||""===t.src)return setTimeout(n,0),t.addEventListener("load",n);t.addEventListener("load",n)}(t,()=>{let n=t.contentDocument;if(n&&N){let r=serializeNodeWithId(n,{doc:n,mirror:o,blockClass:s,blockSelector:a,unblockSelector:l,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:m,skipChild:!1,inlineStylesheet:E,maskInputOptions:x,maskAttributeFn:w,maskTextFn:k,maskInputFn:T,slimDOMOptions:C,dataURLOptions:R,inlineImages:M,recordCanvas:O,preserveWhiteSpace:U,onSerialize:I,onIframeLoad:N,iframeLoadTimeout:P,onStylesheetLoad:j,stylesheetLoadTimeout:A,keepIframeSrcFn:L});r&&N(t,r)}},P),H.type===D.Element&&"link"===H.tagName&&"stylesheet"===H.attributes.rel&&function(t,n,r){let i,o=!1;try{i=t.sheet}catch(t){return}if(i)return;let s=setTimeout(()=>{o||(n(),o=!0)},r);t.addEventListener("load",()=>{clearTimeout(s),o=!0,n()})}(t,()=>{if(j){let n=serializeNodeWithId(t,{doc:i,mirror:o,blockClass:s,blockSelector:a,unblockSelector:l,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:m,skipChild:!1,inlineStylesheet:E,maskInputOptions:x,maskAttributeFn:w,maskTextFn:k,maskInputFn:T,slimDOMOptions:C,dataURLOptions:R,inlineImages:M,recordCanvas:O,preserveWhiteSpace:U,onSerialize:I,onIframeLoad:N,iframeLoadTimeout:P,onStylesheetLoad:j,stylesheetLoadTimeout:A,keepIframeSrcFn:L});n&&j(t,n)}},A),H}function on(t,n,r=document){let i={capture:!0,passive:!0};return r.addEventListener(t,n,i),()=>r.removeEventListener(t,n,i)}let ta="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",tl={map:{},getId:()=>(console.error(ta),-1),getNode:()=>(console.error(ta),null),removeNodeFromMap(){console.error(ta)},has:()=>(console.error(ta),!1),reset(){console.error(ta)}};function throttle$1(t,n,r={}){let i=null,o=0;return function(...s){let a=Date.now();o||!1!==r.leading||(o=a);let l=n-(a-o),c=this;l<=0||l>n?(i&&(clearTimeout(i),i=null),o=a,t.apply(c,s)):i||!1===r.trailing||(i=setTimeout(()=>{o=!1===r.leading?0:Date.now(),i=null,t.apply(c,s)},l))}}function patch(t,n,r){try{if(!(n in t))return()=>{};let i=t[n],o=r(i);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:i}})),t[n]=o,()=>{t[n]=i}}catch(t){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(tl=new Proxy(tl,{get:(t,n,r)=>("map"===n&&console.error(ta),Reflect.get(t,n,r))}));let tc=Date.now;function getWindowScroll(t){var n,r,i,o,s,a;let l=t.document;return{left:l.scrollingElement?l.scrollingElement.scrollLeft:void 0!==t.pageXOffset?t.pageXOffset:(null==l?void 0:l.documentElement.scrollLeft)||(null===(r=null===(n=null==l?void 0:l.body)||void 0===n?void 0:n.parentElement)||void 0===r?void 0:r.scrollLeft)||(null===(i=null==l?void 0:l.body)||void 0===i?void 0:i.scrollLeft)||0,top:l.scrollingElement?l.scrollingElement.scrollTop:void 0!==t.pageYOffset?t.pageYOffset:(null==l?void 0:l.documentElement.scrollTop)||(null===(s=null===(o=null==l?void 0:l.body)||void 0===o?void 0:o.parentElement)||void 0===s?void 0:s.scrollTop)||(null===(a=null==l?void 0:l.body)||void 0===a?void 0:a.scrollTop)||0}}function getWindowHeight(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function getWindowWidth(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function isBlocked(t,n,r,i,o){if(!t)return!1;let s=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(!s)return!1;let a=createMatchPredicate(n,r);if(!o){let t=i&&s.matches(i);return a(s)&&!t}let l=distanceToMatch(s,a),c=-1;return!(l<0)&&(i&&(c=distanceToMatch(s,createMatchPredicate(null,i))),l>-1&&c<0||l<c)}function isIgnored(t,n){return-2===n.getId(t)}function legacy_isTouchEvent(t){return!!t.changedTouches}function isSerializedIframe(t,n){return!!("IFRAME"===t.nodeName&&n.getMeta(t))}function isSerializedStylesheet(t,n){return!!("LINK"===t.nodeName&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&"stylesheet"===t.getAttribute("rel")&&n.getMeta(t))}function hasShadowRoot(t){return!!(null==t?void 0:t.shadowRoot)}/[1-9][0-9]{12}/.test(Date.now().toString())||(tc=()=>new Date().getTime());let StyleSheetMirror=class StyleSheetMirror{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){var n;return null!==(n=this.styleIDMap.get(t))&&void 0!==n?n:-1}has(t){return this.styleIDMap.has(t)}add(t,n){let r;return this.has(t)?this.getId(t):(r=void 0===n?this.id++:n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r)}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function getShadowHost(t){var n,r;let i=null;return(null===(r=null===(n=t.getRootNode)||void 0===n?void 0:n.call(t))||void 0===r?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(i=t.getRootNode().host),i}function inDom(t){let n=t.ownerDocument;return!!n&&(n.contains(t)||function(t){let n=t.ownerDocument;if(!n)return!1;let r=function(t){let n,r=t;for(;n=getShadowHost(r);)r=n;return r}(t);return n.contains(r)}(t))}var tu=((R=tu||{})[R.DomContentLoaded=0]="DomContentLoaded",R[R.Load=1]="Load",R[R.FullSnapshot=2]="FullSnapshot",R[R.IncrementalSnapshot=3]="IncrementalSnapshot",R[R.Meta=4]="Meta",R[R.Custom=5]="Custom",R[R.Plugin=6]="Plugin",R),td=((M=td||{})[M.Mutation=0]="Mutation",M[M.MouseMove=1]="MouseMove",M[M.MouseInteraction=2]="MouseInteraction",M[M.Scroll=3]="Scroll",M[M.ViewportResize=4]="ViewportResize",M[M.Input=5]="Input",M[M.TouchMove=6]="TouchMove",M[M.MediaInteraction=7]="MediaInteraction",M[M.StyleSheetRule=8]="StyleSheetRule",M[M.CanvasMutation=9]="CanvasMutation",M[M.Font=10]="Font",M[M.Log=11]="Log",M[M.Drag=12]="Drag",M[M.StyleDeclaration=13]="StyleDeclaration",M[M.Selection=14]="Selection",M[M.AdoptedStyleSheet=15]="AdoptedStyleSheet",M[M.CustomElement=16]="CustomElement",M),tp=((O=tp||{})[O.MouseUp=0]="MouseUp",O[O.MouseDown=1]="MouseDown",O[O.Click=2]="Click",O[O.ContextMenu=3]="ContextMenu",O[O.DblClick=4]="DblClick",O[O.Focus=5]="Focus",O[O.Blur=6]="Blur",O[O.TouchStart=7]="TouchStart",O[O.TouchMove_Departed=8]="TouchMove_Departed",O[O.TouchEnd=9]="TouchEnd",O[O.TouchCancel=10]="TouchCancel",O),th=((I=th||{})[I.Mouse=0]="Mouse",I[I.Pen=1]="Pen",I[I.Touch=2]="Touch",I);let DoubleLinkedList=class DoubleLinkedList{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=(null==n?void 0:n.next)||null;return n}addNode(t){let n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&"__ln"in t.previousSibling){let r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&"__ln"in t.nextSibling&&t.nextSibling.__ln.previous){let r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;null===n.next&&(this.tail=n),this.length++}removeNode(t){let n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}};let moveKey=(t,n)=>`${t}@${n}`;let MutationBuffer=class MutationBuffer{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],n=new Set,r=new DoubleLinkedList,getNextId=t=>{let n=t,r=-2;for(;-2===r;)r=(n=n&&n.nextSibling)&&this.mirror.getId(n);return r},pushAdd=i=>{if(!i.parentNode||!inDom(i))return;let o=isShadowRoot(i.parentNode)?this.mirror.getId(getShadowHost(i)):this.mirror.getId(i.parentNode),s=getNextId(i);if(-1===o||-1===s)return r.addNode(i);let a=serializeNodeWithId(i,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:t=>{isSerializedIframe(t,this.mirror)&&this.iframeManager.addIframe(t),isSerializedStylesheet(t,this.mirror)&&this.stylesheetManager.trackLinkElement(t),hasShadowRoot(i)&&this.shadowDomManager.addShadowRoot(i.shadowRoot,this.doc)},onIframeLoad:(t,n)=>{this.iframeManager.attachIframe(t,n),this.shadowDomManager.observeAttachShadow(t)},onStylesheetLoad:(t,n)=>{this.stylesheetManager.attachLinkElement(t,n)}});a&&(t.push({parentId:o,nextId:s,node:a}),n.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let t of this.movedSet)(!isParentRemoved(this.removes,t,this.mirror)||this.movedSet.has(t.parentNode))&&pushAdd(t);for(let t of this.addedSet)isAncestorInSet(this.droppedSet,t)||isParentRemoved(this.removes,t,this.mirror)?isAncestorInSet(this.movedSet,t)?pushAdd(t):this.droppedSet.add(t):pushAdd(t);let i=null;for(;r.length;){let t=null;if(i){let n=this.mirror.getId(i.value.parentNode),r=getNextId(i.value);-1!==n&&-1!==r&&(t=i)}if(!t){let n=r.tail;for(;n;){let r=n;if(n=n.previous,r){let n=this.mirror.getId(r.value.parentNode),i=getNextId(r.value);if(-1===i)continue;if(-1!==n){t=r;break}{let n=r.value;if(n.parentNode&&n.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let i=n.parentNode.host,o=this.mirror.getId(i);if(-1!==o){t=r;break}}}}}}if(!t){for(;r.head;)r.removeNode(r.head.value);break}i=t.previous,r.removeNode(t.value),pushAdd(t.value)}let o={texts:this.texts.map(t=>({id:this.mirror.getId(t.node),value:t.value})).filter(t=>!n.has(t.id)).filter(t=>this.mirror.has(t.id)),attributes:this.attributes.map(t=>{let{attributes:n}=t;if("string"==typeof n.style){let r=JSON.stringify(t.styleDiff),i=JSON.stringify(t._unchangedStyles);r.length<n.style.length&&(r+i).split("var(").length===n.style.split("var(").length&&(n.style=t.styleDiff)}return{id:this.mirror.getId(t.node),attributes:n}}).filter(t=>!n.has(t.id)).filter(t=>this.mirror.has(t.id)),removes:this.removes,adds:t};(o.texts.length||o.attributes.length||o.removes.length||o.adds.length)&&(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(o))},this.processMutation=t=>{let n;if(!isIgnored(t.target,this.mirror)){try{n=document.implementation.createHTMLDocument()}catch(t){n=this.doc}switch(t.type){case"characterData":{let n=t.target.textContent;isBlocked(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||n===t.oldValue||this.texts.push({value:needMaskingText(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{let r=t.target,i=t.attributeName,o=t.target.getAttribute(i);if("value"===i){let n=getInputType(r),i=r.tagName;o=getInputValue(r,i,n);let s=shouldMaskInput({maskInputOptions:this.maskInputOptions,tagName:i,type:n}),a=needMaskingText(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,s);o=maskInputValue({isMasked:a,element:r,value:o,maskInputFn:this.maskInputFn})}if(isBlocked(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===t.oldValue)return;let s=this.attributes.find(n=>n.node===t.target);if("IFRAME"===r.tagName&&"src"===i&&!this.keepIframeSrcFn(o)){if(r.contentDocument)return;i="rr_src"}if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s)),"type"===i&&"INPUT"===r.tagName&&"password"===(t.oldValue||"").toLowerCase()&&r.setAttribute("data-rr-is-password","true"),!ignoreAttribute(r.tagName,i)&&(s.attributes[i]=transformAttribute(this.doc,toLowerCase(r.tagName),toLowerCase(i),o,r,this.maskAttributeFn),"style"===i)){let i=n.createElement("span");for(let n of(t.oldValue&&i.setAttribute("style",t.oldValue),Array.from(r.style))){let t=r.style.getPropertyValue(n),o=r.style.getPropertyPriority(n);t!==i.style.getPropertyValue(n)||o!==i.style.getPropertyPriority(n)?""===o?s.styleDiff[n]=t:s.styleDiff[n]=[t,o]:s._unchangedStyles[n]=[t,o]}for(let t of Array.from(i.style))""===r.style.getPropertyValue(t)&&(s.styleDiff[t]=!1)}break}case"childList":if(isBlocked(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{let r=this.mirror.getId(n),i=isShadowRoot(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);isBlocked(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||isIgnored(n,this.mirror)||-1===this.mirror.getId(n)||(this.addedSet.has(n)?(deepDelete(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&-1===r||function isAncestorRemoved(t,n){if(isShadowRoot(t))return!1;let r=n.getId(t);return!n.has(r)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||isAncestorRemoved(t.parentNode,n))}(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[moveKey(r,i)]?deepDelete(this.movedSet,n):this.removes.push({parentId:i,id:r,isShadow:!!(isShadowRoot(t.target)&&isNativeShadowDom(t.target))||void 0})),this.mapRemoves.push(n))})}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(isIgnored(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&-1!==r&&(this.movedMap[moveKey(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);!isBlocked(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&(t.childNodes.forEach(t=>this.genAdds(t)),hasShadowRoot(t)&&t.shadowRoot.childNodes.forEach(n=>{this.processedNodeManager.add(n,this),this.genAdds(n,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function deepDelete(t,n){t.delete(n),n.childNodes.forEach(n=>deepDelete(t,n))}function isParentRemoved(t,n,r){return 0!==t.length&&function _isParentRemoved(t,n,r){let{parentNode:i}=n;if(!i)return!1;let o=r.getId(i);return!!t.some(t=>t.id===o)||_isParentRemoved(t,i,r)}(t,n,r)}function isAncestorInSet(t,n){return 0!==t.size&&function _isAncestorInSet(t,n){let{parentNode:r}=n;return!!r&&(!!t.has(r)||_isAncestorInSet(t,r))}(t,n)}let callbackWrapper=t=>b?(...n)=>{try{return t(...n)}catch(t){if(b&&!0===b(t))return()=>{};throw t}}:t,tf=[];function esm_getEventTarget(t){try{if("composedPath"in t){let n=t.composedPath();if(n.length)return n[0]}else if("path"in t&&t.path.length)return t.path[0]}catch(t){}return t&&t.target}function initMutationObserver(t,n){var r,i;let o=new MutationBuffer;tf.push(o),o.init(t);let s=window.MutationObserver||window.__rrMutationObserver,a=null===(i=null===(r=null==window?void 0:window.Zone)||void 0===r?void 0:r.__symbol__)||void 0===i?void 0:i.call(r,"MutationObserver");a&&window[a]&&(s=window[a]);let l=new s(callbackWrapper(n=>{t.onMutation&&!1===t.onMutation(n)||o.processMutations.bind(o)(n)}));return l.observe(n,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),l}function initScrollObserver({scrollCb:t,doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,sampling:a}){let l=callbackWrapper(throttle$1(callbackWrapper(a=>{let l=esm_getEventTarget(a);if(!l||isBlocked(l,i,o,s,!0))return;let c=r.getId(l);if(l===n&&n.defaultView){let r=getWindowScroll(n.defaultView);t({id:c,x:r.left,y:r.top})}else t({id:c,x:l.scrollLeft,y:l.scrollTop})}),a.scroll||100));return on("scroll",l,n)}let tm=["INPUT","TEXTAREA","SELECT"],tg=new WeakMap;function getNestedCSSRulePositions(t){return function(t,n){if(hasNestedCSSRule("CSSGroupingRule")&&t.parentRule instanceof CSSGroupingRule||hasNestedCSSRule("CSSMediaRule")&&t.parentRule instanceof CSSMediaRule||hasNestedCSSRule("CSSSupportsRule")&&t.parentRule instanceof CSSSupportsRule||hasNestedCSSRule("CSSConditionRule")&&t.parentRule instanceof CSSConditionRule){let r=Array.from(t.parentRule.cssRules),i=r.indexOf(t);n.unshift(i)}else if(t.parentStyleSheet){let r=Array.from(t.parentStyleSheet.cssRules),i=r.indexOf(t);n.unshift(i)}return n}(t,[])}function getIdAndStyleId(t,n,r){let i,o;return t?(t.ownerNode?i=n.getId(t.ownerNode):o=r.getId(t),{styleId:o,id:i}):{}}function initAdoptedStyleSheetObserver({mirror:t,stylesheetManager:n},r){var i,o,s;let a=null;a="#document"===r.nodeName?t.getId(r):t.getId(r.host);let l="#document"===r.nodeName?null===(i=r.defaultView)||void 0===i?void 0:i.Document:null===(s=null===(o=r.ownerDocument)||void 0===o?void 0:o.defaultView)||void 0===s?void 0:s.ShadowRoot,c=(null==l?void 0:l.prototype)?Object.getOwnPropertyDescriptor(null==l?void 0:l.prototype,"adoptedStyleSheets"):void 0;return null!==a&&-1!==a&&l&&c?(Object.defineProperty(r,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get(){var t;return null===(t=c.get)||void 0===t?void 0:t.call(this)},set(t){var r;let i=null===(r=c.set)||void 0===r?void 0:r.call(this,t);if(null!==a&&-1!==a)try{n.adoptStyleSheets(t,a)}catch(t){}return i}}),callbackWrapper(()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get:c.get,set:c.set})})):()=>{}}function initObservers(t,n={}){let r=t.doc.defaultView;if(!r)return()=>{};let i=initMutationObserver(t,t.doc),o=function({mousemoveCb:t,sampling:n,doc:r,mirror:i}){let o;if(!1===n.mousemove)return()=>{};let s="number"==typeof n.mousemove?n.mousemove:50,a="number"==typeof n.mousemoveCallback?n.mousemoveCallback:500,l=[],c=throttle$1(callbackWrapper(n=>{let r=Date.now()-o;t(l.map(t=>(t.timeOffset-=r,t)),n),l=[],o=null}),a),u=callbackWrapper(throttle$1(callbackWrapper(t=>{let n=esm_getEventTarget(t),{clientX:r,clientY:s}=legacy_isTouchEvent(t)?t.changedTouches[0]:t;o||(o=tc()),l.push({x:r,y:s,id:i.getId(n),timeOffset:tc()-o}),c("undefined"!=typeof DragEvent&&t instanceof DragEvent?td.Drag:t instanceof MouseEvent?td.MouseMove:td.TouchMove)}),s,{trailing:!1})),d=[on("mousemove",u,r),on("touchmove",u,r),on("drag",u,r)];return callbackWrapper(()=>{d.forEach(t=>t())})}(t),s=function({mouseInteractionCb:t,doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,sampling:a}){if(!1===a.mouseInteraction)return()=>{};let l=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,c=[],u=null,getHandler=n=>a=>{let l=esm_getEventTarget(a);if(isBlocked(l,i,o,s,!0))return;let c=null,d=n;if("pointerType"in a){switch(a.pointerType){case"mouse":c=th.Mouse;break;case"touch":c=th.Touch;break;case"pen":c=th.Pen}c===th.Touch?tp[n]===tp.MouseDown?d="TouchStart":tp[n]===tp.MouseUp&&(d="TouchEnd"):th.Pen}else legacy_isTouchEvent(a)&&(c=th.Touch);null!==c?(u=c,(d.startsWith("Touch")&&c===th.Touch||d.startsWith("Mouse")&&c===th.Mouse)&&(c=null)):tp[n]===tp.Click&&(c=u,u=null);let p=legacy_isTouchEvent(a)?a.changedTouches[0]:a;if(!p)return;let m=r.getId(l),{clientX:_,clientY:v}=p;callbackWrapper(t)(Object.assign({type:tp[d],id:m,x:_,y:v},null!==c&&{pointerType:c}))};return Object.keys(tp).filter(t=>Number.isNaN(Number(t))&&!t.endsWith("_Departed")&&!1!==l[t]).forEach(t=>{let r=toLowerCase(t),i=getHandler(t);if(window.PointerEvent)switch(tp[t]){case tp.MouseDown:case tp.MouseUp:r=r.replace("mouse","pointer");break;case tp.TouchStart:case tp.TouchEnd:return}c.push(on(r,i,n))}),callbackWrapper(()=>{c.forEach(t=>t())})}(t),a=initScrollObserver(t),l=function({viewportResizeCb:t},{win:n}){let r=-1,i=-1,o=callbackWrapper(throttle$1(callbackWrapper(()=>{let n=getWindowHeight(),o=getWindowWidth();(r!==n||i!==o)&&(t({width:Number(o),height:Number(n)}),r=n,i=o)}),200));return on("resize",o,n)}(t,{win:r}),c=function({inputCb:t,doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,ignoreClass:a,ignoreSelector:l,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:p,maskTextClass:m,unmaskTextClass:_,maskTextSelector:v,unmaskTextSelector:b}){function eventHandler(t){let r=esm_getEventTarget(t),d=t.isTrusted,E=r&&toUpperCase(r.tagName);if("OPTION"===E&&(r=r.parentElement),!r||!E||0>tm.indexOf(E)||isBlocked(r,i,o,s,!0))return;let x=r;if(x.classList.contains(a)||l&&x.matches(l))return;let w=getInputType(r),k=getInputValue(x,E,w),T=!1,C=shouldMaskInput({maskInputOptions:c,tagName:E,type:w}),R=needMaskingText(r,m,v,_,b,C);("radio"===w||"checkbox"===w)&&(T=r.checked),k=maskInputValue({isMasked:R,element:r,value:k,maskInputFn:u}),cbWithDedup(r,p?{text:k,isChecked:T,userTriggered:d}:{text:k,isChecked:T});let M=r.name;"radio"===w&&M&&T&&n.querySelectorAll(`input[type="radio"][name="${M}"]`).forEach(t=>{if(t!==r){let n=maskInputValue({isMasked:R,element:t,value:getInputValue(t,E,w),maskInputFn:u});cbWithDedup(t,p?{text:n,isChecked:!T,userTriggered:!1}:{text:n,isChecked:!T})}})}function cbWithDedup(n,i){let o=tg.get(n);if(!o||o.text!==i.text||o.isChecked!==i.isChecked){tg.set(n,i);let o=r.getId(n);callbackWrapper(t)(Object.assign(Object.assign({},i),{id:o}))}}let E="last"===d.input?["change"]:["input","change"],x=E.map(t=>on(t,callbackWrapper(eventHandler),n)),w=n.defaultView;if(!w)return()=>{x.forEach(t=>t())};let k=w.Object.getOwnPropertyDescriptor(w.HTMLInputElement.prototype,"value"),T=[[w.HTMLInputElement.prototype,"value"],[w.HTMLInputElement.prototype,"checked"],[w.HTMLSelectElement.prototype,"value"],[w.HTMLTextAreaElement.prototype,"value"],[w.HTMLSelectElement.prototype,"selectedIndex"],[w.HTMLOptionElement.prototype,"selected"]];return k&&k.set&&x.push(...T.map(t=>(function hookSetter(t,n,r,i,o=window){let s=o.Object.getOwnPropertyDescriptor(t,n);return o.Object.defineProperty(t,n,i?r:{set(t){setTimeout(()=>{r.set.call(this,t)},0),s&&s.set&&s.set.call(this,t)}}),()=>hookSetter(t,n,s||{},!0)})(t[0],t[1],{set(){callbackWrapper(eventHandler)({target:this,isTrusted:!1})}},!1,w))),callbackWrapper(()=>{x.forEach(t=>t())})}(t),u=function({mediaInteractionCb:t,blockClass:n,blockSelector:r,unblockSelector:i,mirror:o,sampling:s,doc:a}){let l=callbackWrapper(a=>throttle$1(callbackWrapper(s=>{let l=esm_getEventTarget(s);if(!l||isBlocked(l,n,r,i,!0))return;let{currentTime:c,volume:u,muted:d,playbackRate:p}=l;t({type:a,id:o.getId(l),currentTime:c,volume:u,muted:d,playbackRate:p})}),s.media||500)),c=[on("play",l(0),a),on("pause",l(1),a),on("seeked",l(2),a),on("volumechange",l(3),a),on("ratechange",l(4),a)];return callbackWrapper(()=>{c.forEach(t=>t())})}(t),d=function({styleSheetRuleCb:t,mirror:n,stylesheetManager:r},{win:i}){let o,s;if(!i.CSSStyleSheet||!i.CSSStyleSheet.prototype)return()=>{};let a=i.CSSStyleSheet.prototype.insertRule;i.CSSStyleSheet.prototype.insertRule=new Proxy(a,{apply:callbackWrapper((i,o,s)=>{let[a,l]=s,{id:c,styleId:u}=getIdAndStyleId(o,n,r.styleMirror);return(c&&-1!==c||u&&-1!==u)&&t({id:c,styleId:u,adds:[{rule:a,index:l}]}),i.apply(o,s)})});let l=i.CSSStyleSheet.prototype.deleteRule;i.CSSStyleSheet.prototype.deleteRule=new Proxy(l,{apply:callbackWrapper((i,o,s)=>{let[a]=s,{id:l,styleId:c}=getIdAndStyleId(o,n,r.styleMirror);return(l&&-1!==l||c&&-1!==c)&&t({id:l,styleId:c,removes:[{index:a}]}),i.apply(o,s)})}),i.CSSStyleSheet.prototype.replace&&(o=i.CSSStyleSheet.prototype.replace,i.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:callbackWrapper((i,o,s)=>{let[a]=s,{id:l,styleId:c}=getIdAndStyleId(o,n,r.styleMirror);return(l&&-1!==l||c&&-1!==c)&&t({id:l,styleId:c,replace:a}),i.apply(o,s)})})),i.CSSStyleSheet.prototype.replaceSync&&(s=i.CSSStyleSheet.prototype.replaceSync,i.CSSStyleSheet.prototype.replaceSync=new Proxy(s,{apply:callbackWrapper((i,o,s)=>{let[a]=s,{id:l,styleId:c}=getIdAndStyleId(o,n,r.styleMirror);return(l&&-1!==l||c&&-1!==c)&&t({id:l,styleId:c,replaceSync:a}),i.apply(o,s)})}));let c={};canMonkeyPatchNestedCSSRule("CSSGroupingRule")?c.CSSGroupingRule=i.CSSGroupingRule:(canMonkeyPatchNestedCSSRule("CSSMediaRule")&&(c.CSSMediaRule=i.CSSMediaRule),canMonkeyPatchNestedCSSRule("CSSConditionRule")&&(c.CSSConditionRule=i.CSSConditionRule),canMonkeyPatchNestedCSSRule("CSSSupportsRule")&&(c.CSSSupportsRule=i.CSSSupportsRule));let u={};return Object.entries(c).forEach(([i,o])=>{u[i]={insertRule:o.prototype.insertRule,deleteRule:o.prototype.deleteRule},o.prototype.insertRule=new Proxy(u[i].insertRule,{apply:callbackWrapper((i,o,s)=>{let[a,l]=s,{id:c,styleId:u}=getIdAndStyleId(o.parentStyleSheet,n,r.styleMirror);return(c&&-1!==c||u&&-1!==u)&&t({id:c,styleId:u,adds:[{rule:a,index:[...getNestedCSSRulePositions(o),l||0]}]}),i.apply(o,s)})}),o.prototype.deleteRule=new Proxy(u[i].deleteRule,{apply:callbackWrapper((i,o,s)=>{let[a]=s,{id:l,styleId:c}=getIdAndStyleId(o.parentStyleSheet,n,r.styleMirror);return(l&&-1!==l||c&&-1!==c)&&t({id:l,styleId:c,removes:[{index:[...getNestedCSSRulePositions(o),a]}]}),i.apply(o,s)})})}),callbackWrapper(()=>{i.CSSStyleSheet.prototype.insertRule=a,i.CSSStyleSheet.prototype.deleteRule=l,o&&(i.CSSStyleSheet.prototype.replace=o),s&&(i.CSSStyleSheet.prototype.replaceSync=s),Object.entries(c).forEach(([t,n])=>{n.prototype.insertRule=u[t].insertRule,n.prototype.deleteRule=u[t].deleteRule})})}(t,{win:r}),p=initAdoptedStyleSheetObserver(t,t.doc),m=function({styleDeclarationCb:t,mirror:n,ignoreCSSAttributes:r,stylesheetManager:i},{win:o}){let s=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:callbackWrapper((o,a,l)=>{var c;let[u,d,p]=l;if(r.has(u))return s.apply(a,[u,d,p]);let{id:m,styleId:_}=getIdAndStyleId(null===(c=a.parentRule)||void 0===c?void 0:c.parentStyleSheet,n,i.styleMirror);return(m&&-1!==m||_&&-1!==_)&&t({id:m,styleId:_,set:{property:u,value:d,priority:p},index:getNestedCSSRulePositions(a.parentRule)}),o.apply(a,l)})});let a=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:callbackWrapper((o,s,l)=>{var c;let[u]=l;if(r.has(u))return a.apply(s,[u]);let{id:d,styleId:p}=getIdAndStyleId(null===(c=s.parentRule)||void 0===c?void 0:c.parentStyleSheet,n,i.styleMirror);return(d&&-1!==d||p&&-1!==p)&&t({id:d,styleId:p,remove:{property:u},index:getNestedCSSRulePositions(s.parentRule)}),o.apply(s,l)})}),callbackWrapper(()=>{o.CSSStyleDeclaration.prototype.setProperty=s,o.CSSStyleDeclaration.prototype.removeProperty=a})}(t,{win:r}),_=t.collectFonts?function({fontCb:t,doc:n}){let r=n.defaultView;if(!r)return()=>{};let i=[],o=new WeakMap,s=r.FontFace;r.FontFace=function(t,n,r){let i=new s(t,n,r);return o.set(i,{family:t,buffer:"string"!=typeof n,descriptors:r,fontSource:"string"==typeof n?n:JSON.stringify(Array.from(new Uint8Array(n)))}),i};let a=patch(n.fonts,"add",function(n){return function(r){return setTimeout(callbackWrapper(()=>{let n=o.get(r);n&&(t(n),o.delete(r))}),0),n.apply(this,[r])}});return i.push(()=>{r.FontFace=s}),i.push(a),callbackWrapper(()=>{i.forEach(t=>t())})}(t):()=>{},v=function(t){let{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,selectionCb:a}=t,l=!0,c=callbackWrapper(()=>{let t=n.getSelection();if(!t||l&&(null==t?void 0:t.isCollapsed))return;l=t.isCollapsed||!1;let c=[],u=t.rangeCount||0;for(let n=0;n<u;n++){let a=t.getRangeAt(n),{startContainer:l,startOffset:u,endContainer:d,endOffset:p}=a,m=isBlocked(l,i,o,s,!0)||isBlocked(d,i,o,s,!0);m||c.push({start:r.getId(l),startOffset:u,end:r.getId(d),endOffset:p})}a({ranges:c})});return c(),on("selectionchange",c)}(t),b=function({doc:t,customElementCb:n}){let r=t.defaultView;if(!r||!r.customElements)return()=>{};let i=patch(r.customElements,"define",function(t){return function(r,i,o){try{n({define:{name:r}})}catch(t){}return t.apply(this,[r,i,o])}});return i}(t);return callbackWrapper(()=>{tf.forEach(t=>t.reset()),i.disconnect(),o(),s(),a(),l(),c(),u(),d(),p(),m(),_(),v(),b()})}function hasNestedCSSRule(t){return void 0!==window[t]}function canMonkeyPatchNestedCSSRule(t){return!!(void 0!==window[t]&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}let CrossOriginIframeMirror=class CrossOriginIframeMirror{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,i){let o=r||this.getIdToRemoteIdMap(t),s=i||this.getRemoteIdToIdMap(t),a=o.get(n);return a||(a=this.generateIdFn(),o.set(n,a),s.set(a,n)),a}getIds(t,n){let r=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return n.map(n=>this.getId(t,n,r,i))}getRemoteId(t,n,r){let i=r||this.getRemoteIdToIdMap(t);if("number"!=typeof n)return n;let o=i.get(n);return o||-1}getRemoteIds(t,n){let r=this.getRemoteIdToIdMap(t);return n.map(n=>this.getRemoteId(t,n,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}};let IframeManagerNoop=class IframeManagerNoop{constructor(){this.crossOriginIframeMirror=new CrossOriginIframeMirror(genId),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}};let IframeManager=class IframeManager{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new CrossOriginIframeMirror(genId),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new CrossOriginIframeMirror(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var r;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null===(r=this.loadListener)||void 0===r||r.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;let n=t.source;if(!n)return;let r=this.crossOriginIframeMap.get(t.source);if(!r)return;let i=this.transformCrossOriginEvent(r,t.data.event);i&&this.wrappedEmit(i,t.data.isCheckout)}transformCrossOriginEvent(t,n){var r;switch(n.type){case tu.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);let r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:tu.IncrementalSnapshot,data:{source:td.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case tu.Meta:case tu.Load:case tu.DomContentLoaded:break;case tu.Plugin:return n;case tu.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case tu.IncrementalSnapshot:switch(n.data.source){case td.Mutation:return n.data.adds.forEach(n=>{this.replaceIds(n,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(n.node,t);let r=this.crossOriginIframeRootIdMap.get(t);r&&this.patchRootIdOnNode(n.node,r)}),n.data.removes.forEach(n=>{this.replaceIds(n,t,["parentId","id"])}),n.data.attributes.forEach(n=>{this.replaceIds(n,t,["id"])}),n.data.texts.forEach(n=>{this.replaceIds(n,t,["id"])}),n;case td.Drag:case td.TouchMove:case td.MouseMove:return n.data.positions.forEach(n=>{this.replaceIds(n,t,["id"])}),n;case td.ViewportResize:return!1;case td.MediaInteraction:case td.MouseInteraction:case td.Scroll:case td.CanvasMutation:case td.Input:return this.replaceIds(n.data,t,["id"]),n;case td.StyleSheetRule:case td.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case td.Font:return n;case td.Selection:return n.data.ranges.forEach(n=>{this.replaceIds(n,t,["start","end"])}),n;case td.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),null===(r=n.data.styles)||void 0===r||r.forEach(n=>{this.replaceStyleIds(n,t,["styleId"])}),n}}return!1}replace(t,n,r,i){for(let o of i)(Array.isArray(n[o])||"number"==typeof n[o])&&(Array.isArray(n[o])?n[o]=t.getIds(r,n[o]):n[o]=t.getId(r,n[o]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(t=>{this.replaceIdOnNode(t,n)})}patchRootIdOnNode(t,n){t.type===D.Document||t.rootId||(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(t=>{this.patchRootIdOnNode(t,n)})}};let ShadowDomManagerNoop=class ShadowDomManagerNoop{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}};let ShadowDomManager=class ShadowDomManager{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!isNativeShadowDom(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);let r=initMutationObserver(Object.assign(Object.assign({},this.bypassOptions),{doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(initScrollObserver(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),setTimeout(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(initAdoptedStyleSheetObserver({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){t.contentWindow&&t.contentDocument&&this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,n){let r=this;this.restoreHandlers.push(patch(t.prototype,"attachShadow",function(t){return function(i){let o=t.call(this,i);return this.shadowRoot&&inDom(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch(t){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}};let CanvasManagerNoop=class CanvasManagerNoop{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}};let StylesheetManager=class StylesheetManager{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new StyleSheetMirror,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(0===t.length)return;let r={id:n,styleIds:[]},i=[];for(let n of t){let t;this.styleMirror.has(n)?t=this.styleMirror.getId(n):(t=this.styleMirror.add(n),i.push({styleId:t,rules:Array.from(n.rules||CSSRule,(t,n)=>({rule:stringifyRule(t),index:n}))})),r.styleIds.push(t)}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}};let ProcessedNodeManager=class ProcessedNodeManager{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,n){let r=this.nodeMap.get(t);return r&&Array.from(r).some(t=>t!==n)}add(t,n){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}};function wrapEvent(t){return t.timestamp=tc(),t}let t_=new Mirror;function record(t={}){let n;let{emit:r,checkoutEveryNms:i,checkoutEveryNth:o,blockClass:s="rr-block",blockSelector:a=null,unblockSelector:l=null,ignoreClass:c="rr-ignore",ignoreSelector:u=null,maskAllText:d=!1,maskTextClass:p="rr-mask",unmaskTextClass:m=null,maskTextSelector:_=null,unmaskTextSelector:v=null,inlineStylesheet:x=!0,maskAllInputs:w,maskInputOptions:k,slimDOMOptions:T,maskAttributeFn:C,maskInputFn:R,maskTextFn:M,packFn:O,sampling:I={},dataURLOptions:N={},mousemoveWait:D,recordCanvas:P=!1,recordCrossOriginIframes:j=!1,recordAfter:A="DOMContentLoaded"===t.recordAfter?t.recordAfter:"load",userTriggeredOnInput:L=!1,collectFonts:B=!1,inlineImages:U=!1,keepIframeSrcFn:F=()=>!1,ignoreCSSAttributes:H=new Set([]),errorHandler:G,onMutation:W,getCanvasManager:q}=t;b=G;let Y=!j||window.parent===window,z=!1;if(!Y)try{window.parent.document&&(z=!1)}catch(t){z=!0}if(Y&&!r)throw Error("emit function is required");void 0!==D&&void 0===I.mousemove&&(I.mousemove=D),t_.reset();let Z=!0===w?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==k?k:{},V=!0===T||"all"===T?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===T,headMetaDescKeywords:"all"===T}:T||{};!function(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}();let K=0,eventProcessor=t=>(O&&!z&&(t=O(t)),t),wrappedEmit=(t,s)=>{var a;if((null===(a=tf[0])||void 0===a?void 0:a.isFrozen())&&t.type!==tu.FullSnapshot&&!(t.type===tu.IncrementalSnapshot&&t.data.source===td.Mutation)&&tf.forEach(t=>t.unfreeze()),Y)null==r||r(eventProcessor(t),s);else if(z){let n={type:"rrweb",event:eventProcessor(t),origin:window.location.origin,isCheckout:s};window.parent.postMessage(n,"*")}if(t.type===tu.FullSnapshot)n=t,K=0;else if(t.type===tu.IncrementalSnapshot){if(t.data.source===td.Mutation&&t.data.isAttachIframe)return;K++;let r=o&&K>=o,s=i&&t.timestamp-n.timestamp>i;(r||s)&&takeFullSnapshot(!0)}},wrappedMutationEmit=t=>{wrappedEmit(wrapEvent({type:tu.IncrementalSnapshot,data:Object.assign({source:td.Mutation},t)}))},wrappedScrollEmit=t=>wrappedEmit(wrapEvent({type:tu.IncrementalSnapshot,data:Object.assign({source:td.Scroll},t)})),wrappedCanvasMutationEmit=t=>wrappedEmit(wrapEvent({type:tu.IncrementalSnapshot,data:Object.assign({source:td.CanvasMutation},t)})),J=new StylesheetManager({mutationCb:wrappedMutationEmit,adoptedStyleSheetCb:t=>wrappedEmit(wrapEvent({type:tu.IncrementalSnapshot,data:Object.assign({source:td.AdoptedStyleSheet},t)}))}),X="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new IframeManagerNoop:new IframeManager({mirror:t_,mutationCb:wrappedMutationEmit,stylesheetManager:J,recordCrossOriginIframes:j,wrappedEmit}),Q=new ProcessedNodeManager,ee=q?q({recordCanvas:P,blockClass:s,blockSelector:a,unblockSelector:l,sampling:I.canvas,dataURLOptions:N}):new CanvasManagerNoop,et="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new ShadowDomManagerNoop:new ShadowDomManager({mutationCb:wrappedMutationEmit,scrollCb:wrappedScrollEmit,bypassOptions:{onMutation:W,blockClass:s,blockSelector:a,unblockSelector:l,maskAllText:d,maskTextClass:p,unmaskTextClass:m,maskTextSelector:_,unmaskTextSelector:v,inlineStylesheet:x,maskInputOptions:Z,dataURLOptions:N,maskAttributeFn:C,maskTextFn:M,maskInputFn:R,recordCanvas:P,inlineImages:U,sampling:I,slimDOMOptions:V,iframeManager:X,stylesheetManager:J,canvasManager:ee,keepIframeSrcFn:F,processedNodeManager:Q},mirror:t_}),takeFullSnapshot=(t=!1)=>{wrappedEmit(wrapEvent({type:tu.Meta,data:{href:window.location.href,width:getWindowWidth(),height:getWindowHeight()}}),t),J.reset(),et.init(),tf.forEach(t=>t.lock());let n=function(t,n){let{mirror:r=new Mirror,blockClass:i="rr-block",blockSelector:o=null,unblockSelector:s=null,maskAllText:a=!1,maskTextClass:l="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:p=!0,inlineImages:m=!1,recordCanvas:_=!1,maskAllInputs:v=!1,maskAttributeFn:b,maskTextFn:E,maskInputFn:x,slimDOM:w=!1,dataURLOptions:k,preserveWhiteSpace:T,onSerialize:C,onIframeLoad:R,iframeLoadTimeout:M,onStylesheetLoad:O,stylesheetLoadTimeout:I,keepIframeSrcFn:N=()=>!1}=n||{},D=!0===v?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===v?{}:v,P=!0===w||"all"===w?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===w,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===w?{}:w;return serializeNodeWithId(t,{doc:t,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:D,maskAttributeFn:b,maskTextFn:E,maskInputFn:x,slimDOMOptions:P,dataURLOptions:k,inlineImages:m,recordCanvas:_,preserveWhiteSpace:T,onSerialize:C,onIframeLoad:R,iframeLoadTimeout:M,onStylesheetLoad:O,stylesheetLoadTimeout:I,keepIframeSrcFn:N,newlyAddedElement:!1})}(document,{mirror:t_,blockClass:s,blockSelector:a,unblockSelector:l,maskAllText:d,maskTextClass:p,unmaskTextClass:m,maskTextSelector:_,unmaskTextSelector:v,inlineStylesheet:x,maskAllInputs:Z,maskAttributeFn:C,maskInputFn:R,maskTextFn:M,slimDOM:V,dataURLOptions:N,recordCanvas:P,inlineImages:U,onSerialize:t=>{isSerializedIframe(t,t_)&&X.addIframe(t),isSerializedStylesheet(t,t_)&&J.trackLinkElement(t),hasShadowRoot(t)&&et.addShadowRoot(t.shadowRoot,document)},onIframeLoad:(t,n)=>{X.attachIframe(t,n),et.observeAttachShadow(t)},onStylesheetLoad:(t,n)=>{J.attachLinkElement(t,n)},keepIframeSrcFn:F});if(!n)return console.warn("Failed to snapshot the document");wrappedEmit(wrapEvent({type:tu.FullSnapshot,data:{node:n,initialOffset:getWindowScroll(window)}}),t),tf.forEach(t=>t.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&J.adoptStyleSheets(document.adoptedStyleSheets,t_.getId(document))};E=takeFullSnapshot;try{let t=[],observe=t=>callbackWrapper(initObservers)({onMutation:W,mutationCb:wrappedMutationEmit,mousemoveCb:(t,n)=>wrappedEmit(wrapEvent({type:tu.IncrementalSnapshot,data:{source:n,positions:t}})),mouseInteractionCb:t=>wrappedEmit(wrapEvent({type:tu.IncrementalSnapshot,data:Object.assign({source:td.MouseInteraction},t)})),scrollCb:wrappedScrollEmit,viewportResizeCb:t=>wrappedEmit(wrapEvent({type:tu.IncrementalSnapshot,data:Object.assign({source:td.ViewportResize},t)})),inputCb:t=>wrappedEmit(wrapEvent({type:tu.IncrementalSnapshot,data:Object.assign({source:td.Input},t)})),mediaInteractionCb:t=>wrappedEmit(wrapEvent({type:tu.IncrementalSnapshot,data:Object.assign({source:td.MediaInteraction},t)})),styleSheetRuleCb:t=>wrappedEmit(wrapEvent({type:tu.IncrementalSnapshot,data:Object.assign({source:td.StyleSheetRule},t)})),styleDeclarationCb:t=>wrappedEmit(wrapEvent({type:tu.IncrementalSnapshot,data:Object.assign({source:td.StyleDeclaration},t)})),canvasMutationCb:wrappedCanvasMutationEmit,fontCb:t=>wrappedEmit(wrapEvent({type:tu.IncrementalSnapshot,data:Object.assign({source:td.Font},t)})),selectionCb:t=>{wrappedEmit(wrapEvent({type:tu.IncrementalSnapshot,data:Object.assign({source:td.Selection},t)}))},customElementCb:t=>{wrappedEmit(wrapEvent({type:tu.IncrementalSnapshot,data:Object.assign({source:td.CustomElement},t)}))},blockClass:s,ignoreClass:c,ignoreSelector:u,maskAllText:d,maskTextClass:p,unmaskTextClass:m,maskTextSelector:_,unmaskTextSelector:v,maskInputOptions:Z,inlineStylesheet:x,sampling:I,recordCanvas:P,inlineImages:U,userTriggeredOnInput:L,collectFonts:B,doc:t,maskAttributeFn:C,maskInputFn:R,maskTextFn:M,keepIframeSrcFn:F,blockSelector:a,unblockSelector:l,slimDOMOptions:V,dataURLOptions:N,mirror:t_,iframeManager:X,stylesheetManager:J,shadowDomManager:et,processedNodeManager:Q,canvasManager:ee,ignoreCSSAttributes:H,plugins:[]},{});X.addLoadListener(n=>{try{t.push(observe(n.contentDocument))}catch(t){console.warn(t)}});let init=()=>{takeFullSnapshot(),t.push(observe(document))};return"interactive"===document.readyState||"complete"===document.readyState?init():(t.push(on("DOMContentLoaded",()=>{wrappedEmit(wrapEvent({type:tu.DomContentLoaded,data:{}})),"DOMContentLoaded"===A&&init()})),t.push(on("load",()=>{wrappedEmit(wrapEvent({type:tu.Load,data:{}})),"load"===A&&init()},window))),()=>{t.forEach(t=>t()),Q.destroy(),E=void 0,b=void 0}}catch(t){console.warn(t)}}function timestampToMs(t){return t>9999999999?t:1e3*t}function timestampToS(t){return t>9999999999?t/1e3:t}function addBreadcrumbEvent(t,n){"sentry.transaction"!==n.category&&(["ui.click","ui.input"].includes(n.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(t.throttledAddEvent({type:tu.Custom,timestamp:1e3*(n.timestamp||0),data:{tag:"breadcrumb",payload:normalize(n,10,1e3)}}),"console"===n.category)))}function getClosestInteractive(t){let n=t.closest("button,a");return n||t}function getClickTargetNode(t){let n=getTargetNode(t);return n&&n instanceof Element?getClosestInteractive(n):n}function getTargetNode(t){return"object"==typeof t&&t&&"target"in t?t.target:t}record.mirror=t_,record.takeFullSnapshot=function(t){if(!E)throw Error("please take full snapshot after start recording");E(t)};let ClickDetector=class ClickDetector{constructor(t,n,r=addBreadcrumbEvent){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){var t;let n=(t=()=>{this._lastMutation=nowInSeconds()},x||(x=[],(0,q.hl)(e6,"open",function(t){return function(...n){if(x)try{x.forEach(t=>t())}catch(t){}return t.apply(e6,n)}})),x.push(t),()=>{let n=x?x.indexOf(t):-1;n>-1&&x.splice(n,1)});this._teardown=()=>{n(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){var r;if(r=this._ignoreSelector,!ty.includes(n.tagName)||"INPUT"===n.tagName&&!["submit","button"].includes(n.getAttribute("type")||"")||"A"===n.tagName&&(n.hasAttribute("download")||n.hasAttribute("target")&&"_self"!==n.getAttribute("target"))||r&&n.matches(r)||!(t.data&&"number"==typeof t.data.nodeId&&t.timestamp))return;let i={timestamp:timestampToS(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(t=>t.node===i.node&&1>Math.abs(t.timestamp-i.timestamp))||(this._clicks.push(i),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=timestampToS(t)}registerScroll(t=Date.now()){this._lastScroll=timestampToS(t)}registerClick(t){let n=getClosestInteractive(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(t=>{t.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){let t=[],n=nowInSeconds();for(let r of(this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)}),t)){let t=this._clicks.indexOf(r);t>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(t,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,i=t.mutationAfter&&t.mutationAfter<=this._threshold,{clickCount:o,clickBreadcrumb:s}=t;if(!r&&!i){let r=1e3*Math.min(t.mutationAfter||this._timeout,this._timeout),i=r<1e3*this._timeout?"mutation":"timeout",a={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.slowClickDetected",data:{...s.data,url:e6.location.href,route:n.getCurrentRoute(),timeAfterClickMs:r,endReason:i,clickCount:o||1}};this._addBreadcrumbEvent(n,a);return}if(o>1){let t={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.multiClick",data:{...s.data,url:e6.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,t)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}};let ty=["A","BUTTON","INPUT"];function nowInSeconds(){return Date.now()/1e3}function createBreadcrumb(t){return{timestamp:Date.now()/1e3,type:"default",...t}}(N=P||(P={}))[N.Document=0]="Document",N[N.DocumentType=1]="DocumentType",N[N.Element=2]="Element",N[N.Text=3]="Text",N[N.CDATA=4]="CDATA",N[N.Comment=5]="Comment";let tv=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled"]),handleDomListener=t=>n=>{if(!t.isEnabled())return;let r=function(t){let{target:n,message:r}=function(t){let n;let r="click"===t.name,i=null;try{i=r?getClickTargetNode(t.event):getTargetNode(t.event),n=(0,eS.Rt)(i,{maxStringLength:200})||"<unknown>"}catch(t){n="<unknown>"}return{target:i,message:n}}(t);return createBreadcrumb({category:`ui.${t.name}`,...getBaseDomBreadcrumb(n,r)})}(n);if(!r)return;let i="click"===n.name,o=i&&n.event;!i||!t.clickDetector||!o||o.altKey||o.metaKey||o.ctrlKey||o.shiftKey||function(t,n,r){t.handleClick(n,r)}(t.clickDetector,r,getClickTargetNode(n.event)),addBreadcrumbEvent(t,r)};function getBaseDomBreadcrumb(t,n){let r=record.mirror.getId(t),i=r&&record.mirror.getNode(r),o=i&&record.mirror.getMeta(i),s=o&&o.type===P.Element?o:null;return{message:n,data:s?{nodeId:r,node:{id:r,tagName:s.tagName,textContent:Array.from(s.childNodes).map(t=>t.type===P.Text&&t.textContent).filter(Boolean).map(t=>t.trim()).join(""),attributes:function(t){let n={};for(let r in t)if(tv.has(r)){let i=r;("data-testid"===r||"data-test-id"===r)&&(i="testId"),n[i]=t[r]}return n}(s.attributes)}}:{}}}let tb={resource:function(t){let{entryType:n,initiatorType:r,name:i,responseEnd:o,startTime:s,decodedBodySize:a,encodedBodySize:l,responseStatus:c,transferSize:u}=t;return["fetch","xmlhttprequest"].includes(r)?null:{type:`${n}.${r}`,start:esm_getAbsoluteTime(s),end:esm_getAbsoluteTime(o),name:i,data:{size:u,statusCode:c,decodedBodySize:a,encodedBodySize:l}}},paint:function(t){let{duration:n,entryType:r,name:i,startTime:o}=t,s=esm_getAbsoluteTime(o);return{type:r,name:i,start:s,end:s+n,data:void 0}},navigation:function(t){let{entryType:n,name:r,decodedBodySize:i,duration:o,domComplete:s,encodedBodySize:a,domContentLoadedEventStart:l,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:p,redirectCount:m,startTime:_,transferSize:v,type:b}=t;return 0===o?null:{type:`${n}.${b}`,start:esm_getAbsoluteTime(_),end:esm_getAbsoluteTime(s),name:r,data:{size:v,decodedBodySize:i,encodedBodySize:a,duration:o,domInteractive:u,domContentLoadedEventStart:l,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:p,domComplete:s,redirectCount:m}}}};function createPerformanceEntry(t){return tb[t.entryType]?tb[t.entryType](t):null}function esm_getAbsoluteTime(t){return((ep.Z1||e6.performance.timeOrigin)+t)/1e3}function logInfo(t,n){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(U.kg.info(t),n&&addBreadcrumb(t))}function logInfoNextTick(t,n){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(U.kg.info(t),n&&setTimeout(()=>{addBreadcrumb(t)},0))}function addBreadcrumb(t){let n=(0,A.Gd)();n.addBreadcrumb({category:"console",data:{logger:"replay"},level:"info",message:t},{level:"info"})}let EventBufferSizeExceededError=class EventBufferSizeExceededError extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}};let EventBufferArray=class EventBufferArray{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){let n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>2e7)throw new EventBufferSizeExceededError;this.events.push(t)}finish(){return new Promise(t=>{let n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(t=>t.timestamp).sort()[0];return t?timestampToMs(t):null}};let WorkerHandler=class WorkerHandler{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",t=>{n(t)},{once:!0})})),this._ensureReadyPromise}destroy(){logInfo("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,n){let r=this._getAndIncrementId();return new Promise((i,o)=>{let listener=({data:n})=>{if(n.method===t&&n.id===r){if(this._worker.removeEventListener("message",listener),!n.success){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.error("[Replay]",n.response),o(Error("Error in compression worker"));return}i(n.response)}};this._worker.addEventListener("message",listener),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}};let EventBufferCompressionWorker=class EventBufferCompressionWorker{constructor(t){this._worker=new WorkerHandler(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let n=timestampToMs(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);let r=JSON.stringify(t);return(this._totalSize+=r.length,this._totalSize>2e7)?Promise.reject(new EventBufferSizeExceededError):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear")}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){let t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}};let EventBufferProxy=class EventBufferProxy{constructor(t){this._fallback=new EventBufferArray,this._compression=new EventBufferCompressionWorker(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){logInfo("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:t,hasCheckout:n}=this._fallback,r=[];for(let n of t)r.push(this._compression.addEvent(n));this._compression.hasCheckout=n,this._used=this._compression;try{await Promise.all(r)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn("[Replay] Failed to add events when switching buffers.",t)}}};function hasSessionStorage(){try{return"sessionStorage"in e6&&!!e6.sessionStorage}catch(t){return!1}}function isSampled(t){return void 0!==t&&Math.random()<t}function saveSession(t){if(hasSessionStorage())try{e6.sessionStorage.setItem(e4,JSON.stringify(t))}catch(t){}}function makeSession(t){let n=Date.now(),r=t.id||(0,F.DM)(),i=t.started||n,o=t.lastActivity||n,s=t.segmentId||0,a=t.sampled,l=t.previousSessionId;return{id:r,started:i,lastActivity:o,segmentId:s,sampled:a,previousSessionId:l}}function createSession({sessionSampleRate:t,allowBuffering:n,stickySession:r=!1},{previousSessionId:i}={}){let o=isSampled(t)?"session":!!n&&"buffer",s=makeSession({sampled:o,previousSessionId:i});return r&&saveSession(s),s}function isExpired(t,n,r=+new Date){return null===t||void 0===n||n<0||0!==n&&t+n<=r}function isSessionExpired(t,{maxReplayDuration:n,sessionIdleExpire:r,targetTime:i=Date.now()}){return isExpired(t.started,n,i)||isExpired(t.lastActivity,r,i)}function shouldRefreshSession(t,{sessionIdleExpire:n,maxReplayDuration:r}){return!!isSessionExpired(t,{sessionIdleExpire:n,maxReplayDuration:r})&&("buffer"!==t.sampled||0!==t.segmentId)}function loadOrCreateSession({traceInternals:t,sessionIdleExpire:n,maxReplayDuration:r,previousSessionId:i},o){let s=o.stickySession&&function(t){if(!hasSessionStorage())return null;try{let n=e6.sessionStorage.getItem(e4);if(!n)return null;let r=JSON.parse(n);return logInfoNextTick("[Replay] Loading existing session",t),makeSession(r)}catch(t){return null}}(t);return s?shouldRefreshSession(s,{sessionIdleExpire:n,maxReplayDuration:r})?(logInfoNextTick("[Replay] Session in sessionStorage is expired, creating new one..."),createSession(o,{previousSessionId:s.id})):s:(logInfoNextTick("[Replay] Creating new session",t),createSession(o,{previousSessionId:i}))}function addEventSync(t,n,r){return!!shouldAddEvent(t,n)&&(_addEvent(t,n,r),!0)}async function _addEvent(t,n,r){if(!t.eventBuffer)return null;try{r&&"buffer"===t.recordingMode&&t.eventBuffer.clear(),r&&(t.eventBuffer.hasCheckout=!0);let i=t.getOptions(),o=function(t,n){try{if("function"==typeof n&&t.type===tu.Custom)return n(t)}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",t),null}return t}(n,i.beforeAddRecordingEvent);if(!o)return;return await t.eventBuffer.addEvent(o)}catch(i){let n=i&&i instanceof EventBufferSizeExceededError?"addEventSizeExceeded":"addEvent";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.error(i),await t.stop({reason:n});let r=(0,A.Gd)().getClient();r&&r.recordDroppedEvent("internal_sdk_error","replay")}}function shouldAddEvent(t,n){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;let r=timestampToMs(n.timestamp);return!(r+t.timeouts.sessionIdlePause<Date.now())&&(!(r>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration)||(logInfo(`[Replay] Skipping event with timestamp ${r} because it is after maxReplayDuration`,t.getOptions()._experiments.traceInternals),!1))}function esm_isTransactionEvent(t){return"transaction"===t.type}function handleAfterSendEvent(t){let n=function(){let t=(0,A.Gd)().getClient();if(!t)return!1;let n=t.getTransport();return!!n&&(n.send.__sentry__baseTransport__||!1)}();return(r,i)=>{if(!t.isEnabled()||r.type&&!esm_isTransactionEvent(r))return;let o=i&&i.statusCode;if(!n||o&&!(o<200)&&!(o>=300)){if(esm_isTransactionEvent(r)){!function(t,n){let r=t.getContext();n.contexts&&n.contexts.trace&&n.contexts.trace.trace_id&&r.traceIds.size<100&&r.traceIds.add(n.contexts.trace.trace_id)}(t,r);return}!function(t,n){let r=t.getContext();if(n.event_id&&r.errorIds.size<100&&r.errorIds.add(n.event_id),"buffer"!==t.recordingMode||!n.tags||!n.tags.replayId)return;let{beforeErrorSampling:i}=t.getOptions();("function"!=typeof i||i(n))&&setTimeout(()=>{t.sendBufferedReplayOrFlush()})}(t,r)}}}function createPerformanceSpans(t,n){return n.map(({type:n,start:r,end:i,name:o,data:s})=>{let a=t.throttledAddEvent({type:tu.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:i,data:s}}});return"string"==typeof a?Promise.resolve(null):a})}function addNetworkBreadcrumb(t,n){var r;t.isEnabled()&&null!==n&&(r=n.name,(!("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)||!t.getOptions()._experiments.traceInternals)&&function(t,n){let r=n.getClient(),i=r&&r.getDsn(),o=r&&r.getOptions().tunnel;return!!i&&t.includes(i.host)||!!o&&removeTrailingSlash(t)===removeTrailingSlash(o)}(r,(0,A.Gd)())||t.addUpdate(()=>(createPerformanceSpans(t,[n]),!0)))}function getBodySize(t,n){if(t)try{if("string"==typeof t)return n.encode(t).length;if(t instanceof URLSearchParams)return n.encode(t.toString()).length;if(t instanceof FormData){let r=_serializeFormData(t);return n.encode(r).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch(t){}}function parseContentLengthHeader(t){if(!t)return;let n=parseInt(t,10);return isNaN(n)?void 0:n}function getBodyString(t){return"string"==typeof t?t:t instanceof URLSearchParams?t.toString():t instanceof FormData?_serializeFormData(t):void 0}function makeNetworkReplayBreadcrumb(t,n){if(!n)return null;let{startTimestamp:r,endTimestamp:i,url:o,method:s,statusCode:a,request:l,response:c}=n,u={type:t,start:r/1e3,end:i/1e3,name:o,data:(0,q.Jr)({method:s,statusCode:a,request:l,response:c})};return u}function buildSkippedNetworkRequestOrResponse(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function buildNetworkRequestOrResponse(t,n,r){if(!n&&0===Object.keys(t).length)return;if(!n)return{headers:t};if(!r)return{headers:t,size:n};let i={headers:t,size:n},{body:o,warnings:s}=function(t){if(!t||"string"!=typeof t)return{body:t};let n=t.length>15e4,r=function(t){let n=t[0],r=t[t.length-1];return"["===n&&"]"===r||"{"===n&&"}"===r}(t);if(n){let n=t.slice(0,15e4);return r?{body:n,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${n}`,warnings:["TEXT_TRUNCATED"]}}if(r)try{let n=JSON.parse(t);return{body:n}}catch(t){}return{body:t}}(r);return i.body=o,s&&s.length>0&&(i._meta={warnings:s}),i}function getAllowedHeaders(t,n){return Object.keys(t).reduce((r,i)=>{let o=i.toLowerCase();return n.includes(o)&&t[i]&&(r[o]=t[i]),r},{})}function _serializeFormData(t){return new URLSearchParams(t).toString()}function urlMatches(t,n){let r=function(t,n=e6.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(e6.location.origin))return t;let r=new URL(t,n);if(r.origin!==new URL(n).origin)return t;let i=r.href;return!t.endsWith("/")&&i.endsWith("/")?i.slice(0,-1):i}(t);return(0,H.U0)(r,n)}async function captureFetchBreadcrumbToReplay(t,n,r){try{let i=await _prepareFetchData(t,n,r),o=makeNetworkReplayBreadcrumb("resource.fetch",i);addNetworkBreadcrumb(r.replay,o)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.error("[Replay] Failed to capture fetch breadcrumb",t)}}async function _prepareFetchData(t,n,r){let{startTimestamp:i,endTimestamp:o}=n,{url:s,method:a,status_code:l=0,request_body_size:c,response_body_size:u}=t.data,d=urlMatches(s,r.networkDetailAllowUrls)&&!urlMatches(s,r.networkDetailDenyUrls),p=d?function({networkCaptureBodies:t,networkRequestHeaders:n},r,i){let o=1===r.length&&"string"!=typeof r[0]?getHeadersFromOptions(r[0],n):2===r.length?getHeadersFromOptions(r[1],n):{};if(!t)return buildNetworkRequestOrResponse(o,i,void 0);let s=_getFetchRequestArgBody(r),a=getBodyString(s);return buildNetworkRequestOrResponse(o,i,a)}(r,n.input,c):buildSkippedNetworkRequestOrResponse(c),m=await _getResponseInfo(d,r,n.response,u);return{startTimestamp:i,endTimestamp:o,url:s,method:a,statusCode:l,request:p,response:m}}async function _getResponseInfo(t,{networkCaptureBodies:n,textEncoder:r,networkResponseHeaders:i},o,s){if(!t&&void 0!==s)return buildSkippedNetworkRequestOrResponse(s);let a=getAllHeaders(o.headers,i);if(!n&&void 0!==s)return buildNetworkRequestOrResponse(a,s,void 0);try{let i=o.clone(),l=await _parseFetchBody(i),c=l&&l.length&&void 0===s?getBodySize(l,r):s;if(!t)return buildSkippedNetworkRequestOrResponse(c);if(n)return buildNetworkRequestOrResponse(a,c,l);return buildNetworkRequestOrResponse(a,c,void 0)}catch(t){return buildNetworkRequestOrResponse(a,s,void 0)}}async function _parseFetchBody(t){try{return await t.text()}catch(t){return}}function _getFetchRequestArgBody(t=[]){if(2===t.length&&"object"==typeof t[1])return t[1].body}function getAllHeaders(t,n){let r={};return n.forEach(n=>{t.get(n)&&(r[n]=t.get(n))}),r}function getHeadersFromOptions(t,n){if(!t)return{};let r=t.headers;return r?r instanceof Headers?getAllHeaders(r,n):Array.isArray(r)?{}:getAllowedHeaders(r,n):{}}async function captureXhrBreadcrumbToReplay(t,n,r){try{let i=function(t,n,r){let{startTimestamp:i,endTimestamp:o,input:s,xhr:a}=n,{url:l,method:c,status_code:u=0,request_body_size:d,response_body_size:p}=t.data;if(!l)return null;if(!urlMatches(l,r.networkDetailAllowUrls)||urlMatches(l,r.networkDetailDenyUrls)){let t=buildSkippedNetworkRequestOrResponse(d),n=buildSkippedNetworkRequestOrResponse(p);return{startTimestamp:i,endTimestamp:o,url:l,method:c,statusCode:u,request:t,response:n}}let m=a[en],_=m?getAllowedHeaders(m.request_headers,r.networkRequestHeaders):{},v=getAllowedHeaders(function(t){let n=t.getAllResponseHeaders();return n?n.split("\r\n").reduce((t,n)=>{let[r,i]=n.split(": ");return t[r.toLowerCase()]=i,t},{}):{}}(a),r.networkResponseHeaders),b=buildNetworkRequestOrResponse(_,d,r.networkCaptureBodies?getBodyString(s):void 0),E=buildNetworkRequestOrResponse(v,p,r.networkCaptureBodies?n.xhr.responseText:void 0);return{startTimestamp:i,endTimestamp:o,url:l,method:c,statusCode:u,request:b,response:E}}(t,n,r),o=makeNetworkReplayBreadcrumb("resource.xhr",i);addNetworkBreadcrumb(r.replay,o)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.error("[Replay] Failed to capture xhr breadcrumb",t)}}let tS=null,handleScopeListener=t=>n=>{if(!t.isEnabled())return;let r=function(t){let n=t.getLastBreadcrumb&&t.getLastBreadcrumb();return tS!==n&&n?(tS=n,!n.category||["fetch","xhr","sentry.event","sentry.transaction"].includes(n.category)||n.category.startsWith("ui."))?null:"console"===n.category?function(t){let n=t.data&&t.data.arguments;if(!Array.isArray(n)||0===n.length)return createBreadcrumb(t);let r=!1,i=n.map(t=>{if(!t)return t;if("string"==typeof t)return t.length>5e3?(r=!0,`${t.slice(0,5e3)}`):t;if("object"==typeof t)try{let n=normalize(t,7),i=JSON.stringify(n);if(i.length>5e3)return r=!0,`${JSON.stringify(n,null,2).slice(0,5e3)}`;return n}catch(t){}return t});return createBreadcrumb({...t,data:{...t.data,arguments:i,...r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(n):createBreadcrumb(n):null}(n);r&&addBreadcrumbEvent(t,r)};async function addMemoryEntry(t){try{return Promise.all(createPerformanceSpans(t,[function(t){let{jsHeapSizeLimit:n,totalJSHeapSize:r,usedJSHeapSize:i}=t,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:n,totalJSHeapSize:r,usedJSHeapSize:i}}}}(e6.performance.memory)]))}catch(t){return[]}}async function prepareReplayEvent({client:t,scope:n,replayId:r,event:i}){let o="object"!=typeof t._integrations||null===t._integrations||Array.isArray(t._integrations)?void 0:Object.keys(t._integrations),s={event_id:r,integrations:o};t.emit&&t.emit("preprocessEvent",i,s);let a=await prepareEvent(t.getOptions(),i,s,n,t);if(!a)return null;a.platform=a.platform||"javascript";let l=t.getSdkMetadata&&t.getSdkMetadata(),{name:c,version:u}=l&&l.sdk||{};return a.sdk={...a.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},a}async function sendReplayRequest({recordingData:t,replayId:n,segmentId:r,eventContext:i,timestamp:o,session:s}){var a;let l;let c=function({recordingData:t,headers:n}){let r;let i=`${JSON.stringify(n)}
`;if("string"==typeof t)r=`${i}${t}`;else{let n=new TextEncoder,o=n.encode(i);(r=new Uint8Array(o.length+t.length)).set(o),r.set(t,o.length)}return r}({recordingData:t,headers:{segment_id:r}}),{urls:u,errorIds:d,traceIds:p,initialTimestamp:m}=i,_=(0,A.Gd)(),v=_.getClient(),b=_.getScope(),E=v&&v.getTransport(),x=v&&v.getDsn();if(!v||!E||!x||!s.sampled)return;let w={type:"replay_event",replay_start_timestamp:m/1e3,timestamp:o/1e3,error_ids:d,trace_ids:p,urls:u,replay_id:n,segment_id:r,replay_type:s.sampled},k=await prepareReplayEvent({scope:b,client:v,replayId:n,event:w});if(!k){v.recordDroppedEvent("event_processor","replay",w),logInfo("An event processor returned `null`, will not send event.");return}delete k.sdkProcessingMetadata;let T=(a=v.getOptions().tunnel,createEnvelope(createEventEnvelopeHeaders(k,getSdkMetadataForEnvelopeHeader(k),a,x),[[{type:"replay_event"},k],[{type:"replay_recording",length:"string"==typeof c?new TextEncoder().encode(c).length:c.length},c]]));try{l=await E.send(T)}catch(n){let t=Error(e8);try{t.cause=n}catch(t){}throw t}if(!l)return l;if("number"==typeof l.statusCode&&(l.statusCode<200||l.statusCode>=300))throw new TransportStatusCodeError(l.statusCode);let C=updateRateLimits({},l);if(isRateLimited(C,"replay"))throw new RateLimitError(C);return l}let TransportStatusCodeError=class TransportStatusCodeError extends Error{constructor(t){super(`Transport returned status code ${t}`)}};let RateLimitError=class RateLimitError extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}};async function sendReplay(t,n={count:0,interval:5e3}){let{recordingData:r,options:i}=t;if(r.length)try{return await sendReplayRequest(t),!0}catch(r){if(r instanceof TransportStatusCodeError||r instanceof RateLimitError)throw r;if((0,ey.v)("Replays",{_retryCount:n.count}),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i._experiments&&i._experiments.captureExceptions&&(0,ey.Tb)(r),n.count>=3){let t=Error(`${e8} - max retries exceeded`);try{t.cause=r}catch(t){}throw t}return n.interval*=++n.count,new Promise((r,i)=>{setTimeout(async()=>{try{await sendReplay(t,n),r(!0)}catch(t){i(t)}},n.interval)})}}let tE="__THROTTLED";let ReplayContainer=class ReplayContainer{constructor({options:t,recordingOptions:n}){ReplayContainer.prototype.__init.call(this),ReplayContainer.prototype.__init2.call(this),ReplayContainer.prototype.__init3.call(this),ReplayContainer.prototype.__init4.call(this),ReplayContainer.prototype.__init5.call(this),ReplayContainer.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=function(t,n,r){let i,o,s;let a=r&&r.maxWait?Math.max(r.maxWait,n):0;function invokeFunc(){return cancelTimers(),i=t()}function cancelTimers(){void 0!==o&&clearTimeout(o),void 0!==s&&clearTimeout(s),o=s=void 0}function debounced(){return o&&clearTimeout(o),o=setTimeout(invokeFunc,n),a&&void 0===s&&(s=setTimeout(invokeFunc,a)),i}return debounced.cancel=cancelTimers,debounced.flush=function(){return void 0!==o||void 0!==s?invokeFunc():i},debounced}(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=function(t,n,r){let i=new Map,_cleanup=t=>{let n=t-5;i.forEach((t,r)=>{r<n&&i.delete(r)})},_getTotalCount=()=>[...i.values()].reduce((t,n)=>t+n,0),o=!1;return(...n)=>{let r=Math.floor(Date.now()/1e3);if(_cleanup(r),_getTotalCount()>=300){let t=o;return o=!0,t?"__SKIPPED":tE}o=!1;let s=i.get(r)||0;return i.set(r,s+1),t(...n)}}((t,n)=>shouldAddEvent(this,t)?_addEvent(this,t,n):Promise.resolve(null),0,0);let{slowClickTimeout:r,slowClickIgnoreSelectors:i}=this.getOptions(),o=r?{threshold:Math.min(3e3,r),timeout:r,scrollTimeout:300,ignoreSelector:i?i.join(","):""}:void 0;o&&(this.clickDetector=new ClickDetector(this,o))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}getOptions(){return this._options}initializeSampling(t){let{errorSampleRate:n,sessionSampleRate:r}=this._options;if(!(n<=0)||!(r<=0)){if(this._initializeSessionForSampling(t),!this.session){this._handleException(Error("Unable to initialize and create session"));return}!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",logInfoNextTick(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&"session"===this.recordingMode)throw Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw Error("Replay buffering is in progress, call `flush()` to save the replay");logInfoNextTick("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);let t=loadOrCreateSession({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw Error("Replay recording is already in progress");logInfoNextTick("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);let t=loadOrCreateSession({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{var t;let n;this._stopRecording=record({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:(t=this,n=!1,(r,i)=>{if(!t.checkAndHandleExpiredSession()){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn("[Replay] Received replay event after session expired.");return}let o=i||!n;n=!0,t.clickDetector&&function(t,n){try{if(3!==n.type)return;let{source:r}=n.data;if(r===td.Mutation&&t.registerMutation(n.timestamp),r===td.Scroll&&t.registerScroll(n.timestamp),n.data.source===td.MouseInteraction){let{type:r,id:i}=n.data,o=record.mirror.getNode(i);o instanceof HTMLElement&&r===tp.Click&&t.registerClick(o)}}catch(t){}}(t.clickDetector,r),t.addUpdate(()=>{if("buffer"===t.recordingMode&&o&&t.setInitialState(),!addEventSync(t,r,o))return!0;if(!o)return!1;if(o&&t.session&&0===t.session.segmentId&&addEventSync(t,function(t){let n=t.getOptions();return{type:tu.Custom,timestamp:Date.now(),data:{tag:"options",payload:{sessionSampleRate:n.sessionSampleRate,errorSampleRate:n.errorSampleRate,useCompressionOption:n.useCompression,blockAllMedia:n.blockAllMedia,maskAllText:n.maskAllText,maskAllInputs:n.maskAllInputs,useCompression:!!t.eventBuffer&&"worker"===t.eventBuffer.type,networkDetailHasUrls:n.networkDetailAllowUrls.length>0,networkCaptureBodies:n.networkCaptureBodies,networkRequestHasHeaders:n.networkRequestHeaders.length>0,networkResponseHasHeaders:n.networkResponseHeaders.length>0}}}}(t),!1),t.session&&t.session.previousSessionId)return!0;if("buffer"===t.recordingMode&&t.session&&t.eventBuffer){let n=t.eventBuffer.getEarliestTimestamp();n&&(logInfo(`[Replay] Updating session start time to earliest event in buffer to ${new Date(n)}`,t.getOptions()._experiments.traceInternals),t.session.started=n,t.getOptions().stickySession&&saveSession(t.session))}return"session"===t.recordingMode&&t.flush(),!0})}),onMutation:this._onMutationHandler})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{logInfo(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,function(){if(hasSessionStorage())try{e6.sessionStorage.removeItem(e4)}catch(t){}}(),this.session=void 0}catch(t){this._handleException(t)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),logInfo("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),logInfo("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();let n=Date.now();logInfo("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();let r=this.stopRecording();t&&r&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){let n=t();"buffer"!==this.recordingMode&&!0!==n&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&isExpired(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${e6.location.pathname}${e6.location.hash}${e6.location.search}`,n=`${e6.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){let r=this._throttledAddEvent(t,n);if(r===tE){let t=createBreadcrumb({category:"replay.throttled"});this.addUpdate(()=>!addEventSync(this,{type:5,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t,metric:!0}}))}return r}getCurrentRoute(){let t=this.lastTransaction||(0,A.Gd)().getScope().getTransaction();if(t&&["route","custom"].includes(t.metadata.source))return t.name}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=function({useCompression:t,workerUrl:n}){if(t&&window.Worker){let t=function(t){try{let n=t||("undefined"!=typeof __SENTRY_EXCLUDE_REPLAY_WORKER__&&__SENTRY_EXCLUDE_REPLAY_WORKER__?"":function(){let t=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(t)}());if(!n)return;logInfo(`[Replay] Using compression worker${t?` from ${t}`:""}`);let r=new Worker(n);return new EventBufferProxy(r)}catch(t){logInfo("[Replay] Failed to create compression worker")}}(n);if(t)return t}return logInfo("[Replay] Using simple buffer"),new EventBufferArray}({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.error("[Replay]",t),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this._options._experiments&&this._options._experiments.captureExceptions&&(0,ey.Tb)(t)}_initializeSessionForSampling(t){let n=this._options.errorSampleRate>0,r=loadOrCreateSession({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;let t=this.session;return!shouldRefreshSession(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(t),!1)}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{e6.document.addEventListener("visibilitychange",this._handleVisibilityChange),e6.addEventListener("blur",this._handleWindowBlur),e6.addEventListener("focus",this._handleWindowFocus),e6.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(function(t){let n=(0,A.Gd)().getScope(),r=(0,A.Gd)().getClient();n.addScopeListener(handleScopeListener(t)),addInstrumentationHandler("dom",handleDomListener(t)),addInstrumentationHandler("history",n=>{if(!t.isEnabled())return;let r=function(t){let{from:n,to:r}=t,i=Date.now()/1e3;return{type:"navigation.push",start:i,end:i,name:r,data:{previous:n}}}(n);null!==r&&(t.getContext().urls.push(r.name),t.triggerUserActivity(),t.addUpdate(()=>(createPerformanceSpans(t,[r]),!1)))}),function(t){let n=(0,A.Gd)().getClient();try{let r=new TextEncoder,{networkDetailAllowUrls:i,networkDetailDenyUrls:o,networkCaptureBodies:s,networkRequestHeaders:a,networkResponseHeaders:l}=t.getOptions(),c={replay:t,textEncoder:r,networkDetailAllowUrls:i,networkDetailDenyUrls:o,networkCaptureBodies:s,networkRequestHeaders:a,networkResponseHeaders:l};n&&n.on?n.on("beforeAddBreadcrumb",(t,n)=>(function(t,n,r){if(n.data)try{var i,o;"xhr"===n.category&&(i=r)&&i.xhr&&(function(t,n,r){let{xhr:i,input:o}=n,s=getBodySize(o,r.textEncoder),a=i.getResponseHeader("content-length")?parseContentLengthHeader(i.getResponseHeader("content-length")):getBodySize(i.response,r.textEncoder);void 0!==s&&(t.data.request_body_size=s),void 0!==a&&(t.data.response_body_size=a)}(n,r,t),captureXhrBreadcrumbToReplay(n,r,t)),"fetch"===n.category&&(o=r)&&o.response&&(function(t,n,r){let{input:i,response:o}=n,s=_getFetchRequestArgBody(i),a=getBodySize(s,r.textEncoder),l=o?parseContentLengthHeader(o.headers.get("content-length")):void 0;void 0!==a&&(t.data.request_body_size=a),void 0!==l&&(t.data.response_body_size=l)}(n,r,t),captureFetchBreadcrumbToReplay(n,r,t))}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn("Error when enriching network breadcrumb")}})(c,t,n)):(addInstrumentationHandler("fetch",n=>{if(!t.isEnabled())return;let r=function(t){let{startTimestamp:n,endTimestamp:r,fetchData:i,response:o}=t;if(!r)return null;let{method:s,url:a}=i;return{type:"resource.fetch",start:n/1e3,end:r/1e3,name:a,data:{method:s,statusCode:o?o.status:void 0}}}(n);addNetworkBreadcrumb(t,r)}),addInstrumentationHandler("xhr",n=>{if(!t.isEnabled())return;let r=function(t){let{startTimestamp:n,endTimestamp:r,xhr:i}=t,o=i[en];if(!n||!r||!o)return null;let{method:s,url:a,status_code:l}=o;return void 0===a?null:{type:"resource.xhr",name:a,start:n/1e3,end:r/1e3,data:{method:s,statusCode:l}}}(n);addNetworkBreadcrumb(t,r)}))}catch(t){}}(t);let i=function(t,n=!1){let r=n?handleAfterSendEvent(t):void 0;return Object.assign((n,i)=>{if(!t.isEnabled())return n;if("replay_event"===n.type)return delete n.breadcrumbs,n;if(n.type&&!esm_isTransactionEvent(n))return n;let o=t.checkAndHandleExpiredSession();if(!o)return n;if(!n.type&&n.exception&&n.exception.values&&n.exception.values.length&&i.originalException&&i.originalException.__rrweb__&&!t.getOptions()._experiments.captureExceptions)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.log("[Replay] Ignoring error from rrweb internals",n),null;let s="buffer"===t.recordingMode&&n.message!==e8&&!!n.exception&&!n.type&&isSampled(t.getOptions().errorSampleRate),a=s||"session"===t.recordingMode;return a&&(n.tags={...n.tags,replayId:t.getSessionId()}),r&&r(n,{statusCode:200}),n},{id:"Replay"})}(t,!(r&&r.on));r&&r.addEventProcessor?r.addEventProcessor(i):(0,Y.cc)(i),r&&r.on&&(r.on("afterSendEvent",handleAfterSendEvent(t)),r.on("createDsc",n=>{let r=t.getSessionId();if(r&&t.isEnabled()&&"session"===t.recordingMode){let i=t.checkAndHandleExpiredSession();i&&(n.replay_id=r)}}),r.on("startTransaction",n=>{t.lastTransaction=n}),r.on("finishTransaction",n=>{t.lastTransaction=n}))}(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=function(t){function addPerformanceEntry(n){t.performanceEntries.includes(n)||t.performanceEntries.push(n)}function onEntries({entries:t}){t.forEach(addPerformanceEntry)}let n=[];return["navigation","paint","resource"].forEach(t=>{n.push(addPerformanceInstrumentationHandler(t,onEntries))}),n.push(addLcpInstrumentationHandler(({metric:n})=>{t.replayPerformanceEntries.push(function(t){let n=t.entries,r=n[n.length-1],i=r?r.element:void 0,o=t.value,s=esm_getAbsoluteTime(o),a={type:"largest-contentful-paint",name:"largest-contentful-paint",start:s,end:s,data:{value:o,size:o,nodeId:i?record.mirror.getId(i):void 0}};return a}(n))})),()=>{n.forEach(t=>t())}}(this)}_removeListeners(){try{e6.document.removeEventListener("visibilitychange",this._handleVisibilityChange),e6.removeEventListener("blur",this._handleWindowBlur),e6.removeEventListener("focus",this._handleWindowFocus),e6.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{"visible"===e6.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{let t=createBreadcrumb({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{let t=createBreadcrumb({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{!function(t,n){if(!t.isEnabled())return;t.updateUserActivity();let r=function(t){var n;let{metaKey:r,shiftKey:i,ctrlKey:o,altKey:s,key:a,target:l}=t;if(!l||"INPUT"===(n=l).tagName||"TEXTAREA"===n.tagName||n.isContentEditable||!a)return null;let c=1===a.length;if(!(r||o||s)&&c)return null;let u=(0,eS.Rt)(l,{maxStringLength:200})||"<unknown>",d=getBaseDomBreadcrumb(l,u);return createBreadcrumb({category:"ui.keyDown",message:u,data:{...d.data,metaKey:r,shiftKey:i,ctrlKey:o,altKey:s,key:a}})}(n);r&&addBreadcrumbEvent(t,r)}(this,t)}}_doChangeToBackgroundTasks(t){if(!this.session)return;let n=isSessionExpired(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire});n||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;let n=this.checkAndHandleExpiredSession();if(!n){logInfo("[Replay] Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:tu.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=this.performanceEntries.map(createPerformanceEntry).filter(Boolean).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(createPerformanceSpans(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:n}=this;if(!t||!n||t.segmentId)return;let r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await addMemoryEntry(this),this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw Error("Session is too long, not sending replay");let r=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();let o=await this.eventBuffer.finish();await sendReplay({replayId:t,recordingData:o,segmentId:i,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});let t=(0,A.Gd)().getClient();t&&t.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;let n=this.session.started,r=Date.now(),i=r-n;this._debouncedFlush.cancel();let o=i<this._options.minReplayDuration,s=i>this._options.maxReplayDuration+5e3;if(o||s){logInfo(`[Replay] Session duration (${Math.floor(i/1e3)}s) is too ${o?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),o&&this._debouncedFlush();return}let a=this.eventBuffer;if(a&&0===this.session.segmentId&&!a.hasCheckout&&logInfo("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.error(t)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&saveSession(this.session)}__init6(){this._onMutationHandler=t=>{let n=t.length,r=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,o=r&&n>r;if(n>i||o){let t=createBreadcrumb({category:"replay.mutations",data:{count:n,limit:o}});this._createCustomBreadcrumb(t)}return!o||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}};function getOption(t,n,r,i){let o="string"==typeof i?i.split(","):[],s=[...t,...o,...n];return void 0!==r&&("string"==typeof r&&s.push(`.${r}`),console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")),s.join(",")}let tx='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',tw=["content-length","content-type","accept"],tk=!1;let Replay=class Replay{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=5e3,flushMaxDelay:n=5500,minReplayDuration:r=4999,maxReplayDuration:i=36e5,stickySession:o=!0,useCompression:s=!0,workerUrl:a,_experiments:l={},sessionSampleRate:c,errorSampleRate:u,maskAllText:d=!0,maskAllInputs:p=!0,blockAllMedia:m=!0,mutationBreadcrumbLimit:_=750,mutationLimit:v=1e4,slowClickTimeout:b=7e3,slowClickIgnoreSelectors:E=[],networkDetailAllowUrls:x=[],networkDetailDenyUrls:w=[],networkCaptureBodies:k=!0,networkRequestHeaders:T=[],networkResponseHeaders:C=[],mask:R=[],maskAttributes:M=["title","placeholder"],unmask:O=[],block:I=[],unblock:N=[],ignore:D=[],maskFn:P,beforeAddRecordingEvent:j,beforeErrorSampling:A,blockClass:L,blockSelector:B,maskInputOptions:U,maskTextClass:F,maskTextSelector:H,ignoreClass:G}={}){this.name=Replay.id;let W=function({mask:t,unmask:n,block:r,unblock:i,ignore:o,blockClass:s,blockSelector:a,maskTextClass:l,maskTextSelector:c,ignoreClass:u}){let d=getOption(t,[".sentry-mask","[data-sentry-mask]"],l,c),p=getOption(n,[".sentry-unmask","[data-sentry-unmask]"]),m={maskTextSelector:d,unmaskTextSelector:p,blockSelector:getOption(r,[".sentry-block","[data-sentry-block]",'base[href="/"]'],s,a),unblockSelector:getOption(i,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:getOption(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return s instanceof RegExp&&(m.blockClass=s),l instanceof RegExp&&(m.maskTextClass=l),m}({mask:R,unmask:O,block:I,unblock:N,ignore:D,blockClass:L,blockSelector:B,maskTextClass:F,maskTextSelector:H,ignoreClass:G});if(this._recordingOptions={maskAllInputs:p,maskAllText:d,maskInputOptions:{...U||{},password:!0},maskTextFn:P,maskInputFn:P,maskAttributeFn:(t,n,r)=>(function({el:t,key:n,maskAttributes:r,maskAllText:i,privacyOptions:o,value:s}){return!i||o.unmaskTextSelector&&t.matches(o.unmaskTextSelector)?s:r.includes(n)||"value"===n&&"INPUT"===t.tagName&&["submit","button"].includes(t.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s})({maskAttributes:M,maskAllText:d,privacyOptions:W,key:t,value:n,el:r}),...W,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:t=>{try{t.__rrweb__=!0}catch(t){}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,15e3),maxReplayDuration:Math.min(i,36e5),stickySession:o,sessionSampleRate:c,errorSampleRate:u,useCompression:s,workerUrl:a,blockAllMedia:m,maskAllInputs:p,maskAllText:d,mutationBreadcrumbLimit:_,mutationLimit:v,slowClickTimeout:b,slowClickIgnoreSelectors:E,networkDetailAllowUrls:x,networkDetailDenyUrls:w,networkCaptureBodies:k,networkRequestHeaders:_getMergedNetworkHeaders(T),networkResponseHeaders:_getMergedNetworkHeaders(C),beforeAddRecordingEvent:j,beforeErrorSampling:A,_experiments:l},"number"==typeof c&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${c} })`),this._initialOptions.sessionSampleRate=c),"number"==typeof u&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${u} })`),this._initialOptions.errorSampleRate=u),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${tx}`:tx),this._isInitialized&&isBrowser())throw Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return tk}set _isInitialized(t){tk=t}setupOnce(){isBrowser()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(t){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(){this._replay&&this._replay.initializeSampling()}_setup(){let t=function(t){let n=(0,A.Gd)().getClient(),r=n&&n.getOptions(),i={sessionSampleRate:0,errorSampleRate:0,...(0,q.Jr)(t)};return r?(null==t.sessionSampleRate&&null==t.errorSampleRate&&null==r.replaysSessionSampleRate&&null==r.replaysOnErrorSampleRate&&console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set."),"number"==typeof r.replaysSessionSampleRate&&(i.sessionSampleRate=r.replaysSessionSampleRate),"number"==typeof r.replaysOnErrorSampleRate&&(i.errorSampleRate=r.replaysOnErrorSampleRate)):console.warn("SDK client is not available."),i}(this._initialOptions);this._replay=new ReplayContainer({options:t,recordingOptions:this._recordingOptions})}};function _getMergedNetworkHeaders(t){return[...tw,...t.map(t=>t.toLowerCase())]}Replay.__initStatic();var tT=r(83454),tC=window;tC.__sentryRewritesTunnelPath__=void 0,tC.SENTRY_RELEASE={id:"b35e6aa72ddda1ba5fce1ea7e9f71f0838802778"},tC.__sentryBasePath=void 0,tC.__rewriteFramesAssetPrefixPath__="";let tR=tT.env.SENTRY_DSN||"https://ea29c13458134fd3bc88a8bb4ba668cb@o1358113.ingest.sentry.io/6645088";!function(t){let n={environment:function(t){let n=t?"production":eK.env.VERCEL_ENV;return n?`vercel-${n}`:void 0}(!0)||"production",...t};!function(t){let n=e2.__sentryRewritesTunnelPath__;if(n&&t.dsn){let r=dsnFromString(t.dsn);if(!r)return;let i=r.host.match(/^o(\d+)\.ingest\.sentry\.io$/);if(i){let o=i[1],s=`${n}?o=${o}&p=${r.projectId}`;t.tunnel=s,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.info(`Tunneling events to "${s}"`)}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn("Provided DSN is not a Sentry SaaS DSN. Will not tunnel events.")}}(n),n._metadata=n._metadata||{},n._metadata.sdk=n._metadata.sdk||{name:"sentry.javascript.nextjs",packages:["nextjs","react"].map(t=>({name:`npm:@sentry/${t}`,version:B})),version:B},function(t){let n=t.integrations||[],r=e3.__rewriteFramesAssetPrefixPath__||"",i=new RewriteFrames({iteratee:t=>{try{let{origin:n}=new URL(t.filename);t.filename=function(t){let n;let r=t[0],i=1;for(;i<t.length;){let o=t[i],s=t[i+1];if(i+=2,("optionalAccess"===o||"optionalCall"===o)&&null==r)return;"access"===o||"optionalAccess"===o?(n=r,r=s(r)):("call"===o||"optionalCall"===o)&&(r=s((...t)=>r.call(n,...t)),n=void 0)}return r}([t,"access",t=>t.filename,"optionalAccess",t=>t.replace,"call",t=>t(n,"app://"),"access",t=>t.replace,"call",t=>t(r,"")])}catch(t){}return t.filename&&t.filename.startsWith("app:///_next")&&(t.filename=decodeURI(t.filename)),t.filename&&t.filename.match(/^app:\/\/\/_next\/static\/chunks\/(main-|main-app-|polyfills-|webpack-|framework-|framework\.)[0-9a-f]+\.js$/)&&(t.in_app=!1),t}});if(n=addOrUpdateIntegration(i,n),("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&hasTracingEnabled(t)){let t=new BrowserTracing({tracingOrigins:[...eZ.tracingOrigins,/^(api\/)/],routingInstrumentation:nextRouterInstrumentation});n=addOrUpdateIntegration(t,n,{"options.routingInstrumentation":nextRouterInstrumentation})}t.integrations=n}(n),function(t){let n={_metadata:{},...t};n._metadata.sdk=n._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:B}],version:B},function(t={}){var n;void 0===t.defaultIntegrations&&(t.defaultIntegrations=eD),void 0===t.release&&("string"==typeof __SENTRY_RELEASE__&&(t.release=__SENTRY_RELEASE__),ev.SENTRY_RELEASE&&ev.SENTRY_RELEASE.id&&(t.release=ev.SENTRY_RELEASE.id)),void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),void 0===t.sendClientReports&&(t.sendClientReports=!0);let r={...t,stackParser:Array.isArray(n=t.stackParser||eN)?createStackParser(...n):n,integrations:function(t){let n;let r=t.defaultIntegrations||[],i=t.integrations;r.forEach(t=>{t.isDefaultInstance=!0}),n=Array.isArray(i)?[...r,...i]:"function"==typeof i?(0,F.lE)(i(r)):r;let o=function(t){let n={};return t.forEach(t=>{let{name:r}=t,i=n[r];i&&!i.isDefaultInstance&&t.isDefaultInstance||(n[r]=t)}),Object.keys(n).map(t=>n[t])}(n),s=function(t,n){for(let r=0;r<t.length;r++)if(!0===n(t[r]))return r;return-1}(o,t=>"Debug"===t.name);if(-1!==s){let[t]=o.splice(s,1);o.push(t)}return o}(t),transport:t.transport||(supportsFetch()?makeFetchTransport:makeXHRTransport)};(function(t,n){!0===n.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?U.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));let r=(0,A.Gd)(),i=r.getScope();i.update(n.initialScope);let o=new t(n);r.bindClient(o)})(BrowserClient,r),t.autoSessionTracking&&function(){if(void 0===ev.document){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&U.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}let t=(0,A.Gd)();t.captureSession&&(startSessionOnHub(t),addInstrumentationHandler("history",({from:t,to:n})=>{void 0===t||t===n||startSessionOnHub((0,A.Gd)())}))}()}(n)}(n),(0,ey.e)(t=>{t.setTag("runtime","browser");let filterTransactions=t=>"transaction"===t.type&&"/404"===t.transaction?null:t;filterTransactions.id="NextClient404Filter",t.addEventProcessor(filterTransactions)})}({dsn:tR||"https://ea29c13458134fd3bc88a8bb4ba668cb@o1358113.ingest.sentry.io/6645088",sampleRate:.05,tracesSampleRate:.001,environment:null!==(j=tT.env.HELLO_ENV)&&void 0!==j?j:"production",tracesSampler:t=>{let{transactionContext:{name:n}}=t;return .002},ignoreErrors:["null is not an object (evaluating 'document.querySelector('video').title')",/.*document\.querySelector.*video.*/,/.*document\.querySelector\('video'\).*/,/.*video.*/,"ResizeObserver loop completed with undelivered notifications.","ResizeObserver loop limit exceeded","Cannot read properties of null (reading 'classList')","null is not an object (evaluating 's.classList')"],replaysSessionSampleRate:1e-4,replaysOnErrorSampleRate:.01,integrations:[new Replay]})},97498:function(t,n){"use strict";var r,i;Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var r in n)Object.defineProperty(t,r,{enumerable:!0,get:n[r]})}(n,{PrefetchKind:function(){return r},ACTION_REFRESH:function(){return o},ACTION_NAVIGATE:function(){return s},ACTION_RESTORE:function(){return a},ACTION_SERVER_PATCH:function(){return l},ACTION_PREFETCH:function(){return c},ACTION_FAST_REFRESH:function(){return u},ACTION_SERVER_ACTION:function(){return d}});let o="refresh",s="navigate",a="restore",l="server-patch",c="prefetch",u="fast-refresh",d="server-action";(i=r||(r={})).AUTO="auto",i.FULL="full",i.TEMPORARY="temporary",("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},10030:function(t,n,r){"use strict";function getDomainLocale(t,n,r,i){return!1}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getDomainLocale",{enumerable:!0,get:function(){return getDomainLocale}}),r(22866),("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},23271:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Image",{enumerable:!0,get:function(){return b}});let i=r(10260),o=r(77697),s=o._(r(67294)),a=i._(r(73935)),l=i._(r(79201)),c=r(53914),u=r(85494),d=r(30869);r(81905);let p=r(11823),m=i._(r(74545)),_={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function handleLoading(t,n,r,i,o,s){let a=null==t?void 0:t.src;if(!t||t["data-loaded-src"]===a)return;t["data-loaded-src"]=a;let l="decode"in t?t.decode():Promise.resolve();l.catch(()=>{}).then(()=>{if(t.parentElement&&t.isConnected){if("empty"!==n&&o(!0),null==r?void 0:r.current){let n=new Event("load");Object.defineProperty(n,"target",{writable:!1,value:t});let i=!1,o=!1;r.current({...n,nativeEvent:n,currentTarget:t,target:t,isDefaultPrevented:()=>i,isPropagationStopped:()=>o,persist:()=>{},preventDefault:()=>{i=!0,n.preventDefault()},stopPropagation:()=>{o=!0,n.stopPropagation()}})}(null==i?void 0:i.current)&&i.current(t)}})}function getDynamicProps(t){let[n,r]=s.version.split("."),i=parseInt(n,10),o=parseInt(r,10);return i>18||18===i&&o>=3?{fetchPriority:t}:{fetchpriority:t}}let v=(0,s.forwardRef)((t,n)=>{let{src:r,srcSet:i,sizes:o,height:a,width:l,decoding:c,className:u,style:d,fetchPriority:p,placeholder:m,loading:_,unoptimized:v,fill:b,onLoadRef:E,onLoadingCompleteRef:x,setBlurComplete:w,setShowAltText:k,onLoad:T,onError:C,...R}=t;return s.default.createElement("img",{...R,...getDynamicProps(p),loading:_,width:l,height:a,decoding:c,"data-nimg":b?"fill":"1",className:u,style:d,sizes:o,srcSet:i,src:r,ref:(0,s.useCallback)(t=>{n&&("function"==typeof n?n(t):"object"==typeof n&&(n.current=t)),t&&(C&&(t.src=t.src),t.complete&&handleLoading(t,m,E,x,w,v))},[r,m,E,x,w,C,v,n]),onLoad:t=>{let n=t.currentTarget;handleLoading(n,m,E,x,w,v)},onError:t=>{k(!0),"empty"!==m&&w(!0),C&&C(t)}})});function ImagePreload(t){let{isAppRouter:n,imgAttributes:r}=t,i={as:"image",imageSrcSet:r.srcSet,imageSizes:r.sizes,crossOrigin:r.crossOrigin,referrerPolicy:r.referrerPolicy,...getDynamicProps(r.fetchPriority)};return n&&a.default.preload?(a.default.preload(r.src,i),null):s.default.createElement(l.default,null,s.default.createElement("link",{key:"__nimg-"+r.src+r.srcSet+r.sizes,rel:"preload",href:r.srcSet?void 0:r.src,...i}))}let b=(0,s.forwardRef)((t,n)=>{let r=(0,s.useContext)(p.RouterContext),i=(0,s.useContext)(d.ImageConfigContext),o=(0,s.useMemo)(()=>{let t=_||i||u.imageConfigDefault,n=[...t.deviceSizes,...t.imageSizes].sort((t,n)=>t-n),r=t.deviceSizes.sort((t,n)=>t-n);return{...t,allSizes:n,deviceSizes:r}},[i]),{onLoad:a,onLoadingComplete:l}=t,b=(0,s.useRef)(a);(0,s.useEffect)(()=>{b.current=a},[a]);let E=(0,s.useRef)(l);(0,s.useEffect)(()=>{E.current=l},[l]);let[x,w]=(0,s.useState)(!1),[k,T]=(0,s.useState)(!1),{props:C,meta:R}=(0,c.getImgProps)(t,{defaultLoader:m.default,imgConf:o,blurComplete:x,showAltText:k});return s.default.createElement(s.default.Fragment,null,s.default.createElement(v,{...C,unoptimized:R.unoptimized,placeholder:R.placeholder,fill:R.fill,onLoadRef:b,onLoadingCompleteRef:E,setBlurComplete:w,setShowAltText:T,ref:n}),R.priority?s.default.createElement(ImagePreload,{isAppRouter:!r,imgAttributes:C}):null)});("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},65170:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return w}});let i=r(10260),o=i._(r(67294)),s=r(74450),a=r(92227),l=r(64364),c=r(10109),u=r(73607),d=r(11823),p=r(89031),m=r(40920),_=r(10030),v=r(77192),b=r(97498),E=new Set;function prefetch(t,n,r,i,o,s){if(!s&&!(0,a.isLocalURL)(n))return;if(!i.bypassPrefetchedCheck){let o=void 0!==i.locale?i.locale:"locale"in t?t.locale:void 0,s=n+"%"+r+"%"+o;if(E.has(s))return;E.add(s)}let l=s?t.prefetch(n,o):t.prefetch(n,r,i);Promise.resolve(l).catch(t=>{})}function formatStringOrUrl(t){return"string"==typeof t?t:(0,l.formatUrl)(t)}let x=o.default.forwardRef(function(t,n){let r,i;let{href:l,as:E,children:x,prefetch:w=null,passHref:k,replace:T,shallow:C,scroll:R,locale:M,onClick:O,onMouseEnter:I,onTouchStart:N,legacyBehavior:D=!1,...P}=t;r=x,D&&("string"==typeof r||"number"==typeof r)&&(r=o.default.createElement("a",null,r));let j=o.default.useContext(d.RouterContext),A=o.default.useContext(p.AppRouterContext),L=null!=j?j:A,B=!j,U=!1!==w,F=null===w?b.PrefetchKind.AUTO:b.PrefetchKind.FULL,{href:H,as:G}=o.default.useMemo(()=>{if(!j){let t=formatStringOrUrl(l);return{href:t,as:E?formatStringOrUrl(E):t}}let[t,n]=(0,s.resolveHref)(j,l,!0);return{href:t,as:E?(0,s.resolveHref)(j,E):n||t}},[j,l,E]),W=o.default.useRef(H),q=o.default.useRef(G);D&&(i=o.default.Children.only(r));let Y=D?i&&"object"==typeof i&&i.ref:n,[z,Z,V]=(0,m.useIntersection)({rootMargin:"200px"}),K=o.default.useCallback(t=>{(q.current!==G||W.current!==H)&&(V(),q.current=G,W.current=H),z(t),Y&&("function"==typeof Y?Y(t):"object"==typeof Y&&(Y.current=t))},[G,Y,H,V,z]);o.default.useEffect(()=>{L&&Z&&U&&prefetch(L,H,G,{locale:M},{kind:F},B)},[G,H,Z,M,U,null==j?void 0:j.locale,L,B,F]);let J={ref:K,onClick(t){D||"function"!=typeof O||O(t),D&&i.props&&"function"==typeof i.props.onClick&&i.props.onClick(t),L&&!t.defaultPrevented&&function(t,n,r,i,s,l,c,u,d,p){let{nodeName:m}=t.currentTarget,_="A"===m.toUpperCase();if(_&&(function(t){let n=t.currentTarget,r=n.getAttribute("target");return r&&"_self"!==r||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which}(t)||!d&&!(0,a.isLocalURL)(r)))return;t.preventDefault();let navigate=()=>{let t=null==c||c;"beforePopState"in n?n[s?"replace":"push"](r,i,{shallow:l,locale:u,scroll:t}):n[s?"replace":"push"](i||r,{forceOptimisticNavigation:!p,scroll:t})};d?o.default.startTransition(navigate):navigate()}(t,L,H,G,T,C,R,M,B,U)},onMouseEnter(t){D||"function"!=typeof I||I(t),D&&i.props&&"function"==typeof i.props.onMouseEnter&&i.props.onMouseEnter(t),L&&(U||!B)&&prefetch(L,H,G,{locale:M,priority:!0,bypassPrefetchedCheck:!0},{kind:F},B)},onTouchStart(t){D||"function"!=typeof N||N(t),D&&i.props&&"function"==typeof i.props.onTouchStart&&i.props.onTouchStart(t),L&&(U||!B)&&prefetch(L,H,G,{locale:M,priority:!0,bypassPrefetchedCheck:!0},{kind:F},B)}};if((0,c.isAbsoluteUrl)(G))J.href=G;else if(!D||k||"a"===i.type&&!("href"in i.props)){let t=void 0!==M?M:null==j?void 0:j.locale,n=(null==j?void 0:j.isLocaleDomain)&&(0,_.getDomainLocale)(G,t,null==j?void 0:j.locales,null==j?void 0:j.domainLocales);J.href=n||(0,v.addBasePath)((0,u.addLocale)(G,t,null==j?void 0:j.defaultLocale))}return D?o.default.cloneElement(i,J):o.default.createElement("a",{...P,...J},r)}),w=x;("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},40920:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useIntersection",{enumerable:!0,get:function(){return useIntersection}});let i=r(67294),o=r(63436),s="function"==typeof IntersectionObserver,a=new Map,l=[];function useIntersection(t){let{rootRef:n,rootMargin:r,disabled:c}=t,u=c||!s,[d,p]=(0,i.useState)(!1),m=(0,i.useRef)(null),_=(0,i.useCallback)(t=>{m.current=t},[]);(0,i.useEffect)(()=>{if(s){if(u||d)return;let t=m.current;if(t&&t.tagName){let i=function(t,n,r){let{id:i,observer:o,elements:s}=function(t){let n;let r={root:t.root||null,margin:t.rootMargin||""},i=l.find(t=>t.root===r.root&&t.margin===r.margin);if(i&&(n=a.get(i)))return n;let o=new Map,s=new IntersectionObserver(t=>{t.forEach(t=>{let n=o.get(t.target),r=t.isIntersecting||t.intersectionRatio>0;n&&r&&n(r)})},t);return n={id:r,observer:s,elements:o},l.push(r),a.set(r,n),n}(r);return s.set(t,n),o.observe(t),function(){if(s.delete(t),o.unobserve(t),0===s.size){o.disconnect(),a.delete(i);let t=l.findIndex(t=>t.root===i.root&&t.margin===i.margin);t>-1&&l.splice(t,1)}}}(t,t=>t&&p(t),{root:null==n?void 0:n.current,rootMargin:r});return i}}else if(!d){let t=(0,o.requestIdleCallback)(()=>p(!0));return()=>(0,o.cancelIdleCallback)(t)}},[u,r,n,d,m.current]);let v=(0,i.useCallback)(()=>{p(!1)},[]);return[_,d,v]}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},53914:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getImgProps",{enumerable:!0,get:function(){return getImgProps}}),r(81905);let i=r(32393),o=r(85494);function isStaticRequire(t){return void 0!==t.default}function getInt(t){return void 0===t?t:"number"==typeof t?Number.isFinite(t)?t:NaN:"string"==typeof t&&/^[0-9]+$/.test(t)?parseInt(t,10):NaN}function getImgProps(t,n){var r;let s,a,l,{src:c,sizes:u,unoptimized:d=!1,priority:p=!1,loading:m,className:_,quality:v,width:b,height:E,fill:x=!1,style:w,onLoad:k,onLoadingComplete:T,placeholder:C="empty",blurDataURL:R,fetchPriority:M,layout:O,objectFit:I,objectPosition:N,lazyBoundary:D,lazyRoot:P,...j}=t,{imgConf:A,showAltText:L,blurComplete:B,defaultLoader:U}=n,F=A||o.imageConfigDefault;if("allSizes"in F)s=F;else{let t=[...F.deviceSizes,...F.imageSizes].sort((t,n)=>t-n),n=F.deviceSizes.sort((t,n)=>t-n);s={...F,allSizes:t,deviceSizes:n}}let H=j.loader||U;delete j.loader,delete j.srcSet;let G="__next_img_default"in H;if(G){if("custom"===s.loader)throw Error('Image with src "'+c+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{let t=H;H=n=>{let{config:r,...i}=n;return t(i)}}if(O){"fill"===O&&(x=!0);let t={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[O];t&&(w={...w,...t});let n={responsive:"100vw",fill:"100vw"}[O];n&&!u&&(u=n)}let W="",q=getInt(b),Y=getInt(E);if("object"==typeof(r=c)&&(isStaticRequire(r)||void 0!==r.src)){let t=isStaticRequire(c)?c.default:c;if(!t.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(t));if(!t.height||!t.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(t));if(a=t.blurWidth,l=t.blurHeight,R=R||t.blurDataURL,W=t.src,!x){if(q||Y){if(q&&!Y){let n=q/t.width;Y=Math.round(t.height*n)}else if(!q&&Y){let n=Y/t.height;q=Math.round(t.width*n)}}else q=t.width,Y=t.height}}let z=!p&&("lazy"===m||void 0===m);(!(c="string"==typeof c?c:W)||c.startsWith("data:")||c.startsWith("blob:"))&&(d=!0,z=!1),s.unoptimized&&(d=!0),G&&c.endsWith(".svg")&&!s.dangerouslyAllowSVG&&(d=!0),p&&(M="high");let Z=getInt(v),V=Object.assign(x?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:I,objectPosition:N}:{},L?{}:{color:"transparent"},w),K=B||"empty"===C?null:"blur"===C?'url("data:image/svg+xml;charset=utf-8,'+(0,i.getImageBlurSvg)({widthInt:q,heightInt:Y,blurWidth:a,blurHeight:l,blurDataURL:R||"",objectFit:V.objectFit})+'")':'url("'+C+'")',J=K?{backgroundSize:V.objectFit||"cover",backgroundPosition:V.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:K}:{},X=function(t){let{config:n,src:r,unoptimized:i,width:o,quality:s,sizes:a,loader:l}=t;if(i)return{src:r,srcSet:void 0,sizes:void 0};let{widths:c,kind:u}=function(t,n,r){let{deviceSizes:i,allSizes:o}=t;if(r){let t=/(^|\s)(1?\d?\d)vw/g,n=[];for(let i;i=t.exec(r);i)n.push(parseInt(i[2]));if(n.length){let t=.01*Math.min(...n);return{widths:o.filter(n=>n>=i[0]*t),kind:"w"}}return{widths:o,kind:"w"}}if("number"!=typeof n)return{widths:i,kind:"w"};let s=[...new Set([n,2*n].map(t=>o.find(n=>n>=t)||o[o.length-1]))];return{widths:s,kind:"x"}}(n,o,a),d=c.length-1;return{sizes:a||"w"!==u?a:"100vw",srcSet:c.map((t,i)=>l({config:n,src:r,quality:s,width:t})+" "+("w"===u?t:i+1)+u).join(", "),src:l({config:n,src:r,quality:s,width:c[d]})}}({config:s,src:c,unoptimized:d,width:q,quality:Z,sizes:u,loader:H}),Q={...j,loading:z?"lazy":m,fetchPriority:M,width:q,height:Y,decoding:"async",className:_,style:{...V,...J},sizes:X.sizes,srcSet:X.srcSet,src:X.src},ee={unoptimized:d,priority:p,placeholder:C,fill:x};return{props:Q,meta:ee}}},32393:function(t,n){"use strict";function getImageBlurSvg(t){let{widthInt:n,heightInt:r,blurWidth:i,blurHeight:o,blurDataURL:s,objectFit:a}=t,l=i?40*i:n,c=o?40*o:r,u=l&&c?"viewBox='0 0 "+l+" "+c+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+u+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(u?"none":"contain"===a?"xMidYMid":"cover"===a?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+s+"'/%3E%3C/svg%3E"}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getImageBlurSvg",{enumerable:!0,get:function(){return getImageBlurSvg}})},645:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t,n){for(var r in n)Object.defineProperty(t,r,{enumerable:!0,get:n[r]})}(n,{unstable_getImgProps:function(){return unstable_getImgProps},default:function(){return c}});let i=r(10260),o=r(53914),s=r(81905),a=r(23271),l=i._(r(74545)),unstable_getImgProps=t=>{(0,s.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:n}=(0,o.getImgProps)(t,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[t,r]of Object.entries(n))void 0===r&&delete n[t];return{props:n}},c=a.Image},74545:function(t,n){"use strict";function defaultLoader(t){let{config:n,src:r,width:i,quality:o}=t;return n.path+"?url="+encodeURIComponent(r)+"&w="+i+"&q="+(o||75)}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r}}),defaultLoader.__next_img_default=!0;let r=defaultLoader},15497:function(t,n,r){"use strict";r.d(n,{$:function(){return CodeContextProvider},y:function(){return useCodeContext}});var i=r(85893),o=r(67294);let s=(0,o.createContext)({defaultCodeToShow:"",searchHistoryToExport:[],setDefaultCodeToShow:()=>{},setSearchHistoryToExport:()=>{},suggestedCodeModeAction:"",setSuggestedCodeModeAction:()=>{}}),useCodeContext=()=>(0,o.useContext)(s);function CodeContextProvider(t){let{children:n}=t,[r,a]=(0,o.useState)(""),[l,c]=(0,o.useState)([]),[u,d]=(0,o.useState)(""),p=(0,o.useMemo)(()=>({defaultCodeToShow:r,setDefaultCodeToShow:a,searchHistoryToExport:l,setSearchHistoryToExport:c,suggestedCodeModeAction:u,setSuggestedCodeModeAction:d}),[r,l,u]);return(0,i.jsx)(s.Provider,{value:p,children:n})}},51565:function(t,n,r){"use strict";r.d(n,{I:function(){return HeaderProvider},g:function(){return useHeader}});var i=r(85893),o=r(67294);let s=(0,o.createContext)({headerHeight:0,setHeaderHeight:()=>{},headerRef:null}),useHeader=()=>(0,o.useContext)(s);function HeaderProvider(t){let{children:n}=t,[r,a]=(0,o.useState)(0),l=(0,o.useRef)(null),c=(0,o.useMemo)(()=>({headerHeight:r,setHeaderHeight:a,headerRef:l}),[r,a]);return(0,i.jsx)(s.Provider,{value:c,children:n})}},11940:function(t,n,r){"use strict";r.d(n,{$:function(){return usePaymentPlanContext},x:function(){return PaymentPlanProvider}});var i=r(85893),o=r(67294);let s=(0,o.createContext)({paymentPlanData:{paymentPlan:"Free",fullPaymentPlanName:"Phind Free",stripeCustomerId:null,isEnterpriseAdmin:null,enterprisePlanStripeId:null},refreshPaymentPlanData:()=>new Promise(()=>{}),pendingData:!1});function PaymentPlanProvider(t){let{children:n}=t,[r,a]=(0,o.useState)({paymentPlanData:{paymentPlan:"Free",fullPaymentPlanName:"Phind Free",stripeCustomerId:null,isEnterpriseAdmin:null,enterprisePlanStripeId:null},refreshPaymentPlanData:()=>new Promise(()=>{}),pendingData:!1}),fetchPaymentPlan=async()=>{try{a(t=>({...t,pendingData:!0}));let t=await fetch("/api/db/user/payment_plan"),n=await t.json();n.paymentPlan?a(t=>({...t,paymentPlanData:n})):console.error("Payment plan data was malformed.")}catch(t){console.error("Failed to fetch payment plan:",t)}finally{a(t=>({...t,pendingData:!1}))}};return(0,o.useEffect)(()=>{a(t=>({...t,refreshPaymentPlanData:fetchPaymentPlan})),fetchPaymentPlan()},[]),(0,i.jsx)(s.Provider,{value:r,children:n})}let usePaymentPlanContext=()=>{let t=(0,o.useContext)(s);if(!t)throw Error("usePaymentPlan must be used within a PaymentPlanProvider");return t}},12074:function(t,n,r){"use strict";r.d(n,{A:function(){return useSidebar},H:function(){return SidebarProvider}});var i=r(85893),o=r(67294),s=r(33299),a=r(21719),l=r(97910);let c=(0,o.createContext)({isSidebarOpen:!1,isSizedForSidebar:!1,setIsSidebarToggled:()=>{}}),useSidebar=()=>(0,o.useContext)(c);function SidebarProvider(t){var n;let{children:r}=t,{data:u}=(0,s.useSession)(),d=!!(null==u?void 0:null===(n=u.user)||void 0===n?void 0:n.userId),[p,m]=(0,a.Z)("showChatHistorySidebar",!1),[_,v]=(0,a.Z)("showChatHistorySidebarForLoggedInUser",!0),b=d?_:p,setIsSidebarToggled=t=>{v(t),m(t)},[E,x]=(0,o.useState)(!1),w=(0,l.k)(),k=!w.isXs&&!w.isSm&&!w.isMd;(0,o.useEffect)(()=>{x(b&&k)},[b,k]);let T=(0,o.useMemo)(()=>({isSidebarOpen:E,setIsSidebarToggled,isSizedForSidebar:k}),[E,k]);return(0,i.jsx)(c.Provider,{value:T,children:r})}},23451:function(t,n,r){"use strict";var i=r(85893),o=r(33299),s=r(41664),a=r.n(s),l=r(67294),c=r(64487),u=r(48794),d=r(97910),p=r(9862),m=r(79807),_=r(11940);n.Z=(0,l.memo)(function(){let{data:t}=(0,o.useSession)(),{paymentPlanData:{paymentPlan:n},refreshPaymentPlanData:r}=(0,_.$)(),{isXs:s}=(0,d.k)(),[v,b]=(0,l.useState)(!1),[E,x]=(0,l.useState)(!1),[w,k]=(0,l.useState)(!1),[T,C]=(0,l.useState)("");if((0,l.useEffect)(()=>{t&&fetch("/api/db/user/settings").then(t=>t.json()).then(t=>{if(t){let{chatHistoryEnabled:n,defaultPrivateThreads:r,trainingOptOut:i,anthropicApiKey:o}=t;b(n),x(r),k(i),C(o)}else console.error("Failed to fetch user settings")})},[t]),t){var R,M;let l="Pro"===n,d="Enterprise"===n;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("button",{type:"button",className:"btn btn-sm text-dark bg-white dropdown dropdown-toggle px-2","data-bs-toggle":"dropdown","aria-expanded":"false",children:[(0,i.jsx)("i",{className:"fe fe-user"})," ",!s&&((null==t?void 0:null===(R=t.user)||void 0===R?void 0:R.name)||(null==t?void 0:null===(M=t.user)||void 0===M?void 0:M.email))]}),(0,i.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"settings",children:[(0,i.jsx)("h6",{className:"dtopdown-header text-uppercase",children:" Account "}),(0,i.jsx)("li",{children:(0,i.jsx)(a(),{href:"/profile",children:(0,i.jsx)("button",{type:"button",className:"dropdown-item",children:"Answer Profile"})})}),d&&(0,i.jsx)("li",{children:(0,i.jsx)(a(),{href:"/enterprise",children:(0,i.jsx)("button",{type:"button",className:"dropdown-item",children:"Enterprise Console"})})}),(0,i.jsx)("li",{children:(0,i.jsx)(a(),{href:"/plans",children:(0,i.jsx)("button",{type:"button",className:"dropdown-item",children:"Manage Plans"})})}),(0,i.jsx)("li",{children:(0,i.jsx)("button",{type:"button",className:"dropdown-item",onClick:()=>{(0,o.signOut)().then(()=>{u.n.track("Sign Out"),u.n.reset(),r()})},children:"Sign Out"})}),(0,i.jsx)("br",{}),(0,i.jsx)("h6",{className:"dtopdown-header text-uppercase",children:" Privacy "}),(0,i.jsx)(m.Z,{name:"Chat History",checkedName:"Chat History",checked:v,hoverText:"Enables saving new chats to your history. Does not delete existing history when toggled off.",setChecked:async()=>{(0,p.Pv)("chatHistoryEnabled",!v).then(t=>t.json()).then(t=>{b(t)}).catch(t=>{console.error(t),c.Tb(t)})}}),(0,i.jsx)(m.Z,{name:"Shareable Threads",checkedName:"Shareable Threads",checked:!E,hoverText:"Enables sharing of new threads via url. Existing threads can be toggled manually.",setChecked:async()=>{(0,p.Pv)("defaultPrivateThreads",!E).then(t=>t.json()).then(t=>{x(t)}).catch(t=>{console.error(t),c.Tb(t)})}}),(0,i.jsx)(m.Z,{name:"Do Not Train",checkedName:"Do Not Train",checked:w||d,hoverText:"Opt out of your data from being used for model training. (Pro only)",disabled:!l,setChecked:async()=>{(0,p.Pv)("trainingOptOut",!w).then(t=>t.json()).then(t=>{k(t)}).catch(t=>{console.error(t),c.Tb(t)})}}),(0,i.jsx)("br",{}),l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h6",{className:"dtopdown-header text-uppercase",children:" Anthropic API Key "}),(0,i.jsx)("h6",{className:"dtopdown-header text-wrap",children:" Allows more uses when you run out. "}),(0,i.jsxs)("div",{className:"d-flex align-items-center",children:[(0,i.jsx)("input",{type:"password",className:"form-control form-control-sm me-2 rounded-1",placeholder:"Anthropic API Key",value:T,onChange:t=>C(t.target.value)}),(0,i.jsx)("button",{type:"button",className:"btn btn-sm btn-primary rounded-1",onClick:async t=>{if(T.length>0&&(!T.startsWith("sk-")||T.length>=256)){alert("Invalid Anthropic API Key. It should start with sk-"),t.preventDefault();return}(0,p.Vy)("anthropicApiKey",T).then(t=>t.json()).then(t=>{C(t)}).catch(t=>{console.error(t),c.Tb(t)})},children:(0,i.jsx)("i",{className:"fe fe-save"})})]})]}),(0,i.jsx)("br",{}),(0,i.jsx)("h6",{className:"dtopdown-header text-uppercase",children:" Danger Zone "}),(0,i.jsx)("li",{children:(0,i.jsx)("button",{type:"button",className:"dropdown-item text-danger",onClick:()=>{if("delete account permanently"!==window.prompt("Are you sure you want to delete your account? This can't be undone. You will be unsubscribed from any paid plans. If so, type 'delete account permanently' (without the quotes).")){window.alert("Your account will not be deleted.");return}window.alert("Your account is being deleted. You will be signed out."),u.n.track("Delete Account"),(0,p.K)().then(()=>{u.n.reset(),(0,o.signOut)().then(r)})},children:"Delete Account"})})]})]})}return(0,i.jsx)("button",{type:"button",className:"btn btn-sm text-dark bg-white px-2",style:{marginRight:"1em"},onClick:()=>{(0,o.signIn)().then(()=>{u.n.track("Sign In")})},children:"Sign In"})})},73440:function(t,n,r){"use strict";r.d(n,{ZP:function(){return components_ChatHistorySidebar},pM:function(){return filterThreadHistory},xI:function(){return getCombinedHistory}});var i=r(85893),o=r(67294),s=r(33299),a=r(11163);function isArray(t){return Array.isArray?Array.isArray(t):"[object Array]"===getTag(t)}let l=1/0;function isString(t){return"string"==typeof t}function isNumber(t){return"number"==typeof t}function isObject(t){return"object"==typeof t}function isDefined(t){return null!=t}function isBlank(t){return!t.trim().length}function getTag(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}let LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY=t=>`Invalid value for key ${t}`,PATTERN_LENGTH_TOO_LARGE=t=>`Pattern length exceeds max of ${t}.`,MISSING_KEY_PROPERTY=t=>`Missing ${t} property in key`,INVALID_KEY_WEIGHT_VALUE=t=>`Property 'weight' in key '${t}' must be a positive integer`,c=Object.prototype.hasOwnProperty;let KeyStore=class KeyStore{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(t=>{let r=createKey(t);this._keys.push(r),this._keyMap[r.id]=r,n+=r.weight}),this._keys.forEach(t=>{t.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function createKey(t){let n=null,r=null,i=null,o=1,s=null;if(isString(t)||isArray(t))i=t,n=createKeyPath(t),r=createKeyId(t);else{if(!c.call(t,"name"))throw Error(MISSING_KEY_PROPERTY("name"));let a=t.name;if(i=a,c.call(t,"weight")&&(o=t.weight)<=0)throw Error(INVALID_KEY_WEIGHT_VALUE(a));n=createKeyPath(a),r=createKeyId(a),s=t.getFn}return{path:n,id:r,weight:o,src:i,getFn:s}}function createKeyPath(t){return isArray(t)?t:t.split(".")}function createKeyId(t){return isArray(t)?t.join("."):t}var u={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,n)=>t.score===n.score?t.idx<n.idx?-1:1:t.score<n.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(t,n){let r=[],i=!1,deepGet=(t,n,o)=>{if(isDefined(t)){if(n[o]){var s,a;let c=n[o],u=t[c];if(isDefined(u)){if(o===n.length-1&&(isString(u)||isNumber(u)||!0===(s=u)||!1===s||isObject(a=s)&&null!==a&&"[object Boolean]"==getTag(s)))r.push(null==u?"":function(t){if("string"==typeof t)return t;let n=t+"";return"0"==n&&1/t==-l?"-0":n}(u));else if(isArray(u)){i=!0;for(let t=0,r=u.length;t<r;t+=1)deepGet(u[t],n,o+1)}else n.length&&deepGet(u,n,o+1)}}else r.push(t)}};return deepGet(t,isString(n)?n.split("."):n,0),i?r:r[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};let d=/[^ ]+/g;let FuseIndex=class FuseIndex{constructor({getFn:t=u.getFn,fieldNormWeight:n=u.fieldNormWeight}={}){this.norm=function(t=1,n=3){let r=new Map,i=Math.pow(10,n);return{get(n){let o=n.match(d).length;if(r.has(o))return r.get(o);let s=1/Math.pow(o,.5*t),a=parseFloat(Math.round(s*i)/i);return r.set(o,a),a},clear(){r.clear()}}}(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((t,n)=>{this._keysMap[t.id]=n})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,isString(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){let n=this.size();isString(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!isDefined(t)||isBlank(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((n,i)=>{let o=n.getFn?n.getFn(t):this.getFn(t,n.path);if(isDefined(o)){if(isArray(o)){let t=[],n=[{nestedArrIndex:-1,value:o}];for(;n.length;){let{nestedArrIndex:r,value:i}=n.pop();if(isDefined(i)){if(isString(i)&&!isBlank(i)){let n={v:i,i:r,n:this.norm.get(i)};t.push(n)}else isArray(i)&&i.forEach((t,r)=>{n.push({nestedArrIndex:r,value:t})})}}r.$[i]=t}else if(isString(o)&&!isBlank(o)){let t={v:o,n:this.norm.get(o)};r.$[i]=t}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}};function createIndex(t,n,{getFn:r=u.getFn,fieldNormWeight:i=u.fieldNormWeight}={}){let o=new FuseIndex({getFn:r,fieldNormWeight:i});return o.setKeys(t.map(createKey)),o.setSources(n),o.create(),o}function computeScore$1(t,{errors:n=0,currentLocation:r=0,expectedLocation:i=0,distance:o=u.distance,ignoreLocation:s=u.ignoreLocation}={}){let a=n/t.length;if(s)return a;let l=Math.abs(i-r);return o?a+l/o:l?1:a}let BitapSearch=class BitapSearch{constructor(t,{location:n=u.location,threshold:r=u.threshold,distance:i=u.distance,includeMatches:o=u.includeMatches,findAllMatches:s=u.findAllMatches,minMatchCharLength:a=u.minMatchCharLength,isCaseSensitive:l=u.isCaseSensitive,ignoreLocation:c=u.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:o,findAllMatches:s,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:c},this.pattern=l?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;let addChunk=(t,n)=>{this.chunks.push({pattern:t,alphabet:function(t){let n={};for(let r=0,i=t.length;r<i;r+=1){let o=t.charAt(r);n[o]=(n[o]||0)|1<<i-r-1}return n}(t),startIndex:n})},d=this.pattern.length;if(d>32){let t=0,n=d%32,r=d-n;for(;t<r;)addChunk(this.pattern.substr(t,32),t),t+=32;if(n){let t=d-32;addChunk(this.pattern.substr(t),t)}}else addChunk(this.pattern,0)}searchIn(t){let{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let n={isMatch:!0,score:0};return r&&(n.indices=[[0,t.length-1]]),n}let{location:i,distance:o,threshold:s,findAllMatches:a,minMatchCharLength:l,ignoreLocation:c}=this.options,d=[],p=0,m=!1;this.chunks.forEach(({pattern:n,alphabet:_,startIndex:v})=>{let{isMatch:b,score:E,indices:x}=function(t,n,r,{location:i=u.location,distance:o=u.distance,threshold:s=u.threshold,findAllMatches:a=u.findAllMatches,minMatchCharLength:l=u.minMatchCharLength,includeMatches:c=u.includeMatches,ignoreLocation:d=u.ignoreLocation}={}){let p;if(n.length>32)throw Error(PATTERN_LENGTH_TOO_LARGE(32));let m=n.length,_=t.length,v=Math.max(0,Math.min(i,_)),b=s,E=v,x=l>1||c,w=x?Array(_):[];for(;(p=t.indexOf(n,E))>-1;)if(b=Math.min(computeScore$1(n,{currentLocation:p,expectedLocation:v,distance:o,ignoreLocation:d}),b),E=p+m,x){let t=0;for(;t<m;)w[p+t]=1,t+=1}E=-1;let k=[],T=1,C=m+_,R=1<<m-1;for(let i=0;i<m;i+=1){let s=0,l=C;for(;s<l;){let t=computeScore$1(n,{errors:i,currentLocation:v+l,expectedLocation:v,distance:o,ignoreLocation:d});t<=b?s=l:C=l,l=Math.floor((C-s)/2+s)}C=l;let c=Math.max(1,v-l+1),u=a?_:Math.min(v+l,_)+m,p=Array(u+2);p[u+1]=(1<<i)-1;for(let s=u;s>=c;s-=1){let a=s-1,l=r[t.charAt(a)];if(x&&(w[a]=+!!l),p[s]=(p[s+1]<<1|1)&l,i&&(p[s]|=(k[s+1]|k[s])<<1|1|k[s+1]),p[s]&R&&(T=computeScore$1(n,{errors:i,currentLocation:a,expectedLocation:v,distance:o,ignoreLocation:d}))<=b){if(b=T,(E=a)<=v)break;c=Math.max(1,2*v-E)}}let M=computeScore$1(n,{errors:i+1,currentLocation:v,expectedLocation:v,distance:o,ignoreLocation:d});if(M>b)break;k=p}let M={isMatch:E>=0,score:Math.max(.001,T)};if(x){let t=function(t=[],n=u.minMatchCharLength){let r=[],i=-1,o=-1,s=0;for(let a=t.length;s<a;s+=1){let a=t[s];a&&-1===i?i=s:a||-1===i||((o=s-1)-i+1>=n&&r.push([i,o]),i=-1)}return t[s-1]&&s-i>=n&&r.push([i,s-1]),r}(w,l);t.length?c&&(M.indices=t):M.isMatch=!1}return M}(t,n,_,{location:i+v,distance:o,threshold:s,findAllMatches:a,minMatchCharLength:l,includeMatches:r,ignoreLocation:c});b&&(m=!0),p+=E,b&&x&&(d=[...d,...x])});let _={isMatch:m,score:m?p/this.chunks.length:1};return m&&r&&(_.indices=d),_}};let BaseMatch=class BaseMatch{constructor(t){this.pattern=t}static isMultiMatch(t){return getMatch(t,this.multiRegex)}static isSingleMatch(t){return getMatch(t,this.singleRegex)}search(){}};function getMatch(t,n){let r=t.match(n);return r?r[1]:null}let FuzzyMatch=class FuzzyMatch extends BaseMatch{constructor(t,{location:n=u.location,threshold:r=u.threshold,distance:i=u.distance,includeMatches:o=u.includeMatches,findAllMatches:s=u.findAllMatches,minMatchCharLength:a=u.minMatchCharLength,isCaseSensitive:l=u.isCaseSensitive,ignoreLocation:c=u.ignoreLocation}={}){super(t),this._bitapSearch=new BitapSearch(t,{location:n,threshold:r,distance:i,includeMatches:o,findAllMatches:s,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}};let IncludeMatch=class IncludeMatch extends BaseMatch{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n,r=0,i=[],o=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+o,i.push([n,r-1]);let s=!!i.length;return{isMatch:s,score:s?0:1,indices:i}}};let p=[class extends BaseMatch{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){let n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}},IncludeMatch,class extends BaseMatch{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){let n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}},class extends BaseMatch{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){let n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}},class extends BaseMatch{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){let n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}},class extends BaseMatch{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){let n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends BaseMatch{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){let n=t.indexOf(this.pattern),r=-1===n;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}},FuzzyMatch],m=p.length,_=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,v=new Set([FuzzyMatch.type,IncludeMatch.type]),b=[];function createSearcher(t,n){for(let r=0,i=b.length;r<i;r+=1){let i=b[r];if(i.condition(t,n))return new i(t,n)}return new BitapSearch(t,n)}let E={AND:"$and",OR:"$or"},x={PATH:"$path",PATTERN:"$val"},isExpression=t=>!!(t[E.AND]||t[E.OR]),isPath=t=>!!t[x.PATH],isLeaf=t=>!isArray(t)&&isObject(t)&&!isExpression(t),convertToExplicit=t=>({[E.AND]:Object.keys(t).map(n=>({[n]:t[n]}))});function parse(t,n,{auto:r=!0}={}){let next=t=>{let i=Object.keys(t),o=isPath(t);if(!o&&i.length>1&&!isExpression(t))return next(convertToExplicit(t));if(isLeaf(t)){let s=o?t[x.PATH]:i[0],a=o?t[x.PATTERN]:t[s];if(!isString(a))throw Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(s));let l={keyId:createKeyId(s),pattern:a};return r&&(l.searcher=createSearcher(a,n)),l}let s={children:[],operator:i[0]};return i.forEach(n=>{let r=t[n];isArray(r)&&r.forEach(t=>{s.children.push(next(t))})}),s};return isExpression(t)||(t=convertToExplicit(t)),next(t)}function transformMatches(t,n){let r=t.matches;n.matches=[],isDefined(r)&&r.forEach(t=>{if(!isDefined(t.indices)||!t.indices.length)return;let{indices:r,value:i}=t,o={indices:r,value:i};t.key&&(o.key=t.key.src),t.idx>-1&&(o.refIndex=t.idx),n.matches.push(o)})}function transformScore(t,n){n.score=t.score}let Fuse=class Fuse{constructor(t,n={},r){this.options={...u,...n},this.options.useExtendedSearch,this._keyStore=new KeyStore(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof FuseIndex))throw Error("Incorrect 'index' type");this._myIndex=n||createIndex(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){isDefined(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){let n=[];for(let r=0,i=this._docs.length;r<i;r+=1){let o=this._docs[r];t(o,r)&&(this.removeAt(r),r-=1,i-=1,n.push(o))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){let{includeMatches:r,includeScore:i,shouldSort:o,sortFn:s,ignoreFieldNorm:a}=this.options,l=isString(t)?isString(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return!function(t,{ignoreFieldNorm:n=u.ignoreFieldNorm}){t.forEach(t=>{let r=1;t.matches.forEach(({key:t,norm:i,score:o})=>{let s=t?t.weight:null;r*=Math.pow(0===o&&s?Number.EPSILON:o,(s||1)*(n?1:i))}),t.score=r})}(l,{ignoreFieldNorm:a}),o&&l.sort(s),isNumber(n)&&n>-1&&(l=l.slice(0,n)),function(t,n,{includeMatches:r=u.includeMatches,includeScore:i=u.includeScore}={}){let o=[];return r&&o.push(transformMatches),i&&o.push(transformScore),t.map(t=>{let{idx:r}=t,i={item:n[r],refIndex:r};return o.length&&o.forEach(n=>{n(t,i)}),i})}(l,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(t){let n=createSearcher(t,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:t,i:r,n:o})=>{if(!isDefined(t))return;let{isMatch:s,score:a,indices:l}=n.searchIn(t);s&&i.push({item:t,idx:r,matches:[{score:a,value:t,norm:o,indices:l}]})}),i}_searchLogical(t){let n=parse(t,this.options),evaluate=(t,n,r)=>{if(!t.children){let{keyId:i,searcher:o}=t,s=this._findMatches({key:this._keyStore.get(i),value:this._myIndex.getValueForItemAtKeyId(n,i),searcher:o});return s&&s.length?[{idx:r,item:n,matches:s}]:[]}let i=[];for(let o=0,s=t.children.length;o<s;o+=1){let s=t.children[o],a=evaluate(s,n,r);if(a.length)i.push(...a);else if(t.operator===E.AND)return[]}return i},r=this._myIndex.records,i={},o=[];return r.forEach(({$:t,i:r})=>{if(isDefined(t)){let s=evaluate(n,t,r);s.length&&(i[r]||(i[r]={idx:r,item:t,matches:[]},o.push(i[r])),s.forEach(({matches:t})=>{i[r].matches.push(...t)}))}}),o}_searchObjectList(t){let n=createSearcher(t,this.options),{keys:r,records:i}=this._myIndex,o=[];return i.forEach(({$:t,i:i})=>{if(!isDefined(t))return;let s=[];r.forEach((r,i)=>{s.push(...this._findMatches({key:r,value:t[i],searcher:n}))}),s.length&&o.push({idx:i,item:t,matches:s})}),o}_findMatches({key:t,value:n,searcher:r}){if(!isDefined(n))return[];let i=[];if(isArray(n))n.forEach(({v:n,i:o,n:s})=>{if(!isDefined(n))return;let{isMatch:a,score:l,indices:c}=r.searchIn(n);a&&i.push({score:l,key:t,value:n,idx:o,norm:s,indices:c})});else{let{v:o,n:s}=n,{isMatch:a,score:l,indices:c}=r.searchIn(o);a&&i.push({score:l,key:t,value:o,norm:s,indices:c})}return i}};Fuse.version="7.0.0",Fuse.createIndex=createIndex,Fuse.parseIndex=function(t,{getFn:n=u.getFn,fieldNormWeight:r=u.fieldNormWeight}={}){let{keys:i,records:o}=t,s=new FuseIndex({getFn:n,fieldNormWeight:r});return s.setKeys(i),s.setIndexRecords(o),s},Fuse.config=u,Fuse.parseQuery=parse,function(...t){b.push(...t)}(class{constructor(t,{isCaseSensitive:n=u.isCaseSensitive,includeMatches:r=u.includeMatches,minMatchCharLength:i=u.minMatchCharLength,ignoreLocation:o=u.ignoreLocation,findAllMatches:s=u.findAllMatches,location:a=u.location,threshold:l=u.threshold,distance:c=u.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:i,findAllMatches:s,ignoreLocation:o,location:a,threshold:l,distance:c},this.pattern=n?t:t.toLowerCase(),this.query=function(t,n={}){return t.split("|").map(t=>{let r=t.trim().split(_).filter(t=>t&&!!t.trim()),i=[];for(let t=0,o=r.length;t<o;t+=1){let o=r[t],s=!1,a=-1;for(;!s&&++a<m;){let t=p[a],r=t.isMultiMatch(o);r&&(i.push(new t(r,n)),s=!0)}if(!s)for(a=-1;++a<m;){let t=p[a],r=t.isSingleMatch(o);if(r){i.push(new t(r,n));break}}}return i})}(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){let n=this.query;if(!n)return{isMatch:!1,score:1};let{includeMatches:r,isCaseSensitive:i}=this.options;t=i?t:t.toLowerCase();let o=0,s=[],a=0;for(let i=0,l=n.length;i<l;i+=1){let l=n[i];s.length=0,o=0;for(let n=0,i=l.length;n<i;n+=1){let i=l[n],{isMatch:c,indices:u,score:d}=i.search(t);if(c){if(o+=1,a+=d,r){let t=i.constructor.type;v.has(t)?s=[...s,...u]:s.push(u)}}else{a=0,o=0,s.length=0;break}}if(o){let t={isMatch:!0,score:a/o};return r&&(t.indices=s),t}}return{isMatch:!1,score:1}}});var w=r(48794),k=r(9862),T=r(20592),C=r(12074);let filterThreadHistory=(t,n)=>{if(!n.trim())return t;let r=new Fuse(t,{keys:["title","keywords"],includeScore:!0,threshold:.4}),i=r.search(n).map(t=>t.item),o=t.filter(t=>{var r,i;return(null===(r=t.title)||void 0===r?void 0:r.toLowerCase().includes(n.toLowerCase()))||(null===(i=t.keywords)||void 0===i?void 0:i.toLowerCase().includes(n.toLowerCase()))}),s=new Set([...i,...o]),a=[...s];return a},getCombinedHistory=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=[(0,k.Gg)(t).then(t=>t.json()),(0,k.f3)(t).then(t=>t.json()),(0,k.kV)(t).then(t=>t.json())];return Promise.all(n).then(t=>{let[n,r,i]=t,o=i.map(t=>({title:t.title,url:"".concat("/code","?cache=").concat(t.id),timestamp:new Date(t.updatedAt).getTime(),keywords:"",isPinned:t.isPinned})),s=n.map(t=>({title:t.title,url:"".concat("/agent","?cache=").concat(t.id),timestamp:new Date(t.updatedAt).getTime(),keywords:"",isPinned:t.isPinned})),a=r.map(t=>({title:t.title,url:"".concat("/search","?cache=").concat(t.id),timestamp:new Date(t.updatedAt).getTime(),keywords:t.keywords,isPinned:t.isPinned})),l=[...s,...a,...o];return l})};var components_ChatHistorySidebar=function(){var t;let{setIsSidebarToggled:n}=(0,C.A)(),[r,l]=(0,o.useState)(0),{data:c}=(0,s.useSession)(),[u,d]=(0,o.useState)([]),p=null==c?void 0:null===(t=c.user)||void 0===t?void 0:t.userId,m=(0,a.useRouter)(),[_,v]=(0,o.useState)(""),[b,E]=(0,o.useState)(-1),[x,R]=(0,o.useState)(-1),M=[...u].sort((t,n)=>n.timestamp-t.timestamp),O=filterThreadHistory(M,_),I=m.asPath.endsWith("&source=sidebar")?m.asPath.slice(0,-15):m.asPath,N=O.findIndex(t=>t.url===I),D=O.filter(t=>t.isPinned),P=O.filter(t=>{let n=new Date,r=new Date(t.timestamp);return r.getDate()===n.getDate()&&r.getMonth()===n.getMonth()&&r.getFullYear()===n.getFullYear()&&!t.isPinned}),j=O.filter(t=>{let n=new Date;n.setDate(n.getDate()-1);let r=new Date(t.timestamp);return r.getDate()===n.getDate()&&r.getMonth()===n.getMonth()&&r.getFullYear()===n.getFullYear()&&!t.isPinned}),A=O.filter(t=>{let n=new Date;n.setDate(n.getDate()-7),n.setHours(0,0,0,0);let r=new Date(t.timestamp);return r.getTime()>=n.getTime()&&!P.includes(t)&&!j.includes(t)&&!t.isPinned}),L=O.filter(t=>{let n=new Date;n.setDate(n.getDate()-7),n.setHours(0,0,0,0);let r=new Date(t.timestamp);return r.getTime()<n.getTime()&&!t.isPinned});(0,o.useEffect)(()=>{p&&getCombinedHistory().then(t=>{d(t)})},[p,r]),(0,o.useEffect)(()=>{let handleRouteChange=()=>{l(t=>t+1)};return m.events.on("routeChangeComplete",handleRouteChange),()=>{m.events.off("routeChangeComplete",handleRouteChange)}},[]);let handleClickThread=(t,n,r,i)=>{if(t.preventDefault(),r===N)return;w.n.track("Click Thread History",{threadTitle:O[r].title,url:i});let o=new URL(window.location.origin+i);m.push({pathname:o.pathname,query:{...Object.fromEntries(o.searchParams.entries()),source:"sidebar"}},void 0,{shallow:!1})},handleShowEditThreadTitleInput=(t,n)=>{t.preventDefault(),t.stopPropagation(),R(t=>t===n?-1:n)},handleEditThreadTitle=async(t,n)=>{let r=O[t],i=r.url.split("=")[1];if(n===r.title){R(-1);return}w.n.track("Edit Thread Title",{oldThreadTitle:r.title,newThreadTitle:n,url:r.url}),r.url.startsWith("/agent")&&await(0,k.T6)(i,[],n),r.url.startsWith("/search")&&await(0,k.tI)(i,n),l(t=>t+1)},handleDeleteThread=(t,n)=>{if(t.preventDefault(),t.stopPropagation(),window.confirm("Are you sure you wish to delete this item?")){let t=O[n],r=t.url.split("=")[1];w.n.track("Delete individual thread",{threadToDelete:t,cacheId:r}),(0,k.lu)([r]).then(()=>{m.push("/")})}},handlePinToggle=(t,n)=>{t.preventDefault(),t.stopPropagation();let r=O[n];if(!r.isPinned||window.confirm("Are you sure you wish to un-bookmark this item?")){let t=r.url.split("=")[1];w.n.track("Pin individual thread",{threadToPin:r,cacheId:t}),p?(0,k.fZ)(t,!r.isPinned).then(()=>{setTimeout(()=>l(t=>t+1),1500)}).catch(()=>{console.error("Could not bookmark thread due to internal error.")}):console.error("Cannot bookmark thread when user is not logged in.")}},[B,U]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{U(!0)},[]),(0,i.jsxs)("div",{className:"chat-history-sidebar",style:{display:"flex",flexDirection:"column",height:"100vh",overflowY:"auto",width:"100%"},children:[(0,i.jsx)("div",{style:{position:"absolute",top:"0",right:"0",cursor:"pointer",opacity:.5,padding:"15px",zIndex:1e4,display:"block"},onClick:()=>{n(!1)},children:(0,i.jsx)("i",{className:"fe fe-x"})}),(0,i.jsx)(T.Z,{message:"Cmd/Ctrl+K",placement:"right",children:(0,i.jsx)("div",{onClick:()=>m.push("/"),style:{cursor:"pointer"},className:"mt-1 py-3 lift",children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,i.jsx)("i",{className:"ms-5 me-2 fe fe-message-square"}),(0,i.jsx)("span",{className:"fw-bold fs-5",children:"New Thread"})]})})}),c&&(0,i.jsx)("div",{onClick:()=>{m.push("/profile")},style:{cursor:"pointer"},className:"py-3 lift",children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,i.jsx)("i",{className:"ms-5 me-2 fe fe-layers"}),(0,i.jsx)("span",{className:"fw-bold fs-5",children:"Answer Profile"})]})}),B&&!!u.length&&(0,i.jsx)("input",{type:"text",value:_,onChange:t=>v(t.target.value),className:"form-control fs-5 darkmode-light rounded-0",style:{background:"rgba(0, 0, 0, 0.08)"},placeholder:"Search history..."}),(0,i.jsx)("div",{style:{display:"flex",flexDirection:"column",overflowY:"auto",overflowX:"hidden",flex:2},children:B&&u.length?(0,i.jsx)(i.Fragment,{children:Object.entries({Pinned:D,Today:P,Yesterday:j,"Last 7 Days":A,Older:L}).map(t=>{let[n,r]=t;return r.length?(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)("h6",{className:"px-4 mb-2 mt-2 text-muted small",children:n}),r.map(t=>{let{title:r,url:o,timestamp:s}=t,a=new Date(s).toLocaleString(),l=O.findIndex(t=>t.title===r&&t.url===o),c=l===N,u=l===b;return(0,i.jsx)(T.Z,{showDelay:400,placement:"right",message:a,children:x===l?(0,i.jsx)("textarea",{autoFocus:!0,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",className:"form-control rounded-1 darkmode-light fs-6 search-bar-hide-scrollbar px-4",defaultValue:r,onBlur:()=>{R(-1)},style:{resize:"none",height:"auto",zIndex:0},rows:3,onKeyDown:t=>{if("Enter"===t.key&&!t.shiftKey){let n=t.currentTarget.value;t.preventDefault(),handleEditThreadTitle(l,n),R(-1)}}}):(0,i.jsx)("a",{href:o,style:{cursor:"pointer",padding:"8px 0 8px 0",margin:"-2px 0 -2px 0"},onClick:t=>handleClickThread(t,n,l,o),onMouseEnter:()=>{E(l)},onMouseLeave:()=>{E(-1)},className:c?"chat-history-sidebar-item-selected":"chat-history-sidebar-item",children:(0,i.jsxs)("div",{style:{position:"relative",display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)("div",{className:"ms-5 me-5 me-2 fs-6",style:{overflow:"hidden"},children:"".concat(r.slice(0,64))}),(u||c)&&(0,i.jsxs)("div",{className:"ps-1 chat-history-sidebar-item-selected",style:{position:"absolute",top:0,bottom:0,right:0,alignItems:"center",zIndex:1},children:[(0,i.jsx)("i",{className:"fe fe-bookmark ".concat(O[l].isPinned?"text-warning":""),onClick:t=>handlePinToggle(t,l)}),(0,i.jsx)("i",{className:"fe fe-edit mx-1",onClick:t=>{handleShowEditThreadTitleInput(t,l)}}),(0,i.jsx)("i",{className:"fe fe-trash pe-2",onClick:t=>handleDeleteThread(t,l)})]})]})})},r+o+s)})]},n):null})}):(0,i.jsx)("i",{className:"p-5 pt-2 small",style:{opacity:.5},children:c?"Do a search to view chat history...":"Sign in to view chat history..."})}),B&&!c&&(0,i.jsx)("div",{onClick:()=>{(0,s.signIn)().then(()=>{w.n.track("Sign In")})},style:{cursor:"pointer",padding:"10px"},children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,i.jsx)("i",{className:"ms-3 me-2 fe fe-user"}),(0,i.jsx)("div",{className:"ms-1 fw-bold fs-5 pe-5",style:{overflowWrap:"break-word"},children:"Sign in to save your chats"})]})}),B&&!!u.length&&(0,i.jsx)("div",{onClick:()=>{if(p&&"delete"===window.prompt("Are you sure you wish to clear your recent history? If so, type 'delete' (without the quotes)")){w.n.track("Clear Chat History");let t=u.map(t=>t.url.split("=")[1]);(0,k.lu)(t).then(()=>{m.push("/"),l(t=>t+1)})}},style:{cursor:"pointer"},className:"py-3 lift",children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,i.jsx)("i",{className:"ms-5 me-2 fe fe-trash-2"}),(0,i.jsx)("span",{className:"fw-bold fs-5",children:"Clear History"})]})})]})}},79807:function(t,n,r){"use strict";var i=r(85893),o=r(48794),s=r(20592);function Checkbox(t){let{name:n,checkedName:r,checked:a,setChecked:l,hoverText:c,disabled:u}=t,d=(0,i.jsxs)("div",{className:"form-check form-switch",children:[(0,i.jsx)("input",{disabled:u,className:"form-check-input",type:"checkbox",value:"",id:n,checked:a,onChange:()=>{l(!a),o.n.track("Click Checkbox",{name:n,checked:a})}}),(0,i.jsx)("label",{className:"form-check-label fs-6",htmlFor:n,children:a?r:n})]});return c?(0,i.jsx)(s.Z,{message:c,children:d}):d}Checkbox.defaultProps={disabled:!1},n.Z=Checkbox},1773:function(t,n,r){"use strict";var i=r(85893),o=r(41664),s=r.n(o),a=r(67294),l=r(82010),c=r(81829),u=r(79807),d=r(11940);n.Z=(0,a.memo)(function(){let{theme:t,setTheme:n,resolvedTheme:r}=(0,l.F)(),{paymentPlanData:{paymentPlan:o}}=(0,d.$)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{type:"button",className:"btn btn-circle dropdown dropdown-toggle fs-3 px-2","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,i.jsx)("i",{className:"fe fe-menu text-black"})}),(0,i.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenu2",style:{zIndex:99},children:[(0,i.jsx)("h6",{className:"dtopdown-header text-uppercase",children:" tools "}),(0,i.jsx)(s(),{href:c.WW,rel:"noreferrer",target:"_blank",children:(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:"dropdown-item",type:"button",children:c.Zd})})}),(0,i.jsx)(s(),{href:"/default",children:(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:"dropdown-item",type:"button",children:"Set as Default"})})}),(0,i.jsx)(s(),{href:"/mobile",children:(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:"dropdown-item",type:"button",children:"Mobile App"})})}),(0,i.jsx)(s(),{href:"/hotkeys",children:(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:"dropdown-item",type:"button",children:"Hotkeys"})})}),(0,i.jsx)("br",{}),(0,i.jsx)("h6",{className:"dtopdown-header text-uppercase",children:" Phind Pro "}),"Enterprise"===o&&(0,i.jsx)(s(),{href:"/enterprise",children:(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:"dropdown-item",type:"button",children:"Enterprise Console"})})}),(0,i.jsx)(s(),{href:"/plans",children:(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:"dropdown-item",type:"button",children:"Plans"})})}),(0,i.jsx)("br",{}),(0,i.jsx)("h6",{className:"dtopdown-header text-uppercase",children:" who we are "}),(0,i.jsx)(s(),{href:"/about",children:(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:"dropdown-item",type:"button",children:"About"})})}),(0,i.jsx)(s(),{href:"/tutorial",children:(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:"dropdown-item",type:"button",children:"Tutorial"})})}),(0,i.jsx)(s(),{href:"/blog",children:(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:"dropdown-item",type:"button",children:"Blog"})})}),(0,i.jsx)(s(),{href:"/privacy",children:(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:"dropdown-item",type:"button",children:"Privacy"})})}),(0,i.jsx)(s(),{href:"/terms",children:(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:"dropdown-item",type:"button",children:"Terms"})})}),(0,i.jsx)("br",{}),(0,i.jsx)("h6",{className:"dtopdown-header text-uppercase",children:" Contact "}),(0,i.jsx)("a",{target:"_blank",rel:"noreferrer",href:c.jT,children:(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:"dropdown-item",type:"button",children:"Join the Discord Community"})})}),(0,i.jsx)("a",{target:"_blank",rel:"noreferrer",href:c.N$,children:(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:"dropdown-item",type:"button",children:"Follow us on Twitter"})})}),(0,i.jsx)("br",{}),(0,i.jsx)("h6",{className:"dtopdown-header text-uppercase",children:" Theme "}),(0,i.jsx)(u.Z,{name:"Dark Mode",checked:"dark"===r,setChecked:()=>{n("dark"===t||"dark"===r?"light":"dark")},checkedName:"Dark Mode",hoverText:""})]})]})})},44325:function(t,n,r){"use strict";var i=r(85893),o=r(25675),s=r.n(o),a=r(41664),l=r.n(a),c=r(23451),u=r(1773);function Header(t){let{showAccountButton:n=!0}=t;return(0,i.jsx)("nav",{className:"pt-5",children:(0,i.jsxs)("div",{className:"container text-left d-flex justify-content-between px-0",children:[(0,i.jsx)(l(),{href:"/search?home=true",children:(0,i.jsx)(s(),{className:"img-fluid ml-1 mb-2 darkmode-img mt-4 ps-0",width:150,height:52,src:"/images/phind_v2.svg",alt:"...",style:{maxWidth:"100%",height:"auto"},priority:!0})}),(0,i.jsxs)("div",{className:"input-group d-flex flex-row-reverse",children:[n&&(0,i.jsx)(c.Z,{}),(0,i.jsx)(u.Z,{})]})]})})}Header.defaultProps={showAccountButton:!0},n.Z=Header},53160:function(t,n,r){"use strict";r.d(n,{Z:function(){return components_HeaderLeft}});var i=r(85893),o=r(25675),s=r.n(o),a=r(41664),l=r.n(a),c=r(87462),u=r(63366),d=r(75068),p=r(58255),m=r(74277),_=r(67294),v=r(39325),b=r(59391),removeClass=function(t,n){return t&&n&&n.split(" ").forEach(function(n){return(0,m.Z)(t,n)})},E=function(t){function CSSTransition(){for(var n,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(t,r){var i=n.resolveArguments(t,r),o=i[0],s=i[1];n.removeClasses(o,"exit"),n.addClass(o,s?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(t,r)},n.onEntering=function(t,r){var i=n.resolveArguments(t,r),o=i[0],s=i[1];n.addClass(o,s?"appear":"enter","active"),n.props.onEntering&&n.props.onEntering(t,r)},n.onEntered=function(t,r){var i=n.resolveArguments(t,r),o=i[0],s=i[1]?"appear":"enter";n.removeClasses(o,s),n.addClass(o,s,"done"),n.props.onEntered&&n.props.onEntered(t,r)},n.onExit=function(t){var r=n.resolveArguments(t)[0];n.removeClasses(r,"appear"),n.removeClasses(r,"enter"),n.addClass(r,"exit","base"),n.props.onExit&&n.props.onExit(t)},n.onExiting=function(t){var r=n.resolveArguments(t)[0];n.addClass(r,"exit","active"),n.props.onExiting&&n.props.onExiting(t)},n.onExited=function(t){var r=n.resolveArguments(t)[0];n.removeClasses(r,"exit"),n.addClass(r,"exit","done"),n.props.onExited&&n.props.onExited(t)},n.resolveArguments=function(t,r){return n.props.nodeRef?[n.props.nodeRef.current,t]:[t,r]},n.getClassNames=function(t){var r=n.props.classNames,i="string"==typeof r,o=i?(i&&r?r+"-":"")+t:r[t],s=i?o+"-active":r[t+"Active"],a=i?o+"-done":r[t+"Done"];return{baseClassName:o,activeClassName:s,doneClassName:a}},n}(0,d.Z)(CSSTransition,t);var n=CSSTransition.prototype;return n.addClass=function(t,n,r){var i,o=this.getClassNames(n)[r+"ClassName"],s=this.getClassNames("enter").doneClassName;"appear"===n&&"done"===r&&s&&(o+=" "+s),"active"===r&&t&&(0,b.Q)(t),o&&(this.appliedClasses[n][r]=o,i=o,t&&i&&i.split(" ").forEach(function(n){return(0,p.Z)(t,n)}))},n.removeClasses=function(t,n){var r=this.appliedClasses[n],i=r.base,o=r.active,s=r.done;this.appliedClasses[n]={},i&&removeClass(t,i),o&&removeClass(t,o),s&&removeClass(t,s)},n.render=function(){var t=this.props,n=(t.classNames,(0,u.Z)(t,["classNames"]));return _.createElement(v.ZP,(0,c.Z)({},n,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},CSSTransition}(_.Component);E.defaultProps={classNames:""},E.propTypes={};var x=r(11163),w=r(33299);/*!js-cookie v3.0.5 | MIT*/function js_cookie_assign(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)t[i]=r[i]}return t}var k=function init(t,n){function set(r,i,o){if("undefined"!=typeof document){"number"==typeof(o=js_cookie_assign({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in o)o[a]&&(s+="; "+a,!0!==o[a]&&(s+="="+o[a].split(";")[0]));return document.cookie=r+"="+t.write(i,r)+s}}return Object.create({set,get:function(n){if("undefined"!=typeof document&&(!arguments.length||n)){for(var r=document.cookie?document.cookie.split("; "):[],i={},o=0;o<r.length;o++){var s=r[o].split("="),a=s.slice(1).join("=");try{var l=decodeURIComponent(s[0]);if(i[l]=t.read(a,l),n===l)break}catch(t){}}return n?i[n]:i}},remove:function(t,n){set(t,"",js_cookie_assign({},n,{expires:-1}))},withAttributes:function(t){return init(this.converter,js_cookie_assign({},this.attributes,t))},withConverter:function(t){return init(js_cookie_assign({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),T=r(23451),C=r(48794),R=r(20592),components_ChatHistoryButton=function(t){let{show:n,setShow:r}=t,[o,s]=(0,_.useState)(!1);return((0,_.useEffect)(()=>s(!0),[]),o)?(0,i.jsx)(R.Z,{message:"View chat history",placement:"bottom",children:(0,i.jsx)("button",{type:"button",className:"btn fs-5 px-2",style:{paddingTop:"0.875rem"},onClick:()=>{r(!n),C.n.track("View Chat History")},children:(0,i.jsx)("i",{className:"fe fe-clock text-black"})})}):null},M=r(1773),O=r(97910),I=r(81829);let N=["Ask","Playground","Code"],D={Ask:"Get answers to your technical questions",Playground:"Chat with our models without web results",Code:"Ask questions about your code (experimental)"},P={fontSize:"16px",cursor:"pointer",transition:"opacity ".concat(I.yj," ease"),padding:"19px ".concat(10,"px"),opacity:.5,margin:0},j={height:"2px",position:"absolute",background:"black",bottom:"20px",width:"20%",transform:"translateX(0%)",transition:"transform ".concat(I.yj," ease, width ").concat(I.yj," ease")};var components_AnswerModeSelector=function(t){let{answerMode:n,setAnswerMode:r}=t,o=(0,O.k)(),[s,a]=(0,_.useState)(!1),l=(0,_.useRef)(null),c=(0,_.useRef)(null),u={Ask:(0,_.useRef)(null),Playground:(0,_.useRef)(null),Code:(0,_.useRef)(null)},d=[];o.isXs&&d.push("Code");let p=N.filter(t=>!d.includes(t)),updateUnderline=()=>{let t=u[n];if(t&&t.current&&l.current&&c.current){let n=t.current.getBoundingClientRect(),r=l.current.getBoundingClientRect(),i=n.x-r.x,{width:o}=n;c.current.style.transform="translateX(".concat(i+10,"px)"),c.current.style.width="".concat(o-20,"px")}};return(0,_.useEffect)(()=>{updateUnderline()},[n,u.Ask.current,u.Playground.current,u.Code.current,c.current]),(0,_.useEffect)(()=>{a(!0)},[]),o.isXs?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{type:"button",className:"btn btn-circle dropdown dropdown-toggle fs-3 px-2","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,i.jsx)("i",{className:"fe fe-chevron-down text-black"})}),(0,i.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenu2",style:{zIndex:99},children:p.map(t=>(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:"dropdown-item ".concat(n===t?"selected":""),type:"button",onClick:()=>r(t),children:t})},t))})]}):(0,i.jsxs)("div",{className:"nav-bar",style:{display:"flex"},ref:l,children:[p.map(t=>(0,i.jsx)("div",{style:{...P,opacity:n===t?1:.5},onClick:()=>r(t),ref:u[t],children:D[t]?(0,i.jsx)(R.Z,{message:D[t],placement:"bottom",showDelay:300,children:(0,i.jsx)("div",{children:t})}):t},t)),s&&(0,i.jsx)("div",{className:"bg-black",style:j,ref:c})]})},A=r(44325),L=r(50699),B=r(9862),U=r(73440),components_ChatHistoryModal=function(t){var n;let{show:r,setShow:o}=t,handleClose=()=>o(!1),{data:s}=(0,w.useSession)(),[a,l]=(0,_.useState)([]),c=null==s?void 0:null===(n=s.user)||void 0===n?void 0:n.userId,u=(0,x.useRouter)(),[d,p]=(0,_.useState)(""),m=(0,U.pM)(a,d),v=m.filter(t=>t.isPinned),b=m.filter(t=>{let n=new Date,r=new Date(t.timestamp);return r.getDate()===n.getDate()&&r.getMonth()===n.getMonth()&&r.getFullYear()===n.getFullYear()&&!t.isPinned}),E=m.filter(t=>{let n=new Date;n.setDate(n.getDate()-1);let r=new Date(t.timestamp);return r.getDate()===n.getDate()&&r.getMonth()===n.getMonth()&&r.getFullYear()===n.getFullYear()&&!t.isPinned}),k=m.filter(t=>{let n=new Date;n.setDate(n.getDate()-7),n.setHours(0,0,0,0);let r=new Date(t.timestamp);return r.getTime()>=n.getTime()&&!b.includes(t)&&!E.includes(t)&&!t.isPinned}),T=m.filter(t=>{let n=new Date;n.setDate(n.getDate()-7),n.setHours(0,0,0,0);let r=new Date(t.timestamp);return r.getTime()<n.getTime()&&!t.isPinned});(0,_.useEffect)(()=>{c&&r&&(0,U.xI)().then(t=>{l(t)})},[c,r]);let[R,M]=(0,_.useState)(!1);(0,_.useEffect)(()=>{M(!0)},[]);let handleClickThread=(t,n)=>{C.n.track("Click Thread History",{threadTitle:m[t].title,url:n})},handleDeleteThread=(t,n)=>{if(t.preventDefault(),t.stopPropagation(),window.confirm("Are you sure you wish to delete this item?")){let t=m[n],r=t.url.split("=")[1];C.n.track("Delete individual thread",{threadToDelete:t,cacheId:r}),(0,B.lu)([r]).then(()=>{let t=[...a];t.splice(n,1),l(t)})}},handleClearChats=()=>{if(c&&"delete"===window.prompt("Are you sure you wish to clear your recent history? If so, type 'delete' (without the quotes)")){C.n.track("Clear Chat History");let t=a.map(t=>t.url.split("=")[1]),n=t.slice(0,100);(0,B.lu)(n).then(()=>{window.location.href="/"})}},handleNewThread=t=>{t.startsWith("/agent")?window.location.href="/agent?home=true":(u.push("/search?home=true"),handleClose())},[O,I]=(0,_.useState)({});return R?(0,i.jsx)(L.Z,{show:r,onHide:handleClose,children:(0,i.jsx)(L.Z.Dialog,{className:"d-flex align-items-center justify-content-center m-0 vh-90",style:{minWidth:"98%",maxWidth:"150%",borderRadius:"100px"},children:(0,i.jsxs)(L.Z.Body,{className:"bg-white border border-history-panel rounded-2 p-5",children:[(0,i.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,i.jsx)(L.Z.Title,{className:"mb-3 fs-4",children:"History"}),(0,i.jsx)("button",{className:"btn btn-sm fs-3 p-0",type:"submit",onClick:handleClose,children:(0,i.jsx)("i",{className:"mx-2 fe fe-x darkmode-img"})})]}),!a.length&&(0,i.jsx)("p",{className:"m-0",children:"Your previous conversations will show up here."}),!!a.length&&(0,i.jsx)("input",{type:"text",value:d,onChange:t=>p(t.target.value),className:"form-control fs-5 darkmode-light rounded-1",placeholder:"Search history..."}),(0,i.jsx)("div",{style:{overflowY:"scroll",maxHeight:"65vh"},children:Object.entries({Pinned:v,Today:b,Yesterday:E,"Last 7 Days":k,Older:T}).map(t=>{let[n,r]=t;return r.length?(0,i.jsxs)(_.Fragment,{children:[(0,i.jsxs)("div",{className:"py-2 mt-3",children:[(0,i.jsxs)("h5",{children:[" ",n," "]}),r.map(t=>{let{title:n,url:r,timestamp:o}=t,s=new Date(o).toLocaleString(),a=m.findIndex(t=>t.title===n&&t.url===r);return(0,i.jsx)("a",{title:s,className:"card shadow-none transparent-card text-dark rounded-1",href:r,onClick:()=>handleClickThread(a,r),children:(0,i.jsxs)("div",{className:"card-body p-3 fs-5 fw-bold rounded",onMouseEnter:t=>{t.currentTarget.style.cursor="pointer",t.currentTarget.classList.add("bg-light"),I(t=>({...t,[a]:!0}))},onMouseLeave:t=>{t.currentTarget.style.cursor="default",t.currentTarget.classList.remove("bg-light"),I(t=>({...t,[a]:!1}))},children:[n.substring(0,256),O[a]&&(0,i.jsx)("div",{style:{position:"absolute",right:"20px",top:"50%",transform:"translateY(-50%)"},children:(0,i.jsx)("i",{className:"fe fe-trash m-1",onClick:t=>{handleDeleteThread(t,a)}})})]})},"".concat(o))})]}),(0,i.jsxs)("div",{style:{position:"absolute",right:35,bottom:0},children:[(0,i.jsxs)("button",{className:"btn fs-5 p-0 my-4 mx-2 fw-bold text-dark",type:"button",onClick:()=>{handleClearChats()},onMouseEnter:t=>{t.currentTarget.classList.add("text-primary")},onMouseLeave:t=>{t.currentTarget.classList.remove("text-primary")},children:[(0,i.jsx)("i",{className:"fe fe-trash m-2"}),"Clear conversations"]}),(0,i.jsxs)("button",{className:"btn fs-5 p-0 my-4 mx-2 fw-bold text-dark",type:"button",onClick:()=>{handleNewThread(u.asPath)},onMouseEnter:t=>{t.currentTarget.classList.add("text-primary")},onMouseLeave:t=>{t.currentTarget.classList.remove("text-primary")},children:[(0,i.jsx)("i",{className:"fe fe-plus m-2"}),"New thread"]})]})]},n):null})}),!s&&(0,i.jsx)("p",{className:"m-0",children:"Please sign in to view your chat history."})]})})}):null},F=r(12074),H=r(51565),SiteFeedbackModal=function(t){let{show:n,setShow:r}=t,[o,s]=(0,_.useState)(""),[a,l]=(0,_.useState)(!1),handleClose=()=>{r(!1),setTimeout(()=>{s(""),l(!1)},500)};return(0,i.jsx)(L.Z,{show:n,onHide:handleClose,children:(0,i.jsx)(L.Z.Dialog,{className:"d-flex align-items-center justify-content-center m-0 vh-90",children:(0,i.jsxs)(L.Z.Body,{className:"bg-white border border-history-panel rounded-2 p-5",children:[(0,i.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,i.jsx)(L.Z.Title,{className:"mb-3 fs-4",children:"Give feedback \uD83D\uDE4F"}),(0,i.jsx)("button",{className:"btn btn-sm fs-3 p-0 rounded-1",type:"button",onClick:handleClose,children:(0,i.jsx)("i",{className:"mx-2 fe fe-x darkmode-img"})})]}),a?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{children:"Submitted - thank you for taking the time to help us improve Phind \uD83D\uDE0A"}),(0,i.jsx)("button",{type:"button",className:"btn btn-primary btn-sm rounded-1",onClick:handleClose,children:"Close"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("small",{children:["Thank you for taking the time! We read each of these by hand. You can also reach out to us"," ",(0,i.jsx)("a",{href:"mailto:justinw@phind.com",children:"by email"}),"."]}),(0,i.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),!o){alert("Please enter some feedback.");return}l(!0),C.n.track("Site feedback",{feedback:o})},children:[(0,i.jsx)("input",{type:"text",value:o,onChange:t=>s(t.target.value),className:"form-control fs-5 darkmode-light rounded-1",placeholder:"Enter suggestions/thoughts/issues..."}),(0,i.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm mt-3 rounded-1",children:"Submit"})]})]})]})})})},components_FeedbackButton=function(){let[t,n]=(0,_.useState)(!1),[r,o]=(0,_.useState)(!1);return((0,_.useEffect)(()=>o(!0),[]),r)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(SiteFeedbackModal,{show:t,setShow:n}),(0,i.jsx)(R.Z,{message:"Give feedback",placement:"bottom",children:(0,i.jsx)("button",{type:"button",className:"btn fs-5 px-2",style:{paddingTop:"0.875rem"},onClick:()=>{n(!0),C.n.track("Click Feedback")},children:(0,i.jsx)("i",{className:"fe fe-activity text-black"})})})]}):null},components_HeaderLeft=function(){var t;let[n,r]=(0,_.useState)(!1),{isSidebarOpen:o,setIsSidebarToggled:a,isSizedForSidebar:c}=(0,F.A)(),{setHeaderHeight:u,headerRef:d}=(0,H.g)(),p=(0,O.k)(),m=(0,x.useRouter)(),[v,b]=(0,_.useState)(0);(0,_.useEffect)(()=>{(null==d?void 0:d.current)&&u(d.current.offsetHeight)},[p,null==d?void 0:d.current,window.innerHeight,m.asPath,v]);let{data:C}=(0,w.useSession)(),R=null==C?void 0:null===(t=C.user)||void 0===t?void 0:t.userId,N="/"===m.pathname||"/search?home=true"===m.asPath,D=m.pathname.startsWith("/search")&&"/search?home=true"!==m.asPath,P=m.pathname.startsWith("/agent"),j=m.pathname.startsWith("/code"),L=N||P||D||j,B={transition:"padding ".concat(I.yj," ease, \n                 margin ").concat(I.yj," ease, \n                 max-width ").concat(I.yj," ease, \n                 width ").concat(I.yj," ease, \n                 min-width ").concat(I.yj," ease"),maxWidth:"100%"},performNavigation=async(t,n)=>{Y(n),W(!0),await m.push(t),W(!1)},U="Ask";P?U="Playground":j&&(U="Code");let[G,W]=(0,_.useState)(!1),[q,Y]=(0,_.useState)("Ask"),z=G?q:U,setAnswerMode=async t=>{"Ask"===t?performNavigation("/search?home=true","Ask"):"Playground"===t?P?window.location.href="/agent?home=true":performNavigation("/agent?home=true","Ask"):"Code"===t&&(j?window.location.href="/code?home=true":performNavigation("/code?home=true","Code"));let n=k.get("uuid"),r=R||n;r&&fetch("/api/db/update_chat_mode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r,mode:t})})};return(0,_.useEffect)(()=>{let t=setInterval(()=>{b(t=>t+1)},I.$K);setTimeout(()=>{clearInterval(t)},I.O8)},[N]),L?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("nav",{className:N?"pt-5 sticky-top":"sticky-top",style:{zIndex:99,transition:"padding ".concat(I.yj," ease")},children:(0,i.jsxs)("div",{className:N?"container text-left d-flex justify-content-between px-5":"pt-2 text-left d-flex justify-content-between bg-white",style:B,children:[(0,i.jsx)(E,{in:!N,timeout:I.O8,classNames:"logo",unmountOnExit:!0,children:(0,i.jsx)(l(),{href:"/search?home=true",onClick:t=>{t.preventDefault(),setAnswerMode("Ask")},children:(0,i.jsx)(s(),{className:"img-fluid mb-2 darkmode-img mt-4",width:100,height:35,src:"/images/phind_v2.svg",alt:"...",style:{maxWidth:"100%",minWidth:"100px",height:"auto",paddingTop:p.isXs?"0":"6px"},priority:!0})})}),(0,i.jsx)("div",{className:"".concat(N||p.isXs?"":"ms-5"," mt-1"),style:{transition:"margin ".concat(I.yj," ease")},children:(0,i.jsx)(components_AnswerModeSelector,{answerMode:z,setAnswerMode:setAnswerMode})}),(0,i.jsxs)("div",{className:"input-group d-flex flex-row-reverse",children:[(0,i.jsx)(E,{in:!0,timeout:I.O8,classNames:"logo",unmountOnExit:!0,children:(0,i.jsx)(T.Z,{})}),(0,i.jsx)(M.Z,{}),c?(0,i.jsx)(components_ChatHistoryButton,{show:o,setShow:a}):(0,i.jsx)(components_ChatHistoryButton,{show:n,setShow:r}),(0,i.jsx)(components_FeedbackButton,{})]})]})}),(0,i.jsx)(components_ChatHistoryModal,{show:n,setShow:r})]}):(0,i.jsx)(A.Z,{})}},20592:function(t,n,r){"use strict";r.d(n,{Z:function(){return m}});var i=r(85893),o=r(90424),s=r(67294),a=r(6454),l=r(76852);r(42473),r(41143);var c=r(35654),u=r(96748),d=r(8285);function handleMouseOverOut(t,n,r){let[i]=n,s=i.currentTarget,a=i.relatedTarget||i.nativeEvent[r];a&&a===s||(0,o.Z)(s,a)||t(...n)}function OverlayTrigger({trigger:t,overlay:n,children:r,popperConfig:o={},show:p,defaultShow:m=!1,onToggle:_,delay:v,placement:b,flip:E=b&&-1!==b.indexOf("auto"),...x}){var w,k,T,C,R,M,O,I;let N=(0,s.useRef)(null),D=(0,c.Z)(N,r.ref),P=(w=(0,a.Z)(),k=(0,s.useRef)(),(0,l.Z)(function(){return clearTimeout(k.current)}),(0,s.useMemo)(function(){var clear=function(){return clearTimeout(k.current)};return{set:function(t,n){void 0===n&&(n=0),w()&&(clear(),n<=2147483647?k.current=setTimeout(t,n):function setChainedTimeout(t,n,r){var i=r-Date.now();t.current=i<=2147483647?setTimeout(n,i):setTimeout(function(){return setChainedTimeout(t,n,r)},2147483647)}(k,t,Date.now()+n))},clear:clear}},[])),j=(0,s.useRef)(""),[A,L]=(T=(0,s.useRef)(void 0!==p),R=(C=(0,s.useState)(m))[0],M=C[1],O=void 0!==p,I=T.current,T.current=O,!O&&I&&R!==m&&M(m),[O?p:R,(0,s.useCallback)(function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];_&&_.apply(void 0,[t].concat(r)),M(t)},[_])]),B=v&&"object"==typeof v?v:{show:v,hide:v},{onFocus:U,onBlur:F,onClick:H}="function"!=typeof r?s.Children.only(r).props:{},G=(0,s.useCallback)(()=>{if(P.clear(),j.current="show",!B.show){L(!0);return}P.set(()=>{"show"===j.current&&L(!0)},B.show)},[B.show,L,P]),W=(0,s.useCallback)(()=>{if(P.clear(),j.current="hide",!B.hide){L(!1);return}P.set(()=>{"hide"===j.current&&L(!1)},B.hide)},[B.hide,L,P]),q=(0,s.useCallback)((...t)=>{G(),null==U||U(...t)},[G,U]),Y=(0,s.useCallback)((...t)=>{W(),null==F||F(...t)},[W,F]),z=(0,s.useCallback)((...t)=>{L(!A),null==H||H(...t)},[H,L,A]),Z=(0,s.useCallback)((...t)=>{handleMouseOverOut(G,t,"fromElement")},[G]),V=(0,s.useCallback)((...t)=>{handleMouseOverOut(W,t,"toElement")},[W]),K=null==t?[]:[].concat(t),J={ref:t=>{D((0,d.Z)(t))}};return-1!==K.indexOf("click")&&(J.onClick=z),-1!==K.indexOf("focus")&&(J.onFocus=q,J.onBlur=Y),-1!==K.indexOf("hover")&&(J.onMouseOver=Z,J.onMouseOut=V),(0,i.jsxs)(i.Fragment,{children:["function"==typeof r?r(J):(0,s.cloneElement)(r,J),(0,i.jsx)(u.Z,{...x,show:A,onHide:W,flip:E,placement:b,popperConfig:o,target:N.current,children:n})]})}OverlayTrigger.defaultProps={defaultShow:!1,trigger:["hover","focus"]};var p=r(43489);let renderTooltip=t=>function(n){return(0,i.jsx)(p.Z,{id:"button-tooltip",...n,children:t})};function TooltipWrapper(t){let{children:n,message:r,placement:o,showDelay:s=100}=t;return(0,i.jsx)(OverlayTrigger,{placement:null!=o?o:"top",delay:{show:s,hide:250},overlay:renderTooltip(r),children:n})}TooltipWrapper.defaultProps={placement:"top",showDelay:100};var m=TooltipWrapper},62607:function(t,n,r){"use strict";r.r(n),r.d(n,{default:function(){return App}});var i=r(85893);r(47309),r(65149),r(55973),r(71633);var o=r(67294),s=r(4298),a=r.n(s),l=r(11163),c=r(82010),u=r(9008),d=r.n(u),p=r(33299),m=r(58868);function useIsMounted(){let t=(0,o.useRef)(!1);return(0,m.L)(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var _=r(2074),v=r(240),b=r(96681);let PopChildMeasure=class PopChildMeasure extends o.Component{getSnapshotBeforeUpdate(t){let n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){let t=this.props.sizeRef.current;t.height=n.offsetHeight||0,t.width=n.offsetWidth||0,t.top=n.offsetTop,t.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}};function PopChild({children:t,isPresent:n}){let r=(0,o.useId)(),i=(0,o.useRef)(null),s=(0,o.useRef)({width:0,height:0,top:0,left:0});return(0,o.useInsertionEffect)(()=>{let{width:t,height:o,top:a,left:l}=s.current;if(n||!i.current||!t||!o)return;i.current.dataset.motionPopId=r;let c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${t}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[n]),o.createElement(PopChildMeasure,{isPresent:n,childRef:i,sizeRef:s},o.cloneElement(t,{ref:i}))}let PresenceChild=({children:t,initial:n,isPresent:r,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:l})=>{let c=(0,b.h)(newChildrenMap),u=(0,o.useId)(),d=(0,o.useMemo)(()=>({id:u,initial:n,isPresent:r,custom:s,onExitComplete:t=>{for(let n of(c.set(t,!0),c.values()))if(!n)return;i&&i()},register:t=>(c.set(t,!1),()=>c.delete(t))}),a?void 0:[r]);return(0,o.useMemo)(()=>{c.forEach((t,n)=>c.set(n,!1))},[r]),o.useEffect(()=>{r||c.size||!i||i()},[r]),"popLayout"===l&&(t=o.createElement(PopChild,{isPresent:r},t)),o.createElement(v.O.Provider,{value:d},t)};function newChildrenMap(){return new Map}var E=r(25364),x=r(45487);let getChildKey=t=>t.key||"",AnimatePresence=({children:t,custom:n,initial:r=!0,onExitComplete:i,exitBeforeEnter:s,presenceAffectsLayout:a=!0,mode:l="sync"})=>{var c;(0,x.k)(!s,"Replace exitBeforeEnter with mode='wait'");let u=(0,o.useContext)(E.p).forceRender||function(){let t=useIsMounted(),[n,r]=(0,o.useState)(0),i=(0,o.useCallback)(()=>{t.current&&r(n+1)},[n]),s=(0,o.useCallback)(()=>_.Wi.postRender(i),[i]);return[s,n]}()[0],d=useIsMounted(),p=function(t){let n=[];return o.Children.forEach(t,t=>{(0,o.isValidElement)(t)&&n.push(t)}),n}(t),v=p,b=(0,o.useRef)(new Map).current,w=(0,o.useRef)(v),k=(0,o.useRef)(new Map).current,T=(0,o.useRef)(!0);if((0,m.L)(()=>{T.current=!1,function(t,n){t.forEach(t=>{let r=getChildKey(t);n.set(r,t)})}(p,k),w.current=v}),c=()=>{T.current=!0,k.clear(),b.clear()},(0,o.useEffect)(()=>()=>c(),[]),T.current)return o.createElement(o.Fragment,null,v.map(t=>o.createElement(PresenceChild,{key:getChildKey(t),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:a,mode:l},t)));v=[...v];let C=w.current.map(getChildKey),R=p.map(getChildKey),M=C.length;for(let t=0;t<M;t++){let n=C[t];-1!==R.indexOf(n)||b.has(n)||b.set(n,void 0)}return"wait"===l&&b.size&&(v=[]),b.forEach((t,r)=>{if(-1!==R.indexOf(r))return;let s=k.get(r);if(!s)return;let c=C.indexOf(r),m=t;m||(m=o.createElement(PresenceChild,{key:getChildKey(s),isPresent:!1,onExitComplete:()=>{b.delete(r);let t=Array.from(k.keys()).filter(t=>!R.includes(t));if(t.forEach(t=>k.delete(t)),w.current=p.filter(n=>{let i=getChildKey(n);return i===r||t.includes(i)}),!b.size){if(!1===d.current)return;u(),i&&i()}},custom:n,presenceAffectsLayout:a,mode:l},s),b.set(r,m)),v.splice(c,0,m)}),v=v.map(t=>{let n=t.key;return b.has(n)?t:o.createElement(PresenceChild,{key:getChildKey(t),isPresent:!0,presenceAffectsLayout:a,mode:l},t)}),o.createElement(o.Fragment,null,b.size?v:v.map(t=>(0,o.cloneElement)(t)))};var w=r(48794),k=r(53160),T=r(97910),C=r(44325),R=r(12074),M=r(73440),O=r(51565),components_ChatHistorySidebarToggle=function(t){let{isSidebarOpen:n,setIsSidebarToggled:r}=(0,R.A)();return(0,i.jsx)("button",{type:"button",onClick:()=>{r(!n)},className:"sidebar-toggle d-none d-lg-block ".concat(n?"sidebar-toggle-open":"sidebar-toggle-closed"," text-black"),children:n?"<":">"})};function Layout(t){let{children:n}=t,r=(0,T.k)(),s=(0,l.useRouter)(),{isSidebarOpen:a}=(0,R.A)(),{headerHeight:c,headerRef:u}=(0,O.g)(),d="/"===s.pathname||"/search?home=true"===s.asPath,p=s.pathname.startsWith("/search")&&"/search?home=true"!==s.asPath,m=s.pathname.startsWith("/agent"),_=s.pathname.startsWith("/code"),[v,b]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let handleStart=t=>{if(t.startsWith(s.pathname)){if(t.startsWith("/search")&&s.pathname.startsWith("/search")||t.startsWith("/agent")&&s.pathname.startsWith("/agent")){let n=new URLSearchParams(new URL(t,window.location.origin).search),r=new URLSearchParams(new URL(s.asPath,window.location.origin).search),i=n.get("cache"),o=r.get("cache"),a=n.get("source"),l=r.get("source"),c=r.get("home"),u=n.get("home");(i!==o&&null!==i&&null!==o||"sidebar"===a&&a!==l||u&&!c)&&b(!0)}}else b(!0)},handleComplete=()=>b(!1);return s.events.on("routeChangeStart",handleStart),s.events.on("routeChangeComplete",handleComplete),s.events.on("routeChangeError",handleComplete),()=>{s.events.off("routeChangeStart",handleStart),s.events.off("routeChangeComplete",handleComplete),s.events.off("routeChangeError",handleComplete)}},[s]);let E=v?(0,i.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"calc(100vh - ".concat(c,"px - 10px)")},children:(0,i.jsx)("div",{className:"spinner-border",role:"status",children:(0,i.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):null;return p?(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-lg-2 sidebar ".concat(a?"mt-0 p-0":"sidebar-gone"," sidebar"),children:(0,i.jsxs)("div",{style:{zIndex:1031,position:"fixed",left:0,top:0,width:"inherit"},children:[a&&(0,i.jsx)(M.ZP,{}),(0,i.jsx)(components_ChatHistorySidebarToggle,{})]})}),(0,i.jsxs)("div",{className:"".concat(a?"col-lg-10":"col-lg-12"," sidebar"),children:[(0,i.jsx)("header",{className:"sticky-top",ref:u,children:(0,i.jsx)("div",{className:"container-xl",children:(0,i.jsx)(k.Z,{})})}),(0,i.jsx)("main",{children:null!=E?E:n})]})]})}):d||m||p||_?(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-lg-2 sidebar ".concat(a?"d-none d-lg-block mt-0 p-0":"sidebar-gone"),children:(0,i.jsxs)("div",{style:{zIndex:1031,position:"fixed",left:0,top:0,width:"inherit"},children:[a&&(0,i.jsx)(M.ZP,{}),(0,i.jsx)(components_ChatHistorySidebarToggle,{})]})}),(0,i.jsxs)("div",{className:"".concat(a?"col-lg-10":"col-lg-12"," sidebar"),children:[(0,i.jsx)("header",{className:"sticky-top",ref:u,children:(0,i.jsx)("div",{className:r.isXs?"container-xl p-3":"container-xl",children:(0,i.jsx)(k.Z,{})})}),(0,i.jsx)("main",{children:null!=E?E:n})]})]})}):(0,i.jsxs)("div",{children:[(0,i.jsx)("header",{ref:u,children:(0,i.jsx)("div",{className:"col-12",children:(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-12",children:(0,i.jsx)("div",{className:r.isXs?"container-xl px-6":"container-xl",children:(0,i.jsx)(C.Z,{})})})})})}),(0,i.jsx)("main",{children:null!=E?E:n})]})}var I=r(15497),N=r(11940);function App(t){var n;let{Component:r,pageProps:{session:s,...u}}=t,m=(0,l.useRouter)(),_=null!==(n=r.getLayout)&&void 0!==n?n:t=>(0,i.jsx)(Layout,{children:t});return(0,o.useEffect)(()=>{let keyDownHandler=t=>{var n,r,i;let o=t.shiftKey||t.altKey||t.ctrlKey||t.metaKey,s=(null===(n=document.activeElement)||void 0===n?void 0:n.tagName)==="INPUT"||(null===(r=document.activeElement)||void 0===r?void 0:r.tagName)==="TEXTAREA"||(null===(i=document.activeElement)||void 0===i?void 0:i.className)==="cm-content";if("Slash"!==t.code||o||s)"k"===t.key&&(t.metaKey||t.ctrlKey)&&(t.preventDefault(),t.shiftKey?m.push("/agent?home=true"):m.push("/search?home=true"));else{let n=document.getElementsByClassName("searchbox-textarea");if(0===n.length)return;let r=n[n.length-1];r.select(),r.getBoundingClientRect().top<0&&r.scrollIntoView({behavior:"smooth"}),t.preventDefault()}};return document.addEventListener("keydown",keyDownHandler),()=>{document.removeEventListener("keydown",keyDownHandler)}},[]),(0,o.useEffect)(()=>{let handleRouteChange=t=>{-1===t.indexOf("/search")&&-1===t.indexOf("/agent")&&w.n.track("Route Change",{url:t})};return m.events.on("routeChangeStart",handleRouteChange),()=>{m.events.off("routeChangeStart",handleRouteChange)}},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a(),{strategy:"afterInteractive",src:"https://www.googletagmanager.com/gtag/js?id=G-XCLTX4ZEX8"}),(0,i.jsx)(a(),{id:"gtag-init",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:"\n            window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            gtag('js', new Date());\n          \n            gtag('config', 'G-XCLTX4ZEX8');\n          "}}),(0,i.jsx)(AnimatePresence,{mode:"sync",children:(0,i.jsxs)(c.f,{enableSystem:!0,disableTransitionOnChange:!0,defaultTheme:"system",children:[(0,i.jsxs)(d(),{children:[(0,i.jsx)("title",{children:"Phind"}),(0,i.jsx)("meta",{name:"description",content:"Phind is an intelligent answer engine for developers. Focused on helping you solve challenging problems, Phind gets you from an idea to a working product."}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,i.jsx)("link",{rel:"search",type:"application/opensearchdescription+xml",title:"phind.com",href:"/opensearch.xml"}),(0,i.jsx)("meta",{name:"theme-color",media:"(prefers-color-scheme: light)",content:"#ffffff"}),(0,i.jsx)("meta",{name:"theme-color",media:"(prefers-color-scheme: dark)",content:"#171719"})]}),(0,i.jsx)(p.SessionProvider,{session:s,children:(0,i.jsx)(O.I,{children:(0,i.jsx)(N.x,{children:(0,i.jsx)(R.H,{children:(0,i.jsx)(I.$,{children:_((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r,{...u}),(0,i.jsx)(a(),{src:"/goodkit/js/vendor.bundle.js"}),(0,i.jsx)(a(),{src:"/goodkit/js/theme.bundle.js"})]}))})})})})})]})})]})}},9862:function(t,n,r){"use strict";r.d(n,{BM:function(){return fetchMagicEdit},Cb:function(){return fetchToggleSearchPrivate},FI:function(){return retrieveCheckoutSession},FW:function(){return fetchUpdateCodeModeHistory},Gg:function(){return fetchChat},HE:function(){return fetchCodeModeAgentResponse},K:function(){return fetchDeleteAccount},Lj:function(){return updateUserProfile},Mc:function(){return createCheckoutSession},Pv:function(){return fetchToggleUserSettingBool},Q2:function(){return fetchToggleChatPrivate},Qc:function(){return putInCache},T6:function(){return fetchUpdateChat},Vy:function(){return fetchToggleUserSettingStr},f3:function(){return fetchSearchHistory},fZ:function(){return fetchSetThreadIsPinned},iK:function(){return fetchFollowupAnswer},kV:function(){return fetchCodeModeHistory},l6:function(){return fetchDeleteMessagesInChat},lu:function(){return fetchDeleteManyThreads},ou:function(){return fetchCreateChat},pD:function(){return CommonHttpError},pN:function(){return fetchToggleCodeModePrivate},rO:function(){return fetchWithJson},tA:function(){return fetchMainAnswer},tD:function(){return getPortalSession},tI:function(){return updateCache},uE:function(){return fetchAgentResponse},v8:function(){return fetchCodeEdit},zW:function(){return fetchCreateCodeModeHistory}});var i=r(81829),o=r(13662);let CommonHttpError=class CommonHttpError extends Error{toString(){return"HTTP error: ".concat(this.statusCode," - ").concat(this.message)}constructor(t,n){super(n),this.statusCode=t,Object.setPrototypeOf(this,CommonHttpError.prototype)}};let fetchWithJson=(t,n,r,i)=>{let s=n;if(r){let t=(0,o.Nj)((0,o.Fg)(n),r.multiplier,r.addend,r.modulus),i=(0,o.cE)(t);s={...n,challenge:i}}let a={method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(s),...i};return fetch(t,a).then(t=>{if(t.status>=400)throw new CommonHttpError(t.status,t.statusText);return t})},updateCache=(t,n,r)=>fetchWithJson("/api/db/cache",{cacheId:t,title:n,value:r},void 0,{method:"PUT"}),putInCache=(t,n)=>fetchWithJson("/api/db/cache",{title:t,value:n},void 0),fetchMainAnswer=async(t,n,r,o,s,a)=>fetchWithJson("".concat((0,i.MJ)(),"/infer/"),{question:t,options:r,context:n,backend_token:s,image_url:a},o),fetchFollowupAnswer=async(t,n,r,o,s,a,l)=>fetchWithJson("".concat((0,i.MJ)(),"/infer/"),{question:t,question_and_answer_history:n,options:o,context:r,backend_token:a,image_url:l},s),updateUserProfile=(t,n)=>fetchWithJson("/api/db/profile",{userProfile:t,answerStylePreference:n}),fetchCodeEdit=(t,n)=>fetchWithJson("/api/code/edit",{code:t,language:n}).then(t=>t.json()),fetchMagicEdit=async(t,n)=>fetchWithJson("".concat((0,i.MJ)(),"/extension/magic_edit/"),{old_code:t,code_to_add:n}),fetchAgentResponse=async(t,n,r,o,s,a,l)=>fetchWithJson("".concat((0,i.MJ)(),"/agent/"),{user_input:t,message_history:n,requested_model:r,anon_user_id:s,user_id:a,enable_functions:l},o),fetchCodeModeAgentResponse=async(t,n,r,o,s,a,l)=>fetchWithJson("".concat((0,i.MJ)(),"/agent/"),{user_input:t,message_history:n,requested_model:r,anon_user_id:a,user_id:l,enable_functions:!0,is_code_mode:!0,is_partial_function_call_response:s},o),fetchCreateChat=async(t,n)=>fetchWithJson("/api/db/chat",{title:t,messages:n}),fetchUpdateChat=async(t,n,r)=>fetchWithJson("/api/db/chat",{chatId:t,messages:n,title:r},void 0,{method:"PUT"}),fetchCreateCodeModeHistory=async(t,n,r,i)=>fetchWithJson("/api/db/code_mode",{title:t,messages:n,editorState:r,runCodeResults:i}),fetchUpdateCodeModeHistory=async(t,n,r,i,o)=>fetchWithJson("/api/db/code_mode",{codeModeHistoryId:t,messages:n,editorState:r,runCodeResults:i,title:o},void 0,{method:"PUT"}),fetchDeleteMessagesInChat=async(t,n,r)=>fetchWithJson("/api/db/chat",{chatId:t,index:n,numToDelete:r},void 0,{method:"DELETE"}),fetchDeleteManyThreads=async t=>fetchWithJson("/api/db/chat",{chatIds:t},void 0,{method:"DELETE"}),fetchSetThreadIsPinned=async(t,n)=>{let r=await fetchWithJson("/api/db/history/pin",{threadId:t,newPinnedValue:n},void 0,{method:"PUT"});return r},fetchChat=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return fetch("/api/db/chat?pageOffset=".concat(t))},fetchSearchHistory=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return fetch("/api/db/search_history?pageOffset=".concat(t))},fetchCodeModeHistory=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return fetch("/api/db/code_mode?pageOffset=".concat(t))},createCheckoutSession=async function(t,n,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return fetchWithJson("/api/stripe/checkout_sessions/create",{email:t,lookupKey:n,customerId:r,firstUserId:o,enterpriseName:s,includeFreeTrial:i}).then(t=>t.json()).catch(t=>{console.error(t)})},retrieveCheckoutSession=async t=>fetchWithJson("/api/stripe/checkout_sessions/retrieve",{sessionId:t}).then(t=>t.json()).catch(t=>{console.error(t)}),getPortalSession=async t=>fetchWithJson("/api/stripe/checkout_sessions/portal_session",{customerId:t}).then(t=>t.json()).catch(t=>{console.error(t)}),fetchDeleteAccount=async()=>fetch("/api/db/user/",{method:"DELETE"}),fetchToggleChatPrivate=async(t,n)=>fetchWithJson("/api/db/chat/private",{chatId:t,newPrivateValue:n},void 0,{method:"PUT"}),fetchToggleSearchPrivate=async(t,n)=>fetchWithJson("/api/db/search_history/private",{chatId:t,newPrivateValue:n},void 0,{method:"PUT"}),fetchToggleCodeModePrivate=async(t,n)=>fetchWithJson("/api/db/code_mode/private",{chatId:t,newPrivateValue:n},void 0,{method:"PUT"}),fetchToggleUserSettingBool=async(t,n)=>fetchWithJson("/api/db/user/settings",{property:t,newValue:n},void 0,{method:"PUT"}),fetchToggleUserSettingStr=async(t,n)=>fetchWithJson("/api/db/user/settings",{property:t,newValue:n},void 0,{method:"PUT"})},97910:function(t,n,r){"use strict";r.d(n,{k:function(){return useBreakpoints}});var i=r(67294);function useMediaQuery(t){let[n,r]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let n=window.matchMedia(t);r(n.matches);let handler=t=>r(t.matches);return n.addEventListener("change",handler),()=>n.removeEventListener("change",handler)},[]),n}function useBreakpoints(){let t={isXs:useMediaQuery("(max-width: 640px)"),isSm:useMediaQuery("(min-width: 641px) and (max-width: 768px)"),isMd:useMediaQuery("(min-width: 769px) and (max-width: 991px)"),isLg:useMediaQuery("(min-width: 992px) and (max-width: 1199px)"),isXl:useMediaQuery("(min-width: 1200px)"),active:"xs"};return t.isXs&&(t.active="xs"),t.isSm&&(t.active="sm"),t.isMd&&(t.active="md"),t.isLg&&(t.active="lg"),t.isXl&&(t.active="xl"),t}},81829:function(t,n,r){"use strict";r.d(n,{$K:function(){return U},An:function(){return d},BY:function(){return w},Bs:function(){return a},CF:function(){return s},DF:function(){return C},DH:function(){return P},Dv:function(){return u},F2:function(){return m},FK:function(){return R},Ic:function(){return _},MJ:function(){return getBackendEndpoint},N$:function(){return E},O6:function(){return v},O8:function(){return L},Ow:function(){return j},PF:function(){return p},TW:function(){return k},WW:function(){return N},Zd:function(){return D},_H:function(){return O},a0:function(){return c},aB:function(){return o},dx:function(){return T},i1:function(){return A},jT:function(){return x},jm:function(){return M},jx:function(){return l},tJ:function(){return i},vV:function(){return b},xn:function(){return I},yj:function(){return B},zh:function(){return F}});let i=3,o="Phind Instant",s="Phind-70B",a=15,l=200,c=0,u=5,d=30,p=500,m=99999,_=10,v=0,b=10,E="https://twitter.com/PhindSearch",x="https://discord.gg/S25yW8TebZ",w="rgb(40, 42, 54)",k=4e3,T=32e3,C=4e3,R=8e3,M=3e4,O=8e3,I=12e3,N="https://marketplace.visualstudio.com/items?itemName=phind.phind",D="Try Phind in VS Code",P="https://chrome.google.com/webstore/detail/hello-cognition/cbkjbnfjbjlcpfaengknbfbffabiloab?hl=en-US",j="Add Phind.com to Chrome",A=["What is the best way to deploy a transformer for inference?","What's the best way to make an ML training pipeline in Python","When should I use NextJS vs Vue?","How to migrate NPM to Yarn","How to deploy React using Docker on AWS via Gitlab CI","Make a Chrome extension that adds a button to the top of the page","BeautifulSoup how to find node based on multiple conditions","How to create a link with query params using React router","How can I expose a range of ports in Docker","How to make HuggingFace tokenizer pad to the longest input sample","How to add a layer on top of HuggingFace model in PyTorch","How to write a shell script to get a program to restart itself on crash","How to expand filesystem after enlarging EC2 EBS disk","What's the difference between BPE and sentencepiece tokenizer?","How to wait for all goroutines to finish","When should I avoid useEffect() in React?","Make four grid containers in CSS that contain one picture and a paragraph of text beneath","Dockerfile for running NextJS example","Quicksort explained with code examples","Why is state immutable in React?","How can I know if my website was scraped?","XOR gate made only out of AND gates, OR gates and NOT gates","Async/await syntax in JavaScript","Help me start learning about AI","Permission denied when accessing S3 bucket from EC2","How do I compute the Singular Value Decomposition of a matrix in C#?","How do I figure out writing to pipes in C# in a multi-process program without deadlocks?","Can I use a MacBook Pro with less than 16GB of RAM for machine learning?","If I have an anonymous namespace and the std namespace in C++, which one takes precedence?","How do I make an HTTP request in JavaScript?","How to use Spring Framework annotations?","How does Spring decide which bean to inject with @Autowired when there are multiple candidates?","How to get user agent from Vercel Edge Function?","Can you use Lisp in Emacs?","Types of Gunicorn workers","How to update on insert if already exist Postgres","Mistral 8x7B benchmarks","How do I generate images with Stable Diffusion in Huggingface Diffusers?","How to fine-tune a Stable Diffusion model on my own dataset","What is LoRA and how does it make fine-tuning easier?","What is QLoRA and does it have any tradeoffs?","What is the trlX library and how does it work?","How can I use trlX to RLHF a Llama model?","What is llama.cpp?","How can I run a Llama model using llama.cpp?","Explain how LoRA works for fine-tuning LLMs","What methods the Toolformer paper mention for LLMs using tools?","How does RLHF work?","How can I use RLHF to fine-tune an LLM?","Nvidia H200 GPU","What's new in NextJS 14?","What's new in Llama 2?","Mistral torrent model","AWS EFA vs Infiniband","Backends for torch.compile()","AMD Milan vs Genoa CPUs","How to delete all objects that have a repeated value for a field in Django?","Java format string explanation and examples","Explain the sliding window technique","How to develop a web crawler","How to use GDB to debug a C++ program","How does PyTorch FSDP work?","How to use torch.compile()","How does DeepSpeed ZeRO work?","Does torch.compile() work with DeepSpeed ZeRO?","Aerodynamics of hybrid rocket","What is the difference between a context-free grammar and a context-sensitive grammar?","This week's AI news recap","Tell me about medidation techniques","Solar energy in the US","Are electric toothbrushes really better?","Were Neanderthals smarter than humans?","Does ice cream make you live longer?","Benefits of intermittent fasting","How do submarine cables work?","How do points and miles work?","What is DeepSpeed?","Mauna Kea vs Mount Everest","Paul Graham Superlinear Returns"],L=300,B="".concat(L/1e3,"s"),U=60,F="".concat(U/1e3,"s"),getBackendEndpoint=()=>{let{hostname:t}=window.location;return"localhost"===t?"http://localhost:8500":"staging.phind.com"===t?"https://https-staging.api.phind.com":"https://https.api.phind.com"}},13662:function(t,n,r){"use strict";r.d(n,{$j:function(){return formatStreamData},Bj:function(){return convertAnswerHistoryToMessages},Fg:function(){return generateChallengeSeed},Ih:function(){return updateStreamData},Mz:function(){return createStreamWithAbort},N6:function(){return updateArray},N7:function(){return maxNumRequestsPerWindow},Nj:function(){return prngGeneral},TV:function(){return shuffle},Uj:function(){return streamAsyncIterable},WN:function(){return checkPaidUser},Zw:function(){return getLargestCodeBlock},_P:function(){return getHostFromUrl},as:function(){return formatCodeModeStreamData},cE:function(){return linearTransform},jv:function(){return isValidUrl},u2:function(){return formattedTimeStrUntilTomorrowUTC},xu:function(){return isInDevOrStagingMode}});var i=r(64487),o=r(81829);function formattedTimeStrUntilTomorrowUTC(){let t=new Date,n=(24-t.getUTCHours())*3600-60*t.getUTCMinutes()-t.getUTCSeconds();return"".concat(Math.floor(n/3600),"h ").concat(Math.floor(n%3600/60),"m")}let getEnvironmentString=()=>"production",isInDevOrStagingMode=()=>{let t=getEnvironmentString();return["development","staging"].includes(t)};async function*streamAsyncIterable(t){let n=t.getReader();try{for(;;){let{done:t,value:r}=await n.read();if(t)return;yield r}}catch(t){console.error(t),i.Tb(t)}finally{n.releaseLock()}}let createStreamWithAbort=(t,n)=>{let r=t.getReader();return new ReadableStream({async start(t){for(;;){if(n.aborted){r.cancel(),t.close();return}let{done:i,value:o}=await r.read();if(i){t.close();return}t.enqueue(o)}}})},updateArray=(t,n,r)=>{let i=[...t];return n>=i.length&&i.push(r),i[n]=r,i},shuffle=t=>t.map(t=>t).sort(()=>Math.random()-.5),getHostFromUrl=t=>new URL(t).hostname,mergeDicts=(t,n)=>{let r={...t};return Object.keys(n).forEach(t=>{Object.keys(r).includes(t)?"object"==typeof n[t]?r[t]=mergeDicts(r[t],n[t]):r[t]+=n[t]:r[t]=n[t]}),r},updateStreamData=(t,n)=>{let r=n.id,{delta:i}=n.choices[0];if(Object.keys(t).includes(r)){let n=mergeDicts(t[r].choices[0].delta,i);return{...t,[r]:{...t[r],choices:[{delta:n}]}}}return{...t,[r]:{chatCompletionId:r,...n}}},formatStreamData=t=>Object.values(t).map(t=>{let{delta:n}=t.choices[0],{role:r,content:i,function_call:o,name:s,metadata:a}=n,l=null==a?void 0:a.web_results,c={role:r,content:i,functionCall:o,name:s,metadata:{...a,webResults:l}};return c}),formatCodeModeStreamData=t=>Object.values(t).map(t=>{let n=t.id,{delta:r}=t.choices[0],{role:i,content:o,name:s,metadata:a,format_id:l}=r,c=null==a?void 0:a.web_results,u=o;null==o||Array.isArray(o)||(u=Object.keys(o).map(t=>parseInt(t,10)).sort().map(t=>o["".concat(t)])),u=u.map(t=>{if("function_call"===t.type){var n,r,i,o;let s=null!==(i=null===(n=t.function_call)||void 0===n?void 0:n.args)&&void 0!==i?i:"",a=null!==(o=null===(r=t.function_call)||void 0===r?void 0:r.name)&&void 0!==o?o:"";return{...t,function_call:{name:a,args:s}}}return t});let d={role:i,content:u,chatCompletionId:n,name:s,metadata:{...a,webResults:c},formatId:l};return d}),deterministicStringify=t=>{let handleValue=t=>"object"==typeof t&&null!==t?Array.isArray(t)?"[".concat(t.sort().map(t=>handleValue(t)).join(","),"]"):"{".concat(deterministicStringify(t),"}"):"number"==typeof t?t.toFixed(8).replace(/\.?0+$/,""):"boolean"==typeof t?t?"true":"false":"string"==typeof t?'"'.concat(t,'"'):null;return Object.keys(t).sort().reduce((n,r)=>{let i=handleValue(t[r]);return null!==i?"".concat(n).concat(n?",":"").concat(r,":").concat(i):n},"")};function prngGeneral(t,n,r,i){return(t*n+r)%i/i}function linearTransform(t){return 3.87*t-.42}function generateChallengeSeed(t){let n=deterministicStringify(t),r=encodeURIComponent(n);return function(t){let n=[...t],r=0;for(let t=0;t<n.length;t+=1)n[t].length>1||n[t].charCodeAt(0)>=256||(r=(r<<5)-r+n[t][0].charCodeAt(0)|0);return r}(r)}let maxNumRequestsPerWindow=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GPT-4",r=arguments.length>2?arguments[2]:void 0,i=0;switch(n){case"Claude Opus":i=0;break;case"GPT-4":i=o.O6;break;case"Phind-70B":i=o.vV}let s=r&&t.toLowerCase().includes("enterprise");if(r&&"Phind Plus"===t)switch(n){case"Claude Opus":i=0;break;case"GPT-4":case"Phind-70B":i=o.An}if(r&&("Phind Pro"===t||"Phind Pro Yearly"===t)||s)switch(n){case"Claude Opus":i=o.Ic;break;case"GPT-4":i=o.PF;break;case"Phind-70B":i=o.F2}return i},checkPaidUser=(t,n)=>!!(n&&(t.toLowerCase().includes("enterprise")||"Phind Plus"===t||"Phind Plus Yearly"===t||"Phind Pro"===t||"Phind Pro Yearly"===t));function isValidUrl(t){if(["\n","	","\r"].some(n=>t.includes(n)))return!1;try{new URL(t)}catch(t){return!1}return!0}let convertAnswerHistoryToMessages=t=>{let n=[];for(let r=0;r<t.length;r+=1){let{question:i,answer:o}=t[r];n.push({role:"user",content:i}),n.push({role:"assistant",content:o})}return n},getLargestCodeBlock=t=>{if(null===t.content||"string"!=typeof t.content)return null;let n=t.content.split("```"),r=n.filter((t,n)=>n%2==1),i=r.reduce((t,n)=>t.length>n.length?t:n,""),o=i.split("\n")[0],s=o.match(/^[a-z]+/),a=s?i.substring(s[0].length):i;return{language:s?s[0]:"",code:a}}},48794:function(t,n,r){"use strict";r.d(n,{n:function(){return s}});var i=r(8891),o=r.n(i);o().init("6d31cd4238973a84421371ef3929c915",{debug:!1,api_host:"/api"});let s={identify:t=>{o().identify(t)},alias:t=>{o().alias(t)},track:(t,n)=>{n?o().track(t,n):o().track(t)},people:{set:t=>{o().people.set(t)}},reset:()=>{o().reset()}}},21719:function(t,n,r){"use strict";r.d(n,{Z:function(){return useLocalStorage}});var i=r(67294);function useLocalStorage(t,n){let[r,o]=(0,i.useState)(()=>{{let r=localStorage.getItem(t);return null===r?"function"==typeof n?n():n:JSON.parse(r)}});return(0,i.useEffect)(()=>{localStorage.setItem(t,JSON.stringify(r))},[r]),[r,o]}},55973:function(){},65149:function(){},71633:function(){},47309:function(){},77663:function(t){!function(){var n={229:function(t){var n,r,i,o=t.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(t){if(n===setTimeout)return setTimeout(t,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(r){try{return n.call(null,t,0)}catch(r){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(t){n=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(t){r=defaultClearTimeout}}();var s=[],a=!1,l=-1;function cleanUpNextTick(){a&&i&&(a=!1,i.length?s=i.concat(s):l=-1,s.length&&drainQueue())}function drainQueue(){if(!a){var t=runTimeout(cleanUpNextTick);a=!0;for(var n=s.length;n;){for(i=s,s=[];++l<n;)i&&i[l].run();l=-1,n=s.length}i=null,a=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(n){try{return r.call(null,t)}catch(n){return r.call(this,t)}}}(t)}}function Item(t,n){this.fun=t,this.array=n}function noop(){}o.nextTick=function(t){var n=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];s.push(new Item(t,n)),1!==s.length||a||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.prependListener=noop,o.prependOnceListener=noop,o.listeners=function(t){return[]},o.binding=function(t){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function __nccwpck_require__(t){var i=r[t];if(void 0!==i)return i.exports;var o=r[t]={exports:{}},s=!0;try{n[t](o,o.exports,__nccwpck_require__),s=!1}finally{s&&delete r[t]}return o.exports}__nccwpck_require__.ab="//";var i=__nccwpck_require__(229);t.exports=i}()},9008:function(t,n,r){t.exports=r(79201)},25675:function(t,n,r){t.exports=r(645)},41664:function(t,n,r){t.exports=r(65170)},11163:function(t,n,r){t.exports=r(59974)},4298:function(t,n,r){t.exports=r(85354)},92703:function(t,n,r){"use strict";var i=r(50414);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,t.exports=function(){function shim(t,n,r,o,s,a){if(a!==i){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bigint:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return t.PropTypes=t,t}},45697:function(t,n,r){t.exports=r(92703)()},50414:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},77819:function(t,n,r){"use strict";r.d(n,{Z:function(){return b}});var i=r(94184),o=r.n(i),s=r(67294),a=r(39325),l=r(91505),c=r(94305);function parseDuration(t,n){let r=(0,l.Z)(t,n)||"",i=-1===r.indexOf("ms")?1e3:1;return parseFloat(r)*i}function transitionEndListener(t,n){let r=parseDuration(t,"transitionDuration"),i=parseDuration(t,"transitionDelay"),o=(0,c.Z)(t,r=>{r.target===t&&(o(),n(r))},r+i)}var u=r(35654),d=r(8285),p=r(85893);let m=s.forwardRef(({onEnter:t,onEntering:n,onEntered:r,onExit:i,onExiting:o,onExited:l,addEndListener:c,children:m,childRef:_,...v},b)=>{let E=(0,s.useRef)(null),x=(0,u.Z)(E,_),attachRef=t=>{x((0,d.Z)(t))},normalize=t=>n=>{t&&E.current&&t(E.current,n)},w=(0,s.useCallback)(normalize(t),[t]),k=(0,s.useCallback)(normalize(n),[n]),T=(0,s.useCallback)(normalize(r),[r]),C=(0,s.useCallback)(normalize(i),[i]),R=(0,s.useCallback)(normalize(o),[o]),M=(0,s.useCallback)(normalize(l),[l]),O=(0,s.useCallback)(normalize(c),[c]);return(0,p.jsx)(a.ZP,{ref:b,...v,onEnter:w,onEntered:T,onEntering:k,onExit:C,onExited:M,onExiting:R,addEndListener:O,nodeRef:E,children:"function"==typeof m?(t,n)=>m(t,{...n,ref:attachRef}):s.cloneElement(m,{ref:attachRef})})}),_={[a.d0]:"show",[a.cn]:"show"},v=s.forwardRef(({className:t,children:n,transitionClasses:r={},...i},a)=>{let l=(0,s.useCallback)((t,n)=>{t.offsetHeight,null==i.onEnter||i.onEnter(t,n)},[i]);return(0,p.jsx)(m,{ref:a,addEndListener:transitionEndListener,...i,onEnter:l,childRef:n.ref,children:(i,a)=>s.cloneElement(n,{...a,className:o()("fade",t,n.props.className,_[i],r[i])})})});v.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},v.displayName="Fade";var b=v},50699:function(t,n,r){"use strict";let i,o;r.d(n,{Z:function(){return es}});var s,a=r(94184),l=r.n(a),c=r(9351),u=r(23004),d=r(67216),p=r(30099);function scrollbarSize(t){if((!s&&0!==s||t)&&u.Z){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),s=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return s}var m=r(32092),_=r(51176),v=r(35654),b=r(76852),E=r(94305),x=r(67294);function activeElement(t){void 0===t&&(t=(0,d.Z)());try{var n=t.activeElement;if(!n||!n.nodeName)return null;return n}catch(n){return t.body}}var w=r(90424),k=r(72950),T=r(73935),C=r(6454),R=r(91505);let M="data-rr-ui-modal-open";var O=class{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return function(t=document){let n=t.defaultView;return Math.abs(n.innerWidth-t.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){let n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();t.style={overflow:i.style.overflow,[r]:i.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt((0,R.Z)(i,r)||"0",10)+t.scrollBarWidth}px`),i.setAttribute(M,""),(0,R.Z)(i,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){let n=this.getElement();n.removeAttribute(M),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return-1!==n||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),0!==n||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state))),n}remove(t){let n=this.modals.indexOf(t);-1!==n&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}},I=r(54194),N=r(12963),D=r(722),P=r(96899),j=r(85893);let A=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"],L=(0,x.forwardRef)((t,n)=>{var r;let{show:o=!1,role:s="dialog",className:a,style:l,children:c,backdrop:d=!0,keyboard:p=!0,onBackdropClick:m,onEscapeKeyDown:v,transition:E,runTransition:R,backdropTransition:M,runBackdropTransition:L,autoFocus:B=!0,enforceFocus:U=!0,restoreFocus:F=!0,restoreFocusOptions:H,renderDialog:G,renderBackdrop:W=t=>(0,j.jsx)("div",Object.assign({},t)),manager:q,container:Y,onShow:z,onHide:Z=()=>{},onExit:V,onExited:K,onExiting:J,onEnter:X,onEntering:Q,onEntered:ee}=t,et=function(t,n){if(null==t)return{};var r,i,o={},s=Object.keys(t);for(i=0;i<s.length;i++)r=s[i],n.indexOf(r)>=0||(o[r]=t[r]);return o}(t,A),en=(0,I.Z)(Y),er=function(t){let n=(0,N.Z)(),r=t||(i||(i=new O({ownerDocument:null==n?void 0:n.document})),i),o=(0,x.useRef)({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>r.add(o.current),remove:()=>r.remove(o.current),isTopModal:()=>r.isTopModal(o.current),setDialogRef:(0,x.useCallback)(t=>{o.current.dialog=t},[]),setBackdropRef:(0,x.useCallback)(t=>{o.current.backdrop=t},[])})}(q),ei=(0,C.Z)(),eo=(r=(0,x.useRef)(null),(0,x.useEffect)(function(){r.current=o}),r.current),[es,ea]=(0,x.useState)(!o),el=(0,x.useRef)(null);(0,x.useImperativeHandle)(n,()=>er,[er]),u.Z&&!eo&&o&&(el.current=activeElement()),o&&es&&ea(!1);let ec=(0,_.Z)(()=>{if(er.add(),em.current=(0,k.Z)(document,"keydown",eh),ef.current=(0,k.Z)(document,"focus",()=>setTimeout(ed),!0),z&&z(),B){let t=activeElement(document);er.dialog&&t&&!(0,w.Z)(er.dialog,t)&&(el.current=t,er.dialog.focus())}}),eu=(0,_.Z)(()=>{if(er.remove(),null==em.current||em.current(),null==ef.current||ef.current(),F){var t;null==(t=el.current)||null==t.focus||t.focus(H),el.current=null}});(0,x.useEffect)(()=>{o&&en&&ec()},[o,en,ec]),(0,x.useEffect)(()=>{es&&eu()},[es,eu]),(0,b.Z)(()=>{eu()});let ed=(0,_.Z)(()=>{if(!U||!ei()||!er.isTopModal())return;let t=activeElement();er.dialog&&t&&!(0,w.Z)(er.dialog,t)&&er.dialog.focus()}),ep=(0,_.Z)(t=>{t.target===t.currentTarget&&(null==m||m(t),!0===d&&Z())}),eh=(0,_.Z)(t=>{p&&(0,P.k)(t)&&er.isTopModal()&&(null==v||v(t),t.defaultPrevented||Z())}),ef=(0,x.useRef)(),em=(0,x.useRef)();if(!en)return null;let eg=Object.assign({role:s,ref:er.setDialogRef,"aria-modal":"dialog"===s||void 0},et,{style:l,className:a,tabIndex:-1}),e_=G?G(eg):(0,j.jsx)("div",Object.assign({},eg,{children:x.cloneElement(c,{role:"document"})}));e_=(0,D.sD)(E,R,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!o,onExit:V,onExiting:J,onExited:(...t)=>{ea(!0),null==K||K(...t)},onEnter:X,onEntering:Q,onEntered:ee,children:e_});let ey=null;return d&&(ey=W({ref:er.setBackdropRef,onClick:ep}),ey=(0,D.sD)(M,L,{in:!!o,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ey})),(0,j.jsx)(j.Fragment,{children:T.createPortal((0,j.jsxs)(j.Fragment,{children:[ey,e_]}),en)})});L.displayName="Modal";var B=Object.assign(L,{Manager:O}),U=r(58255),F=Function.prototype.bind.call(Function.prototype.call,[].slice);function qsa(t,n){return F(t.querySelectorAll(n))}var H=r(74277);let G={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};let BootstrapModalManager=class BootstrapModalManager extends O{adjustAndStore(t,n,r){let i=n.style[t];n.dataset[t]=i,(0,R.Z)(n,{[t]:`${parseFloat((0,R.Z)(n,t))+r}px`})}restore(t,n){let r=n.dataset[t];void 0!==r&&(delete n.dataset[t],(0,R.Z)(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);let n=this.getElement();if((0,U.Z)(n,"modal-open"),!t.scrollBarWidth)return;let r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";qsa(n,G.FIXED_CONTENT).forEach(n=>this.adjustAndStore(r,n,t.scrollBarWidth)),qsa(n,G.STICKY_CONTENT).forEach(n=>this.adjustAndStore(i,n,-t.scrollBarWidth)),qsa(n,G.NAVBAR_TOGGLER).forEach(n=>this.adjustAndStore(i,n,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);let n=this.getElement();(0,H.Z)(n,"modal-open");let r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";qsa(n,G.FIXED_CONTENT).forEach(t=>this.restore(r,t)),qsa(n,G.STICKY_CONTENT).forEach(t=>this.restore(i,t)),qsa(n,G.NAVBAR_TOGGLER).forEach(t=>this.restore(i,t))}};var W=r(77819),q=r(66611),Y=(0,q.Z)("modal-body");let z=x.createContext({onHide(){}});var Z=r(76792);let V=x.forwardRef(({bsPrefix:t,className:n,contentClassName:r,centered:i,size:o,fullscreen:s,children:a,scrollable:c,...u},d)=>{t=(0,Z.vE)(t,"modal");let p=`${t}-dialog`,m="string"==typeof s?`${t}-fullscreen-${s}`:`${t}-fullscreen`;return(0,j.jsx)("div",{...u,ref:d,className:l()(p,n,o&&`${t}-${o}`,i&&`${p}-centered`,c&&`${p}-scrollable`,s&&m),children:(0,j.jsx)("div",{className:l()(`${t}-content`,r),children:a})})});V.displayName="ModalDialog";var K=(0,q.Z)("modal-footer"),J=r(45697),X=r.n(J);let Q={"aria-label":X().string,onClick:X().func,variant:X().oneOf(["white"])},ee=x.forwardRef(({className:t,variant:n,...r},i)=>(0,j.jsx)("button",{ref:i,type:"button",className:l()("btn-close",n&&`btn-close-${n}`,t),...r}));ee.displayName="CloseButton",ee.propTypes=Q,ee.defaultProps={"aria-label":"Close"};let et=x.forwardRef(({closeLabel:t,closeVariant:n,closeButton:r,onHide:i,children:o,...s},a)=>{let l=(0,x.useContext)(z),c=(0,_.Z)(()=>{null==l||l.onHide(),null==i||i()});return(0,j.jsxs)("div",{ref:a,...s,children:[o,r&&(0,j.jsx)(ee,{"aria-label":t,variant:n,onClick:c})]})});et.defaultProps={closeLabel:"Close",closeButton:!1};let en=x.forwardRef(({bsPrefix:t,className:n,...r},i)=>(t=(0,Z.vE)(t,"modal-header"),(0,j.jsx)(et,{ref:i,...r,className:l()(n,t)})));en.displayName="ModalHeader",en.defaultProps={closeLabel:"Close",closeButton:!1};let er=x.forwardRef((t,n)=>(0,j.jsx)("div",{...t,ref:n,className:l()(t.className,"h4")}));var ei=(0,q.Z)("modal-title",{Component:er});function DialogTransition(t){return(0,j.jsx)(W.Z,{...t,timeout:null})}function BackdropTransition(t){return(0,j.jsx)(W.Z,{...t,timeout:null})}let eo=x.forwardRef(({bsPrefix:t,className:n,style:r,dialogClassName:i,contentClassName:s,children:a,dialogAs:w,"aria-labelledby":k,"aria-describedby":T,"aria-label":C,show:R,animation:M,backdrop:O,keyboard:I,onEscapeKeyDown:N,onShow:D,onHide:P,container:A,autoFocus:L,enforceFocus:U,restoreFocus:F,restoreFocusOptions:H,onEntered:G,onExit:W,onExiting:q,onEnter:Y,onEntering:V,onExited:K,backdropClassName:J,manager:X,...Q},ee)=>{let[et,en]=(0,x.useState)({}),[er,ei]=(0,x.useState)(!1),eo=(0,x.useRef)(!1),es=(0,x.useRef)(!1),ea=(0,x.useRef)(null),[el,ec]=(0,m.Z)(),eu=(0,v.Z)(ee,ec),ed=(0,_.Z)(P),ep=(0,Z.SC)();t=(0,Z.vE)(t,"modal");let eh=(0,x.useMemo)(()=>({onHide:ed}),[ed]);function getModalManager(){return X||(o||(o=new BootstrapModalManager({isRTL:ep})),o)}function updateDialogStyle(t){if(!u.Z)return;let n=getModalManager().getScrollbarWidth()>0,r=t.scrollHeight>(0,d.Z)(t).documentElement.clientHeight;en({paddingRight:n&&!r?scrollbarSize():void 0,paddingLeft:!n&&r?scrollbarSize():void 0})}let ef=(0,_.Z)(()=>{el&&updateDialogStyle(el.dialog)});(0,b.Z)(()=>{(0,p.Z)(window,"resize",ef),null==ea.current||ea.current()});let handleDialogMouseDown=()=>{eo.current=!0},handleMouseUp=t=>{eo.current&&el&&t.target===el.dialog&&(es.current=!0),eo.current=!1},handleStaticModalAnimation=()=>{ei(!0),ea.current=(0,E.Z)(el.dialog,()=>{ei(!1)})},handleStaticBackdropClick=t=>{t.target===t.currentTarget&&handleStaticModalAnimation()},handleClick=t=>{if("static"===O){handleStaticBackdropClick(t);return}if(es.current||t.target!==t.currentTarget){es.current=!1;return}null==P||P()},em=(0,x.useCallback)(n=>(0,j.jsx)("div",{...n,className:l()(`${t}-backdrop`,J,!M&&"show")}),[M,J,t]),eg={...r,...et};return eg.display="block",(0,j.jsx)(z.Provider,{value:eh,children:(0,j.jsx)(B,{show:R,ref:eu,backdrop:O,container:A,keyboard:!0,autoFocus:L,enforceFocus:U,restoreFocus:F,restoreFocusOptions:H,onEscapeKeyDown:t=>{I?null==N||N(t):(t.preventDefault(),"static"===O&&handleStaticModalAnimation())},onShow:D,onHide:P,onEnter:(t,n)=>{t&&updateDialogStyle(t),null==Y||Y(t,n)},onEntering:(t,n)=>{null==V||V(t,n),(0,c.ZP)(window,"resize",ef)},onEntered:G,onExit:t=>{null==ea.current||ea.current(),null==W||W(t)},onExiting:q,onExited:t=>{t&&(t.style.display=""),null==K||K(t),(0,p.Z)(window,"resize",ef)},manager:getModalManager(),transition:M?DialogTransition:void 0,backdropTransition:M?BackdropTransition:void 0,renderBackdrop:em,renderDialog:r=>(0,j.jsx)("div",{role:"dialog",...r,style:eg,className:l()(n,t,er&&`${t}-static`,!M&&"show"),onClick:O?handleClick:void 0,onMouseUp:handleMouseUp,"aria-label":C,"aria-labelledby":k,"aria-describedby":T,children:(0,j.jsx)(w,{...Q,onMouseDown:handleDialogMouseDown,className:i,contentClassName:s,children:a})})})})});eo.displayName="Modal",eo.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:V};var es=Object.assign(eo,{Body:Y,Header:en,Title:ei,Footer:K,Dialog:V,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},96748:function(t,n,r){"use strict";r.d(n,{Z:function(){return ev}});var i,o,s,a,l,c=r(67294),u=r(94184),d=r.n(u),p=r(73935),m=r(32092),_=r(35654),v=Object.prototype.hasOwnProperty;function find(t,n,r){for(r of t.keys())if(dequal(r,n))return r}function dequal(t,n){var r,i,o;if(t===n)return!0;if(t&&n&&(r=t.constructor)===n.constructor){if(r===Date)return t.getTime()===n.getTime();if(r===RegExp)return t.toString()===n.toString();if(r===Array){if((i=t.length)===n.length)for(;i--&&dequal(t[i],n[i]););return-1===i}if(r===Set){if(t.size!==n.size)return!1;for(i of t)if((o=i)&&"object"==typeof o&&!(o=find(n,o))||!n.has(o))return!1;return!0}if(r===Map){if(t.size!==n.size)return!1;for(i of t)if((o=i[0])&&"object"==typeof o&&!(o=find(n,o))||!dequal(i[1],n.get(o)))return!1;return!0}if(r===ArrayBuffer)t=new Uint8Array(t),n=new Uint8Array(n);else if(r===DataView){if((i=t.byteLength)===n.byteLength)for(;i--&&t.getInt8(i)===n.getInt8(i););return-1===i}if(ArrayBuffer.isView(t)){if((i=t.byteLength)===n.byteLength)for(;i--&&t[i]===n[i];);return-1===i}if(!r||"object"==typeof t){for(r in i=0,t)if(v.call(t,r)&&++i&&!v.call(n,r)||!(r in n)||!dequal(t[r],n[r]))return!1;return Object.keys(n).length===i}}return t!=t&&n!=n}var b=r(6454),esm_useSafeState=function(t){var n=(0,b.Z)();return[t[0],(0,c.useCallback)(function(r){if(n())return t[1](r)},[n,t[1]])]};function getBasePlacement(t){return t.split("-")[0]}function getWindow(t){if(null==t)return window;if("[object Window]"!==t.toString()){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function isElement(t){var n=getWindow(t).Element;return t instanceof n||t instanceof Element}function isHTMLElement(t){var n=getWindow(t).HTMLElement;return t instanceof n||t instanceof HTMLElement}function isShadowRoot(t){if("undefined"==typeof ShadowRoot)return!1;var n=getWindow(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}var E=Math.max,x=Math.min,w=Math.round;function getUAString(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);var i=t.getBoundingClientRect(),o=1,s=1;n&&isHTMLElement(t)&&(o=t.offsetWidth>0&&w(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&w(i.height)/t.offsetHeight||1);var a=(isElement(t)?getWindow(t):window).visualViewport,l=!isLayoutViewport()&&r,c=(i.left+(l&&a?a.offsetLeft:0))/o,u=(i.top+(l&&a?a.offsetTop:0))/s,d=i.width/o,p=i.height/s;return{width:d,height:p,top:u,right:c+d,bottom:u+p,left:c,x:c,y:u}}function getLayoutRect(t){var n=getBoundingClientRect(t),r=t.offsetWidth,i=t.offsetHeight;return 1>=Math.abs(n.width-r)&&(r=n.width),1>=Math.abs(n.height-i)&&(i=n.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:i}}function contains(t,n){var r=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(r&&isShadowRoot(r)){var i=n;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function getNodeName(t){return t?(t.nodeName||"").toLowerCase():null}function getComputedStyle(t){return getWindow(t).getComputedStyle(t)}function getDocumentElement(t){return((isElement(t)?t.ownerDocument:t.document)||window.document).documentElement}function getParentNode(t){return"html"===getNodeName(t)?t:t.assignedSlot||t.parentNode||(isShadowRoot(t)?t.host:null)||getDocumentElement(t)}function getTrueOffsetParent(t){return isHTMLElement(t)&&"fixed"!==getComputedStyle(t).position?t.offsetParent:null}function getOffsetParent(t){for(var n=getWindow(t),r=getTrueOffsetParent(t);r&&["table","td","th"].indexOf(getNodeName(r))>=0&&"static"===getComputedStyle(r).position;)r=getTrueOffsetParent(r);return r&&("html"===getNodeName(r)||"body"===getNodeName(r)&&"static"===getComputedStyle(r).position)?n:r||function(t){var n=/firefox/i.test(getUAString());if(/Trident/i.test(getUAString())&&isHTMLElement(t)&&"fixed"===getComputedStyle(t).position)return null;var r=getParentNode(t);for(isShadowRoot(r)&&(r=r.host);isHTMLElement(r)&&0>["html","body"].indexOf(getNodeName(r));){var i=getComputedStyle(r);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||n&&"filter"===i.willChange||n&&i.filter&&"none"!==i.filter)return r;r=r.parentNode}return null}(t)||n}function getMainAxisFromPlacement(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function within(t,n,r){return E(t,x(n,r))}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(t){return Object.assign({},getFreshSideObject(),t)}function expandToHashMap(t,n){return n.reduce(function(n,r){return n[r]=t,n},{})}var k="bottom",T="right",C="left",R="auto",M=["top",k,T,C],O="start",I="viewport",N="popper",D=M.reduce(function(t,n){return t.concat([n+"-"+O,n+"-end"])},[]),P=[].concat(M,[R]).reduce(function(t,n){return t.concat([n,n+"-"+O,n+"-end"])},[]),j=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function getVariation(t){return t.split("-")[1]}var A={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mapToStyles(t){var n,r,i,o,s,a,l,c=t.popper,u=t.popperRect,d=t.placement,p=t.variation,m=t.offsets,_=t.position,v=t.gpuAcceleration,b=t.adaptive,E=t.roundOffsets,x=t.isFixed,R=m.x,M=void 0===R?0:R,O=m.y,I=void 0===O?0:O,N="function"==typeof E?E({x:M,y:I}):{x:M,y:I};M=N.x,I=N.y;var D=m.hasOwnProperty("x"),P=m.hasOwnProperty("y"),j=C,L="top",B=window;if(b){var U=getOffsetParent(c),F="clientHeight",H="clientWidth";U===getWindow(c)&&"static"!==getComputedStyle(U=getDocumentElement(c)).position&&"absolute"===_&&(F="scrollHeight",H="scrollWidth"),("top"===d||(d===C||d===T)&&"end"===p)&&(L=k,I-=(x&&U===B&&B.visualViewport?B.visualViewport.height:U[F])-u.height,I*=v?1:-1),(d===C||("top"===d||d===k)&&"end"===p)&&(j=T,M-=(x&&U===B&&B.visualViewport?B.visualViewport.width:U[H])-u.width,M*=v?1:-1)}var G=Object.assign({position:_},b&&A),W=!0===E?(n={x:M,y:I},r=getWindow(c),i=n.x,o=n.y,{x:w(i*(s=r.devicePixelRatio||1))/s||0,y:w(o*s)/s||0}):{x:M,y:I};return(M=W.x,I=W.y,v)?Object.assign({},G,((l={})[L]=P?"0":"",l[j]=D?"0":"",l.transform=1>=(B.devicePixelRatio||1)?"translate("+M+"px, "+I+"px)":"translate3d("+M+"px, "+I+"px, 0)",l)):Object.assign({},G,((a={})[L]=P?I+"px":"",a[j]=D?M+"px":"",a.transform="",a))}var L={passive:!0},B={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(t){return t.replace(/left|right|bottom|top/g,function(t){return B[t]})}var U={start:"end",end:"start"};function getOppositeVariationPlacement(t){return t.replace(/start|end/g,function(t){return U[t]})}function getWindowScroll(t){var n=getWindow(t);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function getWindowScrollBarX(t){return getBoundingClientRect(getDocumentElement(t)).left+getWindowScroll(t).scrollLeft}function isScrollParent(t){var n=getComputedStyle(t),r=n.overflow,i=n.overflowX,o=n.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+i)}function listScrollParents(t,n){void 0===n&&(n=[]);var r,i=function getScrollParent(t){return["html","body","#document"].indexOf(getNodeName(t))>=0?t.ownerDocument.body:isHTMLElement(t)&&isScrollParent(t)?t:getScrollParent(getParentNode(t))}(t),o=i===(null==(r=t.ownerDocument)?void 0:r.body),s=getWindow(i),a=o?[s].concat(s.visualViewport||[],isScrollParent(i)?i:[]):i,l=n.concat(a);return o?l:l.concat(listScrollParents(getParentNode(a)))}function rectToClientRect(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function getClientRectFromMixedType(t,n,r){var i,o,s,a,l,c,u,d,p,m;return n===I?rectToClientRect(function(t,n){var r=getWindow(t),i=getDocumentElement(t),o=r.visualViewport,s=i.clientWidth,a=i.clientHeight,l=0,c=0;if(o){s=o.width,a=o.height;var u=isLayoutViewport();(u||!u&&"fixed"===n)&&(l=o.offsetLeft,c=o.offsetTop)}return{width:s,height:a,x:l+getWindowScrollBarX(t),y:c}}(t,r)):isElement(n)?((i=getBoundingClientRect(n,!1,"fixed"===r)).top=i.top+n.clientTop,i.left=i.left+n.clientLeft,i.bottom=i.top+n.clientHeight,i.right=i.left+n.clientWidth,i.width=n.clientWidth,i.height=n.clientHeight,i.x=i.left,i.y=i.top,i):rectToClientRect((o=getDocumentElement(t),a=getDocumentElement(o),l=getWindowScroll(o),c=null==(s=o.ownerDocument)?void 0:s.body,u=E(a.scrollWidth,a.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),d=E(a.scrollHeight,a.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),p=-l.scrollLeft+getWindowScrollBarX(o),m=-l.scrollTop,"rtl"===getComputedStyle(c||a).direction&&(p+=E(a.clientWidth,c?c.clientWidth:0)-u),{width:u,height:d,x:p,y:m}))}function computeOffsets(t){var n,r=t.reference,i=t.element,o=t.placement,s=o?getBasePlacement(o):null,a=o?getVariation(o):null,l=r.x+r.width/2-i.width/2,c=r.y+r.height/2-i.height/2;switch(s){case"top":n={x:l,y:r.y-i.height};break;case k:n={x:l,y:r.y+r.height};break;case T:n={x:r.x+r.width,y:c};break;case C:n={x:r.x-i.width,y:c};break;default:n={x:r.x,y:r.y}}var u=s?getMainAxisFromPlacement(s):null;if(null!=u){var d="y"===u?"height":"width";switch(a){case O:n[u]=n[u]-(r[d]/2-i[d]/2);break;case"end":n[u]=n[u]+(r[d]/2-i[d]/2)}}return n}function detectOverflow(t,n){void 0===n&&(n={});var r,i,o,s,a,l,c,u=n,d=u.placement,p=void 0===d?t.placement:d,m=u.strategy,_=void 0===m?t.strategy:m,v=u.boundary,b=u.rootBoundary,w=u.elementContext,C=void 0===w?N:w,R=u.altBoundary,O=u.padding,D=void 0===O?0:O,P=mergePaddingObject("number"!=typeof D?D:expandToHashMap(D,M)),j=t.rects.popper,A=t.elements[void 0!==R&&R?C===N?"reference":N:C],L=(r=isElement(A)?A:A.contextElement||getDocumentElement(t.elements.popper),l=(a=[].concat("clippingParents"===(i=void 0===v?"clippingParents":v)?(o=listScrollParents(getParentNode(r)),isElement(s=["absolute","fixed"].indexOf(getComputedStyle(r).position)>=0&&isHTMLElement(r)?getOffsetParent(r):r)?o.filter(function(t){return isElement(t)&&contains(t,s)&&"body"!==getNodeName(t)}):[]):[].concat(i),[void 0===b?I:b]))[0],(c=a.reduce(function(t,n){var i=getClientRectFromMixedType(r,n,_);return t.top=E(i.top,t.top),t.right=x(i.right,t.right),t.bottom=x(i.bottom,t.bottom),t.left=E(i.left,t.left),t},getClientRectFromMixedType(r,l,_))).width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c),B=getBoundingClientRect(t.elements.reference),U=computeOffsets({reference:B,element:j,strategy:"absolute",placement:p}),F=rectToClientRect(Object.assign({},j,U)),H=C===N?F:B,G={top:L.top-H.top+P.top,bottom:H.bottom-L.bottom+P.bottom,left:L.left-H.left+P.left,right:H.right-L.right+P.right},W=t.modifiersData.offset;if(C===N&&W){var q=W[p];Object.keys(G).forEach(function(t){var n=[T,k].indexOf(t)>=0?1:-1,r=["top",k].indexOf(t)>=0?"y":"x";G[t]+=q[r]*n})}return G}function getSideOffsets(t,n,r){return void 0===r&&(r={x:0,y:0}),{top:t.top-n.height-r.y,right:t.right-n.width+r.x,bottom:t.bottom-n.height+r.y,left:t.left-n.width-r.x}}function isAnySideFullyClipped(t){return["top",T,k,C].some(function(n){return t[n]>=0})}var F={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return!n.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}let H=(s=void 0===(o=(i={defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var n=t.state,r=t.name,i=n.rects.reference,o=n.rects.popper,s=n.modifiersData.preventOverflow,a=detectOverflow(n,{elementContext:"reference"}),l=detectOverflow(n,{altBoundary:!0}),c=getSideOffsets(a,i),u=getSideOffsets(l,o,s),d=isAnySideFullyClipped(c),p=isAnySideFullyClipped(u);n.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:p},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var n=t.state,r=t.name;n.modifiersData[r]=computeOffsets({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var n=t.state,r=t.options,i=r.gpuAcceleration,o=r.adaptive,s=r.roundOffsets,a=void 0===s||s,l={placement:getBasePlacement(n.placement),variation:getVariation(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:void 0===i||i,isFixed:"fixed"===n.options.strategy};null!=n.modifiersData.popperOffsets&&(n.styles.popper=Object.assign({},n.styles.popper,mapToStyles(Object.assign({},l,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:void 0===o||o,roundOffsets:a})))),null!=n.modifiersData.arrow&&(n.styles.arrow=Object.assign({},n.styles.arrow,mapToStyles(Object.assign({},l,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}},{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var n=t.state,r=t.instance,i=t.options,o=i.scroll,s=void 0===o||o,a=i.resize,l=void 0===a||a,c=getWindow(n.elements.popper),u=[].concat(n.scrollParents.reference,n.scrollParents.popper);return s&&u.forEach(function(t){t.addEventListener("scroll",r.update,L)}),l&&c.addEventListener("resize",r.update,L),function(){s&&u.forEach(function(t){t.removeEventListener("scroll",r.update,L)}),l&&c.removeEventListener("resize",r.update,L)}},data:{}},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var n=t.state,r=t.options,i=t.name,o=r.offset,s=void 0===o?[0,0]:o,a=P.reduce(function(t,r){var i,o,a,l,c,u;return t[r]=(i=n.rects,a=[C,"top"].indexOf(o=getBasePlacement(r))>=0?-1:1,c=(l="function"==typeof s?s(Object.assign({},i,{placement:r})):s)[0],u=l[1],c=c||0,u=(u||0)*a,[C,T].indexOf(o)>=0?{x:u,y:c}:{x:c,y:u}),t},{}),l=a[n.placement],c=l.x,u=l.y;null!=n.modifiersData.popperOffsets&&(n.modifiersData.popperOffsets.x+=c,n.modifiersData.popperOffsets.y+=u),n.modifiersData[i]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var n=t.state,r=t.options,i=t.name;if(!n.modifiersData[i]._skip){for(var o=r.mainAxis,s=void 0===o||o,a=r.altAxis,l=void 0===a||a,c=r.fallbackPlacements,u=r.padding,d=r.boundary,p=r.rootBoundary,m=r.altBoundary,_=r.flipVariations,v=void 0===_||_,b=r.allowedAutoPlacements,E=n.options.placement,x=getBasePlacement(E)===E,w=c||(x||!v?[getOppositePlacement(E)]:function(t){if(getBasePlacement(t)===R)return[];var n=getOppositePlacement(t);return[getOppositeVariationPlacement(t),n,getOppositeVariationPlacement(n)]}(E)),I=[E].concat(w).reduce(function(t,r){var i,o,s,a,l,c,m,_,E,x,w,k;return t.concat(getBasePlacement(r)===R?(o=(i={placement:r,boundary:d,rootBoundary:p,padding:u,flipVariations:v,allowedAutoPlacements:b}).placement,s=i.boundary,a=i.rootBoundary,l=i.padding,c=i.flipVariations,_=void 0===(m=i.allowedAutoPlacements)?P:m,0===(w=(x=(E=getVariation(o))?c?D:D.filter(function(t){return getVariation(t)===E}):M).filter(function(t){return _.indexOf(t)>=0})).length&&(w=x),Object.keys(k=w.reduce(function(t,r){return t[r]=detectOverflow(n,{placement:r,boundary:s,rootBoundary:a,padding:l})[getBasePlacement(r)],t},{})).sort(function(t,n){return k[t]-k[n]})):r)},[]),N=n.rects.reference,j=n.rects.popper,A=new Map,L=!0,B=I[0],U=0;U<I.length;U++){var F=I[U],H=getBasePlacement(F),G=getVariation(F)===O,W=["top",k].indexOf(H)>=0,q=W?"width":"height",Y=detectOverflow(n,{placement:F,boundary:d,rootBoundary:p,altBoundary:m,padding:u}),z=W?G?T:C:G?k:"top";N[q]>j[q]&&(z=getOppositePlacement(z));var Z=getOppositePlacement(z),V=[];if(s&&V.push(Y[H]<=0),l&&V.push(Y[z]<=0,Y[Z]<=0),V.every(function(t){return t})){B=F,L=!1;break}A.set(F,V)}if(L)for(var K=v?3:1,_loop=function(t){var n=I.find(function(n){var r=A.get(n);if(r)return r.slice(0,t).every(function(t){return t})});if(n)return B=n,"break"},J=K;J>0&&"break"!==_loop(J);J--);n.placement!==B&&(n.modifiersData[i]._skip=!0,n.placement=B,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var n=t.state,r=t.options,i=t.name,o=r.mainAxis,s=r.altAxis,a=r.boundary,l=r.rootBoundary,c=r.altBoundary,u=r.padding,d=r.tether,p=void 0===d||d,m=r.tetherOffset,_=void 0===m?0:m,v=detectOverflow(n,{boundary:a,rootBoundary:l,padding:u,altBoundary:c}),b=getBasePlacement(n.placement),w=getVariation(n.placement),R=!w,M=getMainAxisFromPlacement(b),I="x"===M?"y":"x",N=n.modifiersData.popperOffsets,D=n.rects.reference,P=n.rects.popper,j="function"==typeof _?_(Object.assign({},n.rects,{placement:n.placement})):_,A="number"==typeof j?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),L=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,B={x:0,y:0};if(N){if(void 0===o||o){var U,F="y"===M?"top":C,H="y"===M?k:T,G="y"===M?"height":"width",W=N[M],q=W+v[F],Y=W-v[H],z=p?-P[G]/2:0,Z=w===O?D[G]:P[G],V=w===O?-P[G]:-D[G],K=n.elements.arrow,J=p&&K?getLayoutRect(K):{width:0,height:0},X=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Q=X[F],ee=X[H],et=within(0,D[G],J[G]),en=R?D[G]/2-z-et-Q-A.mainAxis:Z-et-Q-A.mainAxis,er=R?-D[G]/2+z+et+ee+A.mainAxis:V+et+ee+A.mainAxis,ei=n.elements.arrow&&getOffsetParent(n.elements.arrow),eo=ei?"y"===M?ei.clientTop||0:ei.clientLeft||0:0,es=null!=(U=null==L?void 0:L[M])?U:0,ea=W+en-es-eo,el=W+er-es,ec=within(p?x(q,ea):q,W,p?E(Y,el):Y);N[M]=ec,B[M]=ec-W}if(void 0!==s&&s){var eu,ed,ep="x"===M?"top":C,eh="x"===M?k:T,ef=N[I],em="y"===I?"height":"width",eg=ef+v[ep],e_=ef-v[eh],ey=-1!==["top",C].indexOf(b),ev=null!=(ed=null==L?void 0:L[I])?ed:0,eb=ey?eg:ef-D[em]-P[em]-ev+A.altAxis,eS=ey?ef+D[em]+P[em]-ev-A.altAxis:e_,eE=p&&ey?(eu=within(eb,ef,eS))>eS?eS:eu:within(p?eb:eg,ef,p?eS:e_);N[I]=eE,B[I]=eE-ef}n.modifiersData[i]=B}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var n,r,i=t.state,o=t.name,s=t.options,a=i.elements.arrow,l=i.modifiersData.popperOffsets,c=getBasePlacement(i.placement),u=getMainAxisFromPlacement(c),d=[C,T].indexOf(c)>=0?"height":"width";if(a&&l){var p=mergePaddingObject("number"!=typeof(n="function"==typeof(n=s.padding)?n(Object.assign({},i.rects,{placement:i.placement})):n)?n:expandToHashMap(n,M)),m=getLayoutRect(a),_="y"===u?"top":C,v="y"===u?k:T,b=i.rects.reference[d]+i.rects.reference[u]-l[u]-i.rects.popper[d],E=l[u]-i.rects.reference[u],x=getOffsetParent(a),w=x?"y"===u?x.clientHeight||0:x.clientWidth||0:0,R=p[_],O=w-m[d]-p[v],I=w/2-m[d]/2+(b/2-E/2),N=within(R,I,O);i.modifiersData[o]=((r={})[u]=N,r.centerOffset=N-I,r)}},effect:function(t){var n=t.state,r=t.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"!=typeof i||(i=n.elements.popper.querySelector(i)))&&contains(n.elements.popper,i)&&(n.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}]}).defaultModifiers)?[]:o,l=void 0===(a=i.defaultOptions)?F:a,function(t,n,r){void 0===r&&(r=l);var i,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},F,l),modifiersData:{},elements:{reference:t,popper:n},attributes:{},styles:{}},a=[],c=!1,u={state:o,setOptions:function(r){var i,c,d,p,m,_="function"==typeof r?r(o.options):r;cleanupModifierEffects(),o.options=Object.assign({},l,o.options,_),o.scrollParents={reference:isElement(t)?listScrollParents(t):t.contextElement?listScrollParents(t.contextElement):[],popper:listScrollParents(n)};var v=(c=Object.keys(i=[].concat(s,o.options.modifiers).reduce(function(t,n){var r=t[n.name];return t[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,t},{})).map(function(t){return i[t]}),d=new Map,p=new Set,m=[],c.forEach(function(t){d.set(t.name,t)}),c.forEach(function(t){p.has(t.name)||function sort(t){p.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!p.has(t)){var n=d.get(t);n&&sort(n)}}),m.push(t)}(t)}),j.reduce(function(t,n){return t.concat(m.filter(function(t){return t.phase===n}))},[]));return o.orderedModifiers=v.filter(function(t){return t.enabled}),o.orderedModifiers.forEach(function(t){var n=t.name,r=t.options,i=t.effect;if("function"==typeof i){var s=i({state:o,name:n,instance:u,options:void 0===r?{}:r});a.push(s||function(){})}}),u.update()},forceUpdate:function(){if(!c){var t,n,r,i,s,a,l,d,p,m,_,v,b=o.elements,E=b.reference,x=b.popper;if(areValidElements(E,x)){o.rects={reference:(n=getOffsetParent(x),r="fixed"===o.options.strategy,i=isHTMLElement(n),d=isHTMLElement(n)&&(a=w((s=n.getBoundingClientRect()).width)/n.offsetWidth||1,l=w(s.height)/n.offsetHeight||1,1!==a||1!==l),p=getDocumentElement(n),m=getBoundingClientRect(E,d,r),_={scrollLeft:0,scrollTop:0},v={x:0,y:0},(i||!i&&!r)&&(("body"!==getNodeName(n)||isScrollParent(p))&&(_=(t=n)!==getWindow(t)&&isHTMLElement(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:getWindowScroll(t)),isHTMLElement(n)?(v=getBoundingClientRect(n,!0),v.x+=n.clientLeft,v.y+=n.clientTop):p&&(v.x=getWindowScrollBarX(p))),{x:m.left+_.scrollLeft-v.x,y:m.top+_.scrollTop-v.y,width:m.width,height:m.height}),popper:getLayoutRect(x)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach(function(t){return o.modifiersData[t.name]=Object.assign({},t.data)});for(var k=0;k<o.orderedModifiers.length;k++){if(!0===o.reset){o.reset=!1,k=-1;continue}var T=o.orderedModifiers[k],C=T.fn,R=T.options,M=void 0===R?{}:R,O=T.name;"function"==typeof C&&(o=C({state:o,options:M,name:O,instance:u})||o)}}}},update:function(){return i||(i=new Promise(function(t){Promise.resolve().then(function(){i=void 0,t(new Promise(function(t){u.forceUpdate(),t(o)}))})})),i},destroy:function(){cleanupModifierEffects(),c=!0}};if(!areValidElements(t,n))return u;function cleanupModifierEffects(){a.forEach(function(t){return t()}),a=[]}return u.setOptions(r).then(function(t){!c&&r.onFirstUpdate&&r.onFirstUpdate(t)}),u}),G=["enabled","placement","strategy","modifiers"],W={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>void 0},q={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{let{reference:n,popper:r}=t.elements;if("removeAttribute"in n){let t=(n.getAttribute("aria-describedby")||"").split(",").filter(t=>t.trim()!==r.id);t.length?n.setAttribute("aria-describedby",t.join(",")):n.removeAttribute("aria-describedby")}},fn:({state:t})=>{var n;let{popper:r,reference:i}=t.elements,o=null==(n=r.getAttribute("role"))?void 0:n.toLowerCase();if(r.id&&"tooltip"===o&&"setAttribute"in i){let t=i.getAttribute("aria-describedby");if(t&&-1!==t.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",t?`${t},${r.id}`:r.id)}}},Y=[];var esm_usePopper=function(t,n,r={}){let{enabled:i=!0,placement:o="bottom",strategy:s="absolute",modifiers:a=Y}=r,l=function(t,n){if(null==t)return{};var r,i,o={},s=Object.keys(t);for(i=0;i<s.length;i++)r=s[i],n.indexOf(r)>=0||(o[r]=t[r]);return o}(r,G),u=(0,c.useRef)(a),d=(0,c.useRef)(),p=(0,c.useCallback)(()=>{var t;null==(t=d.current)||t.update()},[]),m=(0,c.useCallback)(()=>{var t;null==(t=d.current)||t.forceUpdate()},[]),[_,v]=esm_useSafeState((0,c.useState)({placement:o,update:p,forceUpdate:m,attributes:{},styles:{popper:{},arrow:{}}})),b=(0,c.useMemo)(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:t})=>{let n={},r={};Object.keys(t.elements).forEach(i=>{n[i]=t.styles[i],r[i]=t.attributes[i]}),v({state:t,styles:n,attributes:r,update:p,forceUpdate:m,placement:t.placement})}}),[p,m,v]),E=(0,c.useMemo)(()=>(dequal(u.current,a)||(u.current=a),u.current),[a]);return(0,c.useEffect)(()=>{d.current&&i&&d.current.setOptions({placement:o,strategy:s,modifiers:[...E,b,W]})},[s,o,b,i,E]),(0,c.useEffect)(()=>{if(i&&null!=t&&null!=n)return d.current=H(t,n,Object.assign({},l,{placement:o,strategy:s,modifiers:[...E,q,b]})),()=>{null!=d.current&&(d.current.destroy(),d.current=void 0,v(t=>Object.assign({},t,{attributes:{},styles:{popper:{}}})))}},[i,t,n]),_},z=r(72950),Z=r(67216),V=r(51176),K=r(90424),J=r(42473),X=r.n(J);let noop=()=>{},getRefTarget=t=>t&&("current"in t?t.current:t),Q={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};var esm_useClickOutside=function(t,n=noop,{disabled:r,clickTrigger:i="click"}={}){let o=(0,c.useRef)(!1),s=(0,c.useRef)(!1),a=(0,c.useCallback)(n=>{let r=getRefTarget(t);X()(!!r,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),o.current=!r||!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)||0!==n.button||!!(0,K.Z)(r,n.target)||s.current,s.current=!1},[t]),l=(0,V.Z)(n=>{let r=getRefTarget(t);r&&(0,K.Z)(r,n.target)&&(s.current=!0)}),u=(0,V.Z)(t=>{o.current||n(t)});(0,c.useEffect)(()=>{if(r||null==t)return;let n=(0,Z.Z)(getRefTarget(t)),o=(n.defaultView||window).event,s=null;Q[i]&&(s=(0,z.Z)(n,Q[i],l,!0));let c=(0,z.Z)(n,i,a,!0),d=(0,z.Z)(n,i,t=>{if(t===o){o=void 0;return}u(t)}),p=[];return"ontouchstart"in n.documentElement&&(p=[].slice.call(n.body.children).map(t=>(0,z.Z)(t,"mousemove",noop))),()=>{null==s||s(),c(),d(),p.forEach(t=>t())}},[t,r,i,a,l,u])},ee=r(96899);let useRootClose_noop=()=>{};var esm_useRootClose=function(t,n,{disabled:r,clickTrigger:i}={}){let o=n||useRootClose_noop;esm_useClickOutside(t,o,{disabled:r,clickTrigger:i});let s=(0,V.Z)(t=>{(0,ee.k)(t)&&o(t)});(0,c.useEffect)(()=>{if(r||null==t)return;let n=(0,Z.Z)(getRefTarget(t)),i=(n.defaultView||window).event,o=(0,z.Z)(n,"keyup",t=>{if(t===i){i=void 0;return}s(t)});return()=>{o()}},[t,r,s])},et=r(54194),en=r(722);let er=c.forwardRef((t,n)=>{let{flip:r,offset:i,placement:o,containerPadding:s,popperConfig:a={},transition:l,runTransition:u}=t,[d,v]=(0,m.Z)(),[b,E]=(0,m.Z)(),x=(0,_.Z)(v,n),w=(0,et.Z)(t.container),k=(0,et.Z)(t.target),[T,C]=(0,c.useState)(!t.show),R=esm_usePopper(k,d,function({enabled:t,enableEvents:n,placement:r,flip:i,offset:o,fixed:s,containerPadding:a,arrowElement:l,popperConfig:c={}}){var u,d,p,m,_;let v=function(t){let n={};return Array.isArray(t)?(null==t||t.forEach(t=>{n[t.name]=t}),n):t||n}(c.modifiers);return Object.assign({},c,{placement:r,enabled:t,strategy:s?"fixed":c.strategy,modifiers:function(t={}){return Array.isArray(t)?t:Object.keys(t).map(n=>(t[n].name=n,t[n]))}(Object.assign({},v,{eventListeners:{enabled:n,options:null==(u=v.eventListeners)?void 0:u.options},preventOverflow:Object.assign({},v.preventOverflow,{options:a?Object.assign({padding:a},null==(d=v.preventOverflow)?void 0:d.options):null==(p=v.preventOverflow)?void 0:p.options}),offset:{options:Object.assign({offset:o},null==(m=v.offset)?void 0:m.options)},arrow:Object.assign({},v.arrow,{enabled:!!l,options:Object.assign({},null==(_=v.arrow)?void 0:_.options,{element:l})}),flip:Object.assign({enabled:!!i},v.flip)}))})}({placement:o,enableEvents:!!t.show,containerPadding:s||5,flip:r,offset:i,arrowElement:b,popperConfig:a}));t.show&&T&&C(!1);let M=t.show||!T;if(esm_useRootClose(d,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!M)return null;let{onExit:O,onExiting:I,onEnter:N,onEntering:D,onEntered:P}=t,j=t.children(Object.assign({},R.attributes.popper,{style:R.styles.popper,ref:x}),{popper:R,placement:o,show:!!t.show,arrowProps:Object.assign({},R.attributes.arrow,{style:R.styles.arrow,ref:E})});return j=(0,en.sD)(l,u,{in:!!t.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:j,onExit:O,onExiting:I,onExited:(...n)=>{C(!0),t.onExited&&t.onExited(...n)},onEnter:N,onEntering:D,onEntered:P}),w?p.createPortal(j,w):null});er.displayName="Overlay";var ei=r(99585),eo=r(11132),es=r(76792),ea=r(66611),el=(0,ea.Z)("popover-header"),ec=(0,ea.Z)("popover-body"),eu=r(79883),ed=r(53706),ep=r(85893);let eh=c.forwardRef(({bsPrefix:t,placement:n,className:r,style:i,children:o,body:s,arrowProps:a,hasDoneInitialMeasure:l,popper:c,show:u,...p},m)=>{let _=(0,es.vE)(t,"popover"),v=(0,es.SC)(),[b]=(null==n?void 0:n.split("-"))||[],E=(0,eu.z)(b,v),x=i;return u&&!l&&(x={...i,...(0,ed.Z)(null==c?void 0:c.strategy)}),(0,ep.jsxs)("div",{ref:m,role:"tooltip",style:x,"x-placement":b,className:d()(r,_,b&&`bs-popover-${E}`),...p,children:[(0,ep.jsx)("div",{className:"popover-arrow",...a}),s?(0,ep.jsx)(ec,{children:o}):o]})});eh.defaultProps={placement:"right"};var ef=Object.assign(eh,{Header:el,Body:ec,POPPER_OFFSET:[0,8]}),em=r(77819),eg=r(8285);let e_={transition:em.Z,rootClose:!1,show:!1,placement:"top"},ey=c.forwardRef(({children:t,transition:n,popperConfig:r={},...i},o)=>{let s=(0,c.useRef)({}),[a,l]=(0,c.useState)(null),[u,p]=function(t){let n=(0,c.useRef)(null),r=(0,es.vE)(void 0,"popover"),i=(0,c.useMemo)(()=>({name:"offset",options:{offset:()=>n.current&&(0,eo.Z)(n.current,r)?t||ef.POPPER_OFFSET:t||[0,0]}}),[t,r]);return[n,[i]]}(i.offset),m=(0,_.Z)(o,u),v=!0===n?em.Z:n||void 0,b=(0,V.Z)(t=>{l(t),null==r||null==r.onFirstUpdate||r.onFirstUpdate(t)});return(0,ei.Z)(()=>{a&&(null==s.current.scheduleUpdate||s.current.scheduleUpdate())},[a]),(0,c.useEffect)(()=>{i.show||l(null)},[i.show]),(0,ep.jsx)(er,{...i,ref:m,popperConfig:{...r,modifiers:p.concat(r.modifiers||[]),onFirstUpdate:b},transition:v,children:(i,{arrowProps:o,popper:l,show:u})=>{var p,m;!function(t,n){let{ref:r}=t,{ref:i}=n;t.ref=r.__wrapped||(r.__wrapped=t=>r((0,eg.Z)(t))),n.ref=i.__wrapped||(i.__wrapped=t=>i((0,eg.Z)(t)))}(i,o);let _=null==l?void 0:l.placement,v=Object.assign(s.current,{state:null==l?void 0:l.state,scheduleUpdate:null==l?void 0:l.update,placement:_,outOfBoundaries:(null==l?void 0:null==(p=l.state)?void 0:null==(m=p.modifiersData.hide)?void 0:m.isReferenceHidden)||!1,strategy:r.strategy}),b=!!a;return"function"==typeof t?t({...i,placement:_,show:u,...!n&&u&&{className:"show"},popper:v,arrowProps:o,hasDoneInitialMeasure:b}):c.cloneElement(t,{...i,placement:_,arrowProps:o,popper:v,hasDoneInitialMeasure:b,className:d()(t.props.className,!n&&u&&"show"),style:{...t.props.style,...i.style}})}})});ey.displayName="Overlay",ey.defaultProps=e_;var ev=ey},76792:function(t,n,r){"use strict";r.d(n,{SC:function(){return useIsRTL},pi:function(){return useBootstrapBreakpoints},vE:function(){return useBootstrapPrefix},zG:function(){return useBootstrapMinBreakpoint}});var i=r(67294);r(85893);let o=i.createContext({prefixes:{},breakpoints:["xxl","xl","lg","md","sm","xs"],minBreakpoint:"xs"}),{Consumer:s,Provider:a}=o;function useBootstrapPrefix(t,n){let{prefixes:r}=(0,i.useContext)(o);return t||r[n]||n}function useBootstrapBreakpoints(){let{breakpoints:t}=(0,i.useContext)(o);return t}function useBootstrapMinBreakpoint(){let{minBreakpoint:t}=(0,i.useContext)(o);return t}function useIsRTL(){let{dir:t}=(0,i.useContext)(o);return"rtl"===t}},43489:function(t,n,r){"use strict";var i=r(94184),o=r.n(i),s=r(67294),a=r(76792),l=r(79883),c=r(53706),u=r(85893);let d=s.forwardRef(({bsPrefix:t,placement:n,className:r,style:i,children:s,arrowProps:d,hasDoneInitialMeasure:p,popper:m,show:_,...v},b)=>{t=(0,a.vE)(t,"tooltip");let E=(0,a.SC)(),[x]=(null==n?void 0:n.split("-"))||[],w=(0,l.z)(x,E),k=i;return _&&!p&&(k={...i,...(0,c.Z)(null==m?void 0:m.strategy)}),(0,u.jsxs)("div",{ref:b,style:k,role:"tooltip","x-placement":x,className:o()(r,t,`bs-tooltip-${w}`),...v,children:[(0,u.jsx)("div",{className:"tooltip-arrow",...d}),(0,u.jsx)("div",{className:`${t}-inner`,children:s})]})});d.defaultProps={placement:"right"},d.displayName="Tooltip",n.Z=d},66611:function(t,n,r){"use strict";r.d(n,{Z:function(){return createWithBsPrefix}});var i=r(94184),o=r.n(i),s=/-(.)/g,a=r(67294),l=r(76792),c=r(85893);let pascalCase=t=>t[0].toUpperCase()+t.replace(s,function(t,n){return n.toUpperCase()}).slice(1);function createWithBsPrefix(t,{displayName:n=pascalCase(t),Component:r,defaultProps:i}={}){let s=a.forwardRef(({className:n,bsPrefix:i,as:s=r||"div",...a},u)=>{let d=(0,l.vE)(i,t);return(0,c.jsx)(s,{ref:u,className:o()(n,d),...a})});return s.defaultProps=i,s.displayName=n,s}},53706:function(t,n,r){"use strict";function getInitialPopperStyles(t="absolute"){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}r.d(n,{Z:function(){return getInitialPopperStyles}})},79883:function(t,n,r){"use strict";function getOverlayDirection(t,n){let r=t;return"left"===t?r=n?"end":"start":"right"===t&&(r=n?"start":"end"),r}r.d(n,{z:function(){return getOverlayDirection}}),r(67294)},8285:function(t,n,r){"use strict";r.d(n,{Z:function(){return safeFindDOMNode}});var i=r(73935);function safeFindDOMNode(t){return t&&"setState"in t?i.findDOMNode(t):null!=t?t:null}},39325:function(t,n,r){"use strict";r.d(n,{cn:function(){return _},d0:function(){return m},ZP:function(){return E}});var i=r(63366),o=r(75068),s=r(67294),a=r(73935),l={disabled:!1},c=s.createContext(null),u=r(59391),d="unmounted",p="exited",m="entering",_="entered",v="exiting",b=function(t){function Transition(n,r){i=t.call(this,n,r)||this;var i,o,s=r&&!r.isMounting?n.enter:n.appear;return i.appearStatus=null,n.in?s?(o=p,i.appearStatus=m):o=_:o=n.unmountOnExit||n.mountOnEnter?d:p,i.state={status:o},i.nextCallback=null,i}(0,o.Z)(Transition,t),Transition.getDerivedStateFromProps=function(t,n){return t.in&&n.status===d?{status:p}:null};var n=Transition.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(t){var n=null;if(t!==this.props){var r=this.state.status;this.props.in?r!==m&&r!==_&&(n=m):(r===m||r===_)&&(n=v)}this.updateStatus(!1,n)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var t,n,r,i=this.props.timeout;return t=n=r=i,null!=i&&"number"!=typeof i&&(t=i.exit,n=i.enter,r=void 0!==i.appear?i.appear:n),{exit:t,enter:n,appear:r}},n.updateStatus=function(t,n){if(void 0===t&&(t=!1),null!==n){if(this.cancelNextCallback(),n===m){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this);r&&(0,u.Q)(r)}this.performEnter(t)}else this.performExit()}else this.props.unmountOnExit&&this.state.status===p&&this.setState({status:d})},n.performEnter=function(t){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:t,o=this.props.nodeRef?[i]:[a.findDOMNode(this),i],s=o[0],c=o[1],u=this.getTimeouts(),d=i?u.appear:u.enter;if(!t&&!r||l.disabled){this.safeSetState({status:_},function(){n.props.onEntered(s)});return}this.props.onEnter(s,c),this.safeSetState({status:m},function(){n.props.onEntering(s,c),n.onTransitionEnd(d,function(){n.safeSetState({status:_},function(){n.props.onEntered(s,c)})})})},n.performExit=function(){var t=this,n=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:a.findDOMNode(this);if(!n||l.disabled){this.safeSetState({status:p},function(){t.props.onExited(i)});return}this.props.onExit(i),this.safeSetState({status:v},function(){t.props.onExiting(i),t.onTransitionEnd(r.exit,function(){t.safeSetState({status:p},function(){t.props.onExited(i)})})})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(t,n){n=this.setNextCallback(n),this.setState(t,n)},n.setNextCallback=function(t){var n=this,r=!0;return this.nextCallback=function(i){r&&(r=!1,n.nextCallback=null,t(i))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},n.onTransitionEnd=function(t,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),i=null==t&&!this.props.addEndListener;if(!r||i){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],s=o[0],l=o[1];this.props.addEndListener(s,l)}null!=t&&setTimeout(this.nextCallback,t)},n.render=function(){var t=this.state.status;if(t===d)return null;var n=this.props,r=n.children,o=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,i.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return s.createElement(c.Provider,{value:null},"function"==typeof r?r(t,o):s.cloneElement(s.Children.only(r),o))},Transition}(s.Component);function noop(){}b.contextType=c,b.propTypes={},b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop},b.UNMOUNTED=d,b.EXITED=p,b.ENTERING=m,b.ENTERED=_,b.EXITING=v;var E=b},59391:function(t,n,r){"use strict";r.d(n,{Q:function(){return forceReflow}});var forceReflow=function(t){return t.scrollTop}},42473:function(t){"use strict";t.exports=function(){}},73897:function(t){t.exports=function(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,i=Array(n);r<n;r++)i[r]=t[r];return i},t.exports.__esModule=!0,t.exports.default=t.exports},85372:function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},66115:function(t){t.exports=function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},17156:function(t){function asyncGeneratorStep(t,n,r,i,o,s,a){try{var l=t[s](a),c=l.value}catch(t){r(t);return}l.done?n(c):Promise.resolve(c).then(i,o)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise(function(i,o){var s=t.apply(n,r);function _next(t){asyncGeneratorStep(s,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(s,i,o,_next,_throw,"throw",t)}_next(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports},56690:function(t){t.exports=function(t,n){if(!(t instanceof n))throw TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},3515:function(t,n,r){var i=r(6015),o=r(69617);function _construct(n,r,s){return o()?t.exports=_construct=Reflect.construct.bind():t.exports=_construct=function(t,n,r){var o=[null];o.push.apply(o,n);var s=new(Function.bind.apply(t,o));return r&&i(s,r.prototype),s},t.exports.__esModule=!0,t.exports.default=t.exports,_construct.apply(null,arguments)}t.exports=_construct,t.exports.__esModule=!0,t.exports.default=t.exports},89728:function(t,n,r){var i=r(64062);function _defineProperties(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,i(o.key),o)}}t.exports=function(t,n,r){return n&&_defineProperties(t.prototype,n),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},38416:function(t,n,r){var i=r(64062);t.exports=function(t,n,r){return(n=i(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports},73808:function(t){function _getPrototypeOf(n){return t.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,_getPrototypeOf(n)}t.exports=_getPrototypeOf,t.exports.__esModule=!0,t.exports.default=t.exports},61655:function(t,n,r){var i=r(6015);t.exports=function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&i(t,n)},t.exports.__esModule=!0,t.exports.default=t.exports},64836:function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},46035:function(t){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")},t.exports.__esModule=!0,t.exports.default=t.exports},69617:function(t){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports.default=t.exports},68872:function(t){t.exports=function(t,n){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var i,o,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,0===n){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=s.call(r)).done)&&(l.push(i.value),l.length!==n);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}},t.exports.__esModule=!0,t.exports.default=t.exports},12218:function(t){t.exports=function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},94993:function(t,n,r){var i=r(18698).default,o=r(66115);t.exports=function(t,n){if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return o(t)},t.exports.__esModule=!0,t.exports.default=t.exports},17061:function(t,n,r){var i=r(18698).default;function _regeneratorRuntime(){"use strict";/*!regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE*/t.exports=_regeneratorRuntime=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var n={},r=Object.prototype,o=r.hasOwnProperty,s=Object.defineProperty||function(t,n,r){t[n]=r.value},a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function define(t,n,r){return Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{define({},"")}catch(t){define=function(t,n,r){return t[n]=r}}function wrap(t,n,r,i){var o,a,l=Object.create((n&&n.prototype instanceof Generator?n:Generator).prototype);return s(l,"_invoke",{value:(o=new Context(i||[]),a="suspendedStart",function(n,i){if("executing"===a)throw Error("Generator is already running");if("completed"===a){if("throw"===n)throw i;return doneResult()}for(o.method=n,o.arg=i;;){var s=o.delegate;if(s){var l=function maybeInvokeDelegate(t,n){var r=n.method,i=t.iterator[r];if(void 0===i)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=void 0,maybeInvokeDelegate(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),d;var o=tryCatch(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,d;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,d):s:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,d)}(s,o);if(l){if(l===d)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if("suspendedStart"===a)throw a="completed",o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a="executing";var c=tryCatch(t,r,o);if("normal"===c.type){if(a=o.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a="completed",o.method="throw",o.arg=c.arg)}})}),l}function tryCatch(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=wrap;var d={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,l,function(){return this});var m=Object.getPrototypeOf,_=m&&m(m(values([])));_&&_!==r&&o.call(_,l)&&(p=_);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach(function(n){define(t,n,function(t){return this._invoke(n,t)})})}function AsyncIterator(t,n){var r;s(this,"_invoke",{value:function(s,a){function callInvokeWithMethodAndArg(){return new n(function(r,l){!function invoke(r,s,a,l){var c=tryCatch(t[r],t,s);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==i(d)&&o.call(d,"__await")?n.resolve(d.__await).then(function(t){invoke("next",t,a,l)},function(t){invoke("throw",t,a,l)}):n.resolve(d).then(function(t){u.value=t,a(u)},function(t){return invoke("throw",t,a,l)})}l(c.arg)}(s,a,r,l)})}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function pushTryEntry(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function resetTryEntry(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(t){if(t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,next=function next(){for(;++r<t.length;)if(o.call(t,r))return next.value=t[r],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,s(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),s(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===GeneratorFunction||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(v),t},n.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,function(){return this}),n.AsyncIterator=AsyncIterator,n.async=function(t,r,i,o,s){void 0===s&&(s=Promise);var a=new AsyncIterator(wrap(t,r,i,o),s);return n.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},defineIteratorMethods(v),define(v,u,"Generator"),define(v,l,function(){return this}),define(v,"toString",function(){return"[object Generator]"}),n.keys=function(t){var n=Object(t),r=[];for(var i in n)r.push(i);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in n)return next.value=t,next.done=!1,next}return next.done=!0,next}},n.values=values,Context.prototype={constructor:Context,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function handle(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var a=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(a&&l){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=t,a.arg=n,s?(this.method="next",this.next=s.finallyLoc,d):this.complete(a)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),d},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),d}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var o=i.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:values(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},n}t.exports=_regeneratorRuntime,t.exports.__esModule=!0,t.exports.default=t.exports},6015:function(t){function _setPrototypeOf(n,r){return t.exports=_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},t.exports.__esModule=!0,t.exports.default=t.exports,_setPrototypeOf(n,r)}t.exports=_setPrototypeOf,t.exports.__esModule=!0,t.exports.default=t.exports},27424:function(t,n,r){var i=r(85372),o=r(68872),s=r(86116),a=r(12218);t.exports=function(t,n){return i(t)||o(t,n)||s(t,n)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},95036:function(t,n,r){var i=r(18698).default;t.exports=function(t,n){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,n||"default");if("object"!==i(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},64062:function(t,n,r){var i=r(18698).default,o=r(95036);t.exports=function(t){var n=o(t,"string");return"symbol"===i(n)?n:String(n)},t.exports.__esModule=!0,t.exports.default=t.exports},18698:function(t){function _typeof(n){return t.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,_typeof(n)}t.exports=_typeof,t.exports.__esModule=!0,t.exports.default=t.exports},86116:function(t,n,r){var i=r(73897);t.exports=function(t,n){if(t){if("string"==typeof t)return i(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(t,n)}},t.exports.__esModule=!0,t.exports.default=t.exports},33496:function(t,n,r){var i=r(73808),o=r(6015),s=r(46035),a=r(3515);function _wrapNativeSuper(n){var r="function"==typeof Map?new Map:void 0;return t.exports=_wrapNativeSuper=function(t){if(null===t||!s(t))return t;if("function"!=typeof t)throw TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper)}function Wrapper(){return a(t,arguments,i(this).constructor)}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),o(Wrapper,t)},t.exports.__esModule=!0,t.exports.default=t.exports,_wrapNativeSuper(n)}t.exports=_wrapNativeSuper,t.exports.__esModule=!0,t.exports.default=t.exports},64687:function(t,n,r){var i=r(17061)();t.exports=i;try{regeneratorRuntime=i}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},87462:function(t,n,r){"use strict";function _extends(){return(_extends=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}r.d(n,{Z:function(){return _extends}})},75068:function(t,n,r){"use strict";function _setPrototypeOf(t,n){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function _inheritsLoose(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,_setPrototypeOf(t,n)}r.d(n,{Z:function(){return _inheritsLoose}})},63366:function(t,n,r){"use strict";function _objectWithoutPropertiesLoose(t,n){if(null==t)return{};var r,i,o={},s=Object.keys(t);for(i=0;i<s.length;i++)r=s[i],n.indexOf(r)>=0||(o[r]=t[r]);return o}r.d(n,{Z:function(){return _objectWithoutPropertiesLoose}})},25364:function(t,n,r){"use strict";r.d(n,{p:function(){return o}});var i=r(67294);let o=(0,i.createContext)({})},240:function(t,n,r){"use strict";r.d(n,{O:function(){return o}});var i=r(67294);let o=(0,i.createContext)(null)},2074:function(t,n,r){"use strict";r.d(n,{Pn:function(){return a},Wi:function(){return s},frameData:function(){return l},S6:function(){return c}});var i=r(81662);let Queue=class Queue{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){let n=this.order.indexOf(t);-1!==n&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}};let o=["prepare","read","update","preRender","render","postRender"],{schedule:s,cancel:a,state:l,steps:c}=function(t,n){let r=!1,i=!0,s={delta:0,timestamp:0,isProcessing:!1},a=o.reduce((t,n)=>(t[n]=function(t){let n=new Queue,r=new Queue,i=0,o=!1,s=!1,a=new WeakSet,l={schedule:(t,s=!1,l=!1)=>{let c=l&&o,u=c?n:r;return s&&a.add(t),u.add(t)&&c&&o&&(i=n.order.length),t},cancel:t=>{r.remove(t),a.delete(t)},process:c=>{if(o){s=!0;return}if(o=!0,[n,r]=[r,n],r.clear(),i=n.order.length)for(let r=0;r<i;r++){let i=n.order[r];i(c),a.has(i)&&(l.schedule(i),t())}o=!1,s&&(s=!1,l.process(c))}};return l}(()=>r=!0),t),{}),processStep=t=>a[t].process(s),processBatch=()=>{let a=performance.now();r=!1,s.delta=i?1e3/60:Math.max(Math.min(a-s.timestamp,40),1),s.timestamp=a,s.isProcessing=!0,o.forEach(processStep),s.isProcessing=!1,r&&n&&(i=!1,t(processBatch))},wake=()=>{r=!0,i=!0,s.isProcessing||t(processBatch)},l=o.reduce((t,n)=>{let i=a[n];return t[n]=(t,n=!1,o=!1)=>(r||wake(),i.schedule(t,n,o)),t},{});return{schedule:l,cancel:t=>o.forEach(n=>a[n].cancel(t)),state:s,steps:a}}("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:i.Z,!0)},45487:function(t,n,r){"use strict";r.d(n,{K:function(){return o},k:function(){return s}});var i=r(81662);let o=i.Z,s=i.Z},11741:function(t,n,r){"use strict";r.d(n,{j:function(){return i}});let i="undefined"!=typeof document},81662:function(t,n,r){"use strict";r.d(n,{Z:function(){return noop}});let noop=t=>t},96681:function(t,n,r){"use strict";r.d(n,{h:function(){return useConstant}});var i=r(67294);function useConstant(t){let n=(0,i.useRef)(null);return null===n.current&&(n.current=t()),n.current}},58868:function(t,n,r){"use strict";r.d(n,{L:function(){return s}});var i=r(67294),o=r(11741);let s=o.j?i.useLayoutEffect:i.useEffect}},function(t){var __webpack_exec__=function(n){return t(t.s=n)};t.O(0,[774,179],function(){return __webpack_exec__(65822),__webpack_exec__(6840),__webpack_exec__(59974)}),_N_E=t.O()}]);